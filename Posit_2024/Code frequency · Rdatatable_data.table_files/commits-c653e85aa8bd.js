"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits"],{62689:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(20053),r=a(96540),i=a(38267),s=a(75177),o=a(59299),l=a(44999);let d=i.Ay.li.withConfig({displayName:"Breadcrumbs__Wrapper",componentId:"sc-9m4wsf-0"})(["display:inline-block;white-space:nowrap;list-style:none;&::after{font-size:",";content:'';display:inline-block;height:0.8em;margin:0 0.5em;border-right:0.1em solid;border-color:",";transform:rotate(15deg) translateY(0.0625em);}&:first-child{margin-left:0;}&:last-child{&::after{content:none;}}"],(0,o.Jt)("fontSizes.1"),(0,o.Jt)("colors.fg.muted")),c=i.Ay.nav.withConfig({displayName:"Breadcrumbs__BreadcrumbsBase",componentId:"sc-9m4wsf-1"})(["display:flex;justify-content:space-between;",";"],l.A);function m({className:e,children:t,sx:a}){let n=r.Children.map(t,e=>r.createElement(d,null,e));return r.createElement(c,{className:e,"aria-label":"Breadcrumbs",sx:a},r.createElement(s.A,{as:"ol",my:0,pl:0},n))}m.displayName="Breadcrumbs";let u=i.Ay.a.attrs(e=>({className:(0,n.A)(e.selected&&"selected",e.className),"aria-current":e.selected?"page":null})).withConfig({displayName:"Breadcrumbs__BreadcrumbsItem",componentId:"sc-9m4wsf-2"})(["color:",";display:inline-block;font-size:",";text-decoration:none;&:hover,&:focus{text-decoration:underline;}&.selected{color:",";pointer-events:none;}&.selected:focus{text-decoration:none;}",";"],(0,o.Jt)("colors.accent.fg"),(0,o.Jt)("fontSizes.1"),(0,o.Jt)("colors.fg.default"),l.A);m.displayName="Breadcrumbs",u.displayName="Breadcrumbs.Item";var f=Object.assign(m,{Item:u});Object.assign(m,{Item:u})},15033:(e,t,a)=>{a.d(t,{g:()=>o});var n=a(96540),r=a(51207),i=a(24164),s=a(95286);function o({children:e,flags:t}){let a=(0,n.useMemo)(()=>i.X.merge(s.V,i.X.create(t)),[t]);return n.createElement(r.c.Provider,{value:a},e)}o.displayName="FeatureFlags"},56628:(e,t,a)=>{a.d(t,{B:()=>u});var n=a(96540),r=a(38267);function i(e,t){return null==t?void 0:"object"==typeof t?Object.fromEntries(Object.entries(t).map(([t,a])=>s(`data-${e}-${t}`,a))):Object.fromEntries([s(`data-${e}`,t)])}function s(e,t){return"boolean"==typeof t?t?[e,""]:[]:[e,t]}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}let l=r.Ay.div.withConfig({displayName:"Stack__StyledStack",componentId:"sc-x3xa2i-0"})(["display:flex;flex-flow:column;align-items:stretch;align-content:flex-start;gap:var(--stack-gap,var(--stack-gap-normal,1rem));&[data-padding='none'],&[data-padding-narrow='none']{padding:0;}&[data-padding='condensed'],&[data-padding-narrow='condensed']{padding:var(--stack-padding-condensed,8px);}&[data-padding='normal'],&[data-padding-narrow='normal']{padding:var(--stack-padding-normal,16px);}&[data-padding='spacious'],&[data-padding-narrow='spacious']{padding:var(--stack-padding-spacious,24px);}&[data-direction='horizontal'],&[data-direction-narrow='horizontal']{flex-flow:row;}&[data-direction='vertical'],&[data-direction-narrow='vertical']{flex-flow:column;}&[data-gap='none'],&[data-gap-narrow='none']{--stack-gap:var(--stack-gap-none,0);}&[data-gap='condensed'],&[data-gap-narrow='condensed']{--stack-gap:var(--stack-gap-condensed,0.5rem);}&[data-gap='normal'],&[data-gap-narrow='normal']{--stack-gap:var(--stack-gap-normal,1rem);}&[data-gap='spacious'],&[data-gap-narrow='spacious']{--stack-gap:var(--stack-gap-spacious,1.5rem);}&[data-align='start'],&[data-align-narrow='start']{align-items:flex-start;}&[data-align='center'],&[data-align-narrow='center']{align-items:center;}&[data-align='end'],&[data-align-narrow='end']{align-items:flex-end;}&[data-align='baseline'],&[data-align-narrow='baseline']{align-items:baseline;}&[data-justify='start'],&[data-justify-narrow='start']{justify-content:flex-start;}&[data-justify='center'],&[data-justify-narrow='center']{justify-content:center;}&[data-justify='end'],&[data-justify-narrow='end']{justify-content:flex-end;}&[data-justify='space-between'],&[data-justify-narrow='space-between']{justify-content:space-between;}&[data-justify='space-evenly'],&[data-justify-narrow='space-evenly']{justify-content:space-evenly;}&[data-wrap='wrap'],&[data-wrap-narrow='wrap']{flex-wrap:wrap;}&[data-wrap='nowrap'],&[data-wrap-narrow='nowrap']{flex-wrap:nowrap;}@media (min-width:48rem){&[data-padding-regular='none']{padding:0;}&[data-padding-regular='condensed']{padding:var(--stack-padding-condensed,8px);}&[data-padding-regular='normal']{padding:var(--stack-padding-normal,16px);}&[data-padding-regular='spacious']{padding:var(--stack-padding-spacious,24px);}&[data-direction-regular='horizontal']{flex-flow:row;}&[data-direction-regular='vertical']{flex-flow:column;}&[data-gap-regular='none']{--stack-gap:var(--stack-gap-none,0);}&[data-gap-regular='condensed']{--stack-gap:var(--stack-gap-condensed,0.5rem);}&[data-gap-regular='normal']{--stack-gap:var(--stack-gap-normal,1rem);}&[data-gap-regular='spacious']{--stack-gap:var(--stack-gap-spacious,1.5rem);}&[data-align-regular='start']{align-items:flex-start;}&[data-align-regular='center']{align-items:center;}&[data-align-regular='end']{align-items:flex-end;}&[data-align-regular='baseline']{align-items:baseline;}&[data-justify-regular='start']{justify-content:flex-start;}&[data-justify-regular='center']{justify-content:center;}&[data-justify-regular='end']{justify-content:flex-end;}&[data-justify-regular='space-between']{justify-content:space-between;}&[data-justify-regular='space-evenly']{justify-content:space-evenly;}&[data-wrap-regular='wrap']{flex-wrap:wrap;}&[data-wrap-regular='nowrap']{flex-wrap:nowrap;}}@media (min-width:87.5rem){&[data-padding-wide='none']{padding:0;}&[data-padding-wide='condensed']{padding:var(--stack-padding-condensed,8px);}&[data-padding-wide='normal']{padding:var(--stack-padding-normal,16px);}&[data-padding-wide='spacious']{padding:var(--stack-padding-spacious,24px);}&[data-direction-wide='horizontal']{flex-flow:row;}&[data-direction-wide='vertical']{flex-flow:column;}&[data-gap-wide='none']{--stack-gap:var(--stack-gap-none,0);}&[data-gap-wide='condensed']{--stack-gap:var(--stack-gap-condensed,0.5rem);}&[data-gap-wide='normal']{--stack-gap:var(--stack-gap-normal,1rem);}&[data-gap-wide='spacious']{--stack-gap:var(--stack-gap-spacious,1.5rem);}&[data-align-wide='start']{align-items:flex-start;}&[data-align-wide='center']{align-items:center;}&[data-align-wide='end']{align-items:flex-end;}&[data-align-wide='baseline']{align-items:baseline;}&[data-justify-wide='start']{justify-content:flex-start;}&[data-justify-wide='center']{justify-content:center;}&[data-justify-wide='end']{justify-content:flex-end;}&[data-justify-wide='space-between']{justify-content:space-between;}&[data-justify-wide='space-evenly']{justify-content:space-evenly;}}"]);function d({as:e,children:t,align:a="stretch",direction:r="vertical",gap:s,justify:d="start",padding:c="none",wrap:m="nowrap",...u}){return n.createElement(l,o({},u,{as:null!=e?e:"div"},i("gap",s),i("direction",r),i("align",a),i("wrap",m),i("justify",d),i("padding",c)),t)}d.displayName="Stack";let c=r.Ay.div.withConfig({displayName:"Stack__StyledStackItem",componentId:"sc-x3xa2i-1"})(["flex:0 1 auto;min-inline-size:0;&[data-grow],&[data-grow-narrow]{flex-grow:1;}@media (min-width:48rem){&[data-grow-regular]{flex-grow:1;}}@media (min-width:87.5rem){&[data-grow-wide]{flex-grow:1;}}"]);function m({as:e,children:t,grow:a=!1,...r}){return n.createElement(c,o({},r,{as:null!=e?e:"div"},i("grow",a)),t)}m.displayName="StackItem";let u=Object.assign(d,{Item:m})},866:(e,t,a)=>{var n,r=a(86233),i=a(79840),s=a(74848),o=a(89504),l=a(86584),d=a(82897),c=a(96540);function m(e){let t=(0,d.B)(),[a]=(0,c.useState)(t?.repo),[n]=(0,c.useState)(t?.currentUser);return(0,s.jsx)(l.Q,{user:n,children:(0,s.jsx)(o.d,{repository:a,children:e.children})})}try{m.displayName||(m.displayName="App")}catch{}var u=a(36220),f=a(76515),p=a(88234),h=a(83056),g=a(83028),x=a(97156),y=a(90600),j=a(95140),w=a(69144),b=a(93653),_=a(18312),v=a(84116),N=a(56226),C=a(15820),k=a(22084),S=a(13894),I=a(92979),A=a(59857),D=a(85053),L=a(86519),T=a(55847),E=a(69909),R=a(80577),F=a(83808),P=a(87213),B=a(47373),$=a(94034),H=a(11732),O=a(29367),M=a(15941),V=a(7512),U=a(30729),W=a(94153);function z({data:e}){let t=(0,o.t)();return e.loading||0!==e.branches.length?(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap fgColor-muted border-bottom p-3 gap-1",children:[(0,s.jsx)(U.A,{className:"mr-1",icon:A.GitBranchIcon}),e.loading?(0,s.jsx)(I.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((a,n)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(q,{branch:a,repo:t}),n!==e.branches.length-1?(0,s.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},a.branch))]}):null}function q({branch:e,repo:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.A,{className:"mx-1",href:(0,h.WJ)({owner:t.ownerLogin,repo:t.name,branch:e.branch}),children:e.branch}),e.prs.length>0?(0,s.jsxs)(s.Fragment,{children:["(",e.prs.map((t,a)=>(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(G,{pullRequest:t}),a!==e.prs.length-1?(0,s.jsx)(s.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function G({pullRequest:e}){let{repo:t,number:a,showPrefix:n}=e,r=n?`${t.ownerLogin}/${t.name}`:"";return(0,s.jsxs)(L.A,{href:(0,h.oD)({repo:t,number:a}),className:"fgColor-muted","data-hovercard-url":(0,h.i9)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:a}),children:[r,"#",a]})}try{z.displayName||(z.displayName="CommitBranchInfo")}catch{}try{q.displayName||(q.displayName="BranchFragment")}catch{}try{G.displayName||(G.displayName="PullRequestLink")}catch{}var Q=a(87330),K=a(17909),X=a(86079);function Y({data:e}){let t=(0,o.t)();if(0===e.tags.length)return null;let a=e.tags.length>2&&e.tags.length<25,n=e.tags.length>=25;return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap border-bottom p-3 gap-1",children:[(0,s.jsx)(U.A,{className:"mr-2",icon:A.TagIcon}),(0,s.jsx)(L.A,{href:(0,h.cp)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),a?(0,s.jsx)(J,{tags:e.tags,repo:t}):null,n?(0,s.jsx)(Z,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,s.jsx)(L.A,{href:(0,h.cp)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function J({tags:e,repo:t}){let[a,n]=(0,c.useState)(!1),r=(0,c.useRef)(null),i=(0,c.useCallback)(()=>{n(!0),requestAnimationFrame(()=>r.current?.focus())},[]);return a?(0,s.jsx)(s.Fragment,{children:e.slice(1,e.length-1).map((e,a)=>(0,s.jsx)(L.A,{ref:0===a?r:null,href:(0,h.cp)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,s.jsx)(Q.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:A.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:i})}function Z({tags:e,repo:t}){let[a,n]=(0,c.useState)(!1),r=(0,c.useRef)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:A.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>n(!0),ref:r}),a&&(0,s.jsx)(X.l,{title:`${e.length} tags`,onClose:()=>n(!1),returnFocusRef:r,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,s.jsx)(K.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,s.jsx)(K.l.LinkItem,{href:(0,h.cp)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{Y.displayName||(Y.displayName="CommitTagInfo")}catch{}try{J.displayName||(J.displayName="ExpandedTags")}catch{}try{Z.displayName||(Z.displayName="CommitTagsDialog")}catch{}var ee=a(65481);function et(){return(0,s.jsxs)(ee.A,{variant:"warning",className:"mb-4",children:[(0,s.jsx)(U.A,{icon:A.AlertIcon,className:"mr-2"}),(0,s.jsx)(E.A,{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{et.displayName||(et.displayName="SpoofedCommitWarningBanner")}catch{}var ea=a(75177),en=a(1719);function er({oid:e,repo:t}){return(0,en.N)(e,t.id)?(0,s.jsxs)(ee.A,{className:"mb-4",children:[(0,s.jsx)(ea.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower image",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,s.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,s.jsx)("p",{children:"We will miss you."})]}):null}try{er.displayName||(er.displayName="WeirichCommitBanner")}catch{}let ei={badgeLabel:"Alpha",feedbackLink:"https://github-grid.enterprise.slack.com/archives/C0357UQ03KN"},es={badgeLabel:"Beta",feedbackLink:"https://gh.io/diff-refresh-feedback"};function eo({commit:e,commitInfo:t}){let{feedbackLink:a,badgeLabel:n}=(0,C.u)("diff_ux_refresh_beta")?es:ei,r=(0,o.t)(),{helpUrl:i}=(0,F.D)(),l=(0,P.I)(`${(0,h.$Q)({owner:r.ownerLogin,repo:r.name,commitish:e.oid})}/deferred_commit_data`),d="";try{d=l?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,s.jsxs)("div",{children:[t.loading||0!==t.branches.length?null:(0,s.jsx)(et,{}),(0,s.jsx)(er,{oid:e.oid,repo:r}),(0,s.jsxs)(V.Z,{children:[(0,s.jsxs)("div",{className:"d-flex flex-column bgColor-muted p-3 border-bottom rounded-top-2",children:[(0,s.jsxs)("div",{className:"d-flex flex-justify-end flex-md-justify-between flex-column-reverse flex-md-row gap-2",children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap gap-2",children:[(0,s.jsx)(k.yx,{html:e.shortMessageMarkdown,className:"markdown-title f4 text-semibold"}),(0,s.jsx)($.d,{oid:e.oid,status:l?.statusCheckStatus?.state,descriptionString:d,repo:r})]}),(0,s.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-justify-between flex-md-justify-end",children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,s.jsx)(D.A,{className:"v-align-middle",variant:"success",children:n}),(0,s.jsx)(L.A,{href:a,target:"_blank",rel:"noopener noreferrer",className:"no-wrap",children:"Give feedback"})]}),(0,s.jsx)(R.m,{text:"Browse the repository at this point in the history",children:(0,s.jsx)(T.Q,{as:L.A,href:(0,h.IO)({repo:r,action:"tree",commitish:e.oid}),leadingVisual:A.FileCodeIcon,children:"Browse files"})})]})]}),e.bodyMessageHtml&&(0,s.jsx)(k.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pt-2 f6 fgColor-muted wb-break-word text-mono"})]}),(0,s.jsx)(z,{data:t}),(0,s.jsx)(Y,{data:t}),(0,s.jsxs)("div",{className:"d-flex flex-justify-between p-3 gap-2 flex-column flex-md-row",children:[(0,s.jsx)(H.j,{commit:e,repo:r,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},children:l?l.signatureInformation?(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(S.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:l.verifiedStatus,signature:{helpUrl:i,...l.signatureInformation}})}):null:(0,s.jsx)(I.O,{className:"ml-2",variant:"rounded",width:O._e})}),(0,s.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,t)=>(0,s.jsxs)(c.Fragment,{children:[0!==t?" + ":"",(0,s.jsx)(L.A,{to:(0,h.$Q)({owner:r.ownerLogin,repo:r.name,commitish:e})+new URL(x.fV.origin+x.fV.pathname+x.fV.search,x.fV.origin).search,as:N.N,className:"color-fg-default Link--inTextBlock","data-hovercard-url":(0,h.fQ)({owner:r.ownerLogin,repo:r.name,commitish:e}),children:(0,B.F)(e)})]},e))," commit ",(0,s.jsx)(E.A,{className:"fgColor-default",children:(0,B.F)(e.oid)}),(0,s.jsx)(M.w,{sha:e.oid,direction:"sw"})]})]})]})]})}try{eo.displayName||(eo.displayName="CommitInfo")}catch{}var el=a(56628),ed=a(21949);function ec({unavailableReason:e,commit:t,commitInfo:a}){let n=em[e];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(el.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:[(0,s.jsx)("h1",{className:"sr-only",children:t.shortMessage}),(0,s.jsx)(eo,{commit:t,commitInfo:a})]}),(0,s.jsxs)(ed.A,{children:[(0,s.jsx)(ed.A.Visual,{children:n.visual}),(0,s.jsx)(ed.A.Heading,{children:n.heading}),(0,s.jsx)(ed.A.Description,{children:n.description}),n.secondaryAction]})]})}let em={corrupt:{visual:(0,s.jsx)(A.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,s.jsx)(ed.A.SecondaryAction,{href:(0,h.y2)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,s.jsx)(A.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,s.jsx)(ed.A.SecondaryAction,{href:(0,h.y2)(),children:"Please contact support for more information"})},timeout:{visual:(0,s.jsx)(A.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,s.jsx)(A.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{ec.displayName||(ec.displayName="CommitUnavailable")}catch{}var eu=a(62353),ef=a(67726),ep=a(73627),eh=a(41631),eg=a(35822),ex=a(27788),ey=a(84928);let ej="/users/diffview",ew=(0,c.createContext)({hideWhitespace:!1,splitPreference:"split",updateHideWhitespace:()=>{},updateSplitPreference:()=>{}});function eb({viewSettings:e,children:t}){let a=(0,ex.Z)(),n=function(e){let t=e,[a]=(0,ex.o)(),n=a.get("diff");return("split"===n||"unified"===n)&&(t=n),t}(e.splitPreference),r=function(e){let t=e,[a]=(0,ex.o)(),n=a.get("w");return"1"===n?t=!0:"0"===n&&(t=!1),t}(e.hideWhitespace),[i,o]=(0,c.useState)(n),[l,d]=(0,c.useState)(r),m=function(){let e=(0,ey.W)(`${ej}?diff=split`,"post"),t=(0,ey.W)(`${ej}?diff=unified`,"post");return async function(a){"split"===a?await e():"unified"===a&&await t()}}(),u=(0,c.useCallback)(e=>{(function(e,t){let a=new URL(window.location.href,window.location.origin);if(t){let n=encodeURIComponent(t);a.searchParams.set(e,n)}else a.searchParams.delete(e);window.history.replaceState({path:a.toString()},"",a.toString())})("diff",e),o(e),m(e)},[m]),f=(0,c.useCallback)(e=>{d(e),a(`${window.location.pathname}?w=${e?"1":"0"}`)},[a]),p=(0,c.useMemo)(()=>({hideWhitespace:l,splitPreference:i,updateHideWhitespace:f,updateSplitPreference:u}),[l,i,f,u]);return(0,s.jsx)(ew.Provider,{value:p,children:t})}function e_(){return(0,c.useContext)(ew)}try{ew.displayName||(ew.displayName="DiffViewSettingsContext")}catch{}try{eb.displayName||(eb.displayName="DiffViewSettingsProvider")}catch{}var ev=a(28784);let eN={extraDiffEntries:[],loading:!0,error:!1};var eC=a(48058);function ek(e){if(!e)return"";let t=e.lastIndexOf(".");return!t||t<0?eC.F7:`.${e.substring(t+1)}`}let eS=(e,t=0)=>`calc(${e}px + ${t}px)`,eI={position:"sticky",zIndex:1,backgroundColor:"canvas.default","&::before":{bg:"canvas.default",content:'""',position:"absolute",display:"block",height:"100%",width:"calc(100% + 30px)",ml:"-14px",mr:-3}};var eA=a(30792),eD=a(65568),eL=a(6256),eT=a(71878),eE=a(81602),eR=a(281);function eF({oid:e,path:t,repo:a,isViewable:n=!0,copilotDiffChatProps:r}){return(0,s.jsxs)(eR.W,{children:[(0,s.jsx)(eR.W.Anchor,{children:(0,s.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,s.jsx)(A.KebabHorizontalIcon,{})})}),(0,s.jsx)(eR.W.Overlay,{children:(0,s.jsxs)(K.l,{children:[(0,s.jsxs)(K.l.LinkItem,{href:(0,h.nD)({repo:a.name,owner:a.ownerLogin,filePath:t,commitish:e}),inactiveText:n?void 0:"Action unavailable",children:[(0,s.jsx)(K.l.LeadingVisual,{children:(0,s.jsx)(A.EyeIcon,{})}),"View file"]}),(0,s.jsxs)(K.l.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(K.l.LeadingVisual,{children:(0,s.jsx)(A.PencilIcon,{})}),"Edit file"]}),(0,s.jsxs)(K.l.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(K.l.LeadingVisual,{children:(0,s.jsx)(A.TrashIcon,{})}),"Delete file"]}),r&&(0,s.jsx)(eE.$,{...r})]})})]})}try{eF.displayName||(eF.displayName="BlobActionsMenu")}catch{}let eP=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:a,fileRendererInfo:n,dependencyDiffPath:r}){let{loaded:i,richDiffData:l}=function(e,t,a,n){let r=!!t.proseDiffHtml||!!t.fileRendererInfo||!!n,i=(0,o.t)(),[s,l]=(0,c.useState)(r),[d,m]=(0,c.useState)(t),u=(0,c.useCallback)(async()=>{let t=await (0,ev.lS)(`${(0,h.$Q)({owner:i.ownerLogin,repo:i.name,commitish:e})}/rich_diff/${encodeURIComponent(a)}`);t.ok&&m(await t.json()),l(!0)},[e,a,i]);return(0,c.useEffect)(()=>{r||u()},[r,u]),{loaded:s,richDiffData:d}}(e,{proseDiffHtml:a,fileRendererInfo:n},t,r);return(0,s.jsx)(u.Uz,{dependencyDiffPath:r,fileRendererInfo:l.fileRendererInfo,loading:!i,proseDiffHtml:l.proseDiffHtml})});try{eP.displayName||(eP.displayName="CommitRichDiff")}catch{}let eB={isInMergeQueue:!1,state:"OPEN"},e$=c.memo(c.forwardRef(eH));function eH({prId:e,diffMatches:t,focusedSearchResult:a,diffEntryData:n,splitPreference:r,contextLinePathURL:i,recalcTotalHeightOfVirtualWindow:o,helpUrl:m,headerStickyOffset:f=0,repo:p,oid:h,index:g,ignoreWhitespace:x,virtualizerScrollTo:y},j){let w=(0,l.i)(),b=function(){let e=(0,d.B)(),{commit:t,commentInfo:a}=e,n=(0,eT.I)({commit:t,repo:e.repo,viewerCanReply:a.canComment}),{addComment:r,deleteComment:i,editComment:s,hideComment:o,unhideComment:l}=(0,eL.X)(),{findInlineComment:m}=(0,eD.B)(),u=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:a,text:n,thread:i})=>{let[s,o]=i.id.split("::");if(!s||!o){a(Error("Invalid threadId"));return}r(n,e,o).then(e=>{e.comment?t?.(e.comment.id):a(Error("Failed to add comment"))})},[r]),f=(0,c.useCallback)(({text:e,diffLine:t,filePath:a,onCompleted:n,onError:i})=>{t&&t.position&&r(e,a,t.position.toString()).then(e=>{if(e.comment){let r=e.comment.id,i=`${a}::${t.position}`;n?.(i,r)}else i?.(Error("Failed to add comment"))})},[r]),p=(0,c.useCallback)(({comment:e,text:t,onCompleted:a,onError:n})=>{let r=m(e.id);if(!r){n(Error("Comment not found"));return}s(t,{id:r.id,bodyVersion:r.bodyVersion}).then(e=>{e.updatedFields?a?.():n(Error("Failed to edit comment"))})},[s,m]),h=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:a})=>{let n=m(e);if(!n){a?.(Error("Comment not found"));return}i(n.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&a?.(Error("Failed to delete comment"))})},[i,m]),g=(0,c.useCallback)(({commentId:e,reason:t,onCompleted:a,onError:n})=>{let r=m(e);if(!r){n?.(Error("Comment not found"));return}o(r.id.toString(),t).then(e=>{"success"===e?a?.():"error"===e&&n(Error("Failed to hide comment"))})},[m,o]),x=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:a})=>{let n=m(e);if(!n){a?.(Error("Comment not found"));return}l(n.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&a(Error("Failed to unhide comment"))})},[m,l]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,lazyFetchEditHistory:!0,addThread:f,addThreadReply:u,deleteComment:h,editComment:p,pendingSuggestedChangesBatch:[],submitSuggestedChanges:ef.l,addSuggestedChangeToPendingBatch:ef.l,removeSuggestedChangeFromPendingBatch:ef.l,addFileLevelThread:ef.l,resolveThread:ef.l,unresolveThread:ef.l,hideComment:g,unhideComment:x,fetchThread:n,commentBoxConfig:{pasteUrlsAsPlainText:!1,useMonospaceFont:!1}}),[f,u,h,p,n,g,x])}(),_=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:ef.l,incrementActiveMarker:ef.l,onActivateGlobalMarkerNavigation:ef.l}),[]),v=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:N}=(0,eD.B)(),[C,k]=(0,c.useState)(eO(n.current[g],N)),S=(0,c.useCallback)(e=>{k(eO(e,N))},[N]),[I,A]=(0,c.useState)(C.collapsed),[D,L]=(0,c.useState)(C.defaultToRichDiff),[T,E]=(0,c.useState)(C.diffManuallyExpanded),R=(0,c.useRef)(!1),F=async function(e,t,a){let n=await (0,ev.lS)(`${t}?pathDigest=${a}${function(e){let t="";for(let a=0;a<e.length;a++)t+=`&lineRanges[]=${JSON.stringify(e[a])}`;return t}(e)}`);if(n.ok)return await n.json()??void 0},P=(0,c.useRef)([]),B=(0,c.useCallback)(async e=>{P.current.push(e);let t=await F(P.current,i,C.pathDigest);if(void 0!==t){let e={...C};e.diffLines=t.diffEntryWithContext,S(e),n.current[g]=e,o()}},[i,n,C,g]),$=async()=>{P.current=[],R.current||((C.newTreeEntry?.lineCount??0)<5e3?P.current.push({start:1,end:Math.max(C.oldTreeEntry?.lineCount??0,C.newTreeEntry?.lineCount??0)}):P.current=function(e,t){let a=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let n=e[t-1>=0?t-1:0],r=e[t+1<e.length?t+1:e.length-1],i=n?.blobLineNumber,s=r?.blobLineNumber;i&&s&&(a.push({start:i,end:i+40}),a.push({start:Math.max(s-40,1),end:s}))}let n=e[e.length-1].blobLineNumber;return n<t&&a.push({start:n,end:n+40}),a}(C.diffLines,C.newTreeEntry?.lineCount??0)),R.current=!R.current;let e=await F(P.current,i,C.pathDigest);if(void 0!==e){let t={...C};t.diffLines=e.diffEntryWithContext,S(t),n.current[g]=t,o()}},H=(0,c.useCallback)(()=>{C.diffManuallyExpanded=!0,n.current[g].diffManuallyExpanded=!0,E(!0),o(),requestAnimationFrame(()=>{y?.(g,{align:"center"})})},[n,C,g,o]);(0,c.useEffect)(()=>{S(n.current[g]),P.current=[]},[x,g,n,h,p.name,p.ownerLogin,C.path,S]);let O=(0,c.useMemo)(()=>{if((n.current[g]?.diffLines?.[0]?.blobLineNumber||0)>1)return!0;let e=n.current[g]?.diffLines?.length||0;return(n.current[g]?.diffLines?.[e-1]?.blobLineNumber||0)<(n.current[g]?.newTreeEntry?.lineCount||0)+1},[n.current[g]?.diffLines,n.current[g]?.newTreeEntry?.lineCount,g,n]),M=(0,c.useMemo)(()=>({avatarUrl:w?.avatarURL??"",diffViewPreference:r,isSiteAdmin:!1,login:w?.login??"",tabSizePreference:w?.tabSize??8,viewerCanComment:v.canComment,viewerCanApplySuggestion:!1}),[r,w?.avatarURL,w,w?.login,w?.tabSize]),V=(0,c.useMemo)(()=>{if(e&&C.copilotChatReferenceData)return{referenceData:C.copilotChatReferenceData,queryVariables:{pullRequestId:e,startOid:C.oldOid,endOid:C.newOid}}},[C,e]);return(0,s.jsxs)("div",{className:"position-relative",ref:j,children:[(0,s.jsx)(ea.A,{sx:{...eI,top:[eS(56,f),eS(64,f)]},children:(0,s.jsx)(eA.B,{areLinesExpanded:R.current,canExpandOrCollapseLines:O,defaultToRichDiff:C.defaultToRichDiff,fileLinkHref:`#diff-${C.pathDigest}`,isCollapsed:I,canToggleRichDiff:C.canToggleRichDiff,linesAdded:C.linesAdded,linesDeleted:C.linesDeleted,newMode:C.newTreeEntry?.mode,newPath:C.newTreeEntry?.path,oldMode:C.oldTreeEntry?.mode,oldPath:C.oldTreeEntry?.path,patchStatus:C.status,path:C.path,onToggleExpandAllLines:$,onToggleFileCollapsed:()=>{C.collapsed=!I,n.current[g].collapsed=!I,A(!I)},onToggleDiffDisplay:e=>L(e),rightSideContent:(0,s.jsx)(eF,{oid:"REMOVED"===C.status&&C.deletedSha?C.deletedSha:h,path:C.path,repo:p,isViewable:!C.isSubmodule,copilotDiffChatProps:V})})}),I?null:(0,s.jsx)("div",{className:"border position-relative rounded-bottom-2",children:D?(0,s.jsx)(eP,{commitOid:h,path:C.path,proseDiffHtml:C.proseDifffHtml,fileRendererInfo:C.renderInfo,dependencyDiffPath:C.dependencyDiffPath}):(0,s.jsx)(u.T5,{copilotChatReferenceData:e?C.copilotChatReferenceData:void 0,searchResults:t,focusedSearchResult:a,diffEntryData:C,baseHelpUrl:m,commentingEnabled:!0,commentBatchPending:!1,repositoryId:p.id.toString(),subject:eB,subjectId:e?.toString()??"",viewerData:M,newCommitOid:C.newOid,oldCommitOid:C.oldOid,addInjectedContextLines:B,commentingImplementation:b,markerNavigationImplementation:_,diffLinesManuallyUnhidden:T,onHandleLoadDiff:H})})]})}function eO(e,t){for(let a of e.diffLines??[]){let n=t(e.path,a.position);n?a.threadsData={totalCommentsCount:n.count,totalCount:n.count,threads:(n.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:a.blobLineNumber,isOutdated:!1}))}:a.threadsData=void 0}return e}try{e$.displayName||(e$.displayName="Diff")}catch{}try{eH.displayName||(eH.displayName="DiffUnmemoized")}catch{}let eM=c.memo(eV);function eV(){return(0,s.jsx)("div",{className:"pt-3",children:(0,s.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,s.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,s.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{eM.displayName||(eM.displayName="LoadingContentBlock")}catch{}try{eV.displayName||(eV.displayName="LoadingContentBlockUnmemoized")}catch{}function eU({diffEntryData:e,contextLinePathURL:t,selectedPathDigest:a,unselectedFileExtensions:n,repo:r,oid:i,ignoreWhitespace:o,commitInfo:l,searchTerm:m,setSearchTerm:p,isStickied:g}){let j=e_(),w=(0,c.useCallback)(()=>_({}),[]),[b,_]=(0,c.useState)({}),v=(0,c.useRef)(e),{findInDiffWorkerPath:N}=(0,F.D)(),C=(0,c.useRef)(e),k=(0,c.useRef)(e.length>40),S=(0,c.useRef)(null),[I,A]=(0,c.useState)(o),D=(0,c.useRef)(0),[L,T]=(0,c.useState)(i),{diffFindOpen:E,setDiffFindOpen:R}=(0,u.K_)(),{findInFileShortcut:P}=(0,eu.wk)(),B=(0,c.useRef)(null),{focusedSearchResult:$,setFocusedSearchResult:H,searchResults:O,currentIndex:M,setCurrentIndex:V}=(0,u.xB)(v.current,m,N,b);function U(){R(!0);let e=window.getSelection()?.toString();e&&p(e),E&&B?.current?.focus()}(0,c.useEffect)(()=>{n&&n.size>0?v.current=C.current.filter(e=>!n.has(ek(e.path))):v.current=C.current,k.current=v.current.length>40,w()},[n?.size]),(0,c.useEffect)(()=>{v.current=e,C.current=e,k.current=v.current.length>40,w(),A(o),T(i)},[t,e,e[0]?e[0].diffLines:void 0]);let W=(0,d.B)(),z=(0,ep.X)(),q=(0,h.gq)({owner:W.repo.ownerLogin,repo:W.repo.name,commitish:W.commit.oid}),G=function(e,t,a,n,r,i){let[s,o]=(0,c.useState)(eN),l=(0,c.useRef)([]),d=(0,c.useRef)(a);return(0,c.useEffect)(()=>{if(!n||!r)return;let i=!1,s=async(e,t,a)=>{o(eN);let r=await (0,ev.lS)(`${n}?start_entry=${e}&bytes=${t}&lines=${a}`);if(!i)try{if(r.ok){let e=await r.json();e&&(e.loading=e.loadMore,l.current=l.current.concat(e.extraDiffEntries),e.extraDiffEntries=l.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,o(e),setTimeout(()=>s(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?(e.error=!0,e.loading=!1):e.error=!1,o(e)))}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}catch(e){o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}};return s(a,e,t),function(){i=!0}},[e,t,r,a,n,i]),(0,c.useEffect)(()=>{l.current=[],d.current=a},[n,a,i]),s}(W.asyncDiffLoadInfo.byteCount,W.asyncDiffLoadInfo.lineShownCount,W.asyncDiffLoadInfo.startIndex,q,W.moreDiffsToLoad,o);(0,c.useEffect)(()=>{v.current=v.current.concat(G.extraDiffEntries),C.current=v.current,n&&n.size>0&&(v.current=C.current.filter(e=>!n.has(ek(e.path)))),k.current=v.current.length>40,w()},[G.extraDiffEntries]);let Q=(0,c.useRef)(null),K=(0,eh.h)({parentRef:Q,size:v.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let a;return t=v.current[e],a=67,t?.collapsed?a:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&(a+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(a+=32),a)},[v.current.length,b]),useVirtualImpl:eh.Y,rangeExtractor(e){let t=x.fV.hash.substring(1),a=(0,f.pd)(t),n=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),r=v.current.findIndex(e=>e.pathDigest===n),i=v.current.findIndex(e=>a?.endsWith(e.pathDigest));return r<0&&i<0?(0,eg.v)(e):Array.from(new Set([...(0,eg.v)(e),...[r,i].filter(e=>e>-1)])).sort((e,t)=>e-t)}});return(0,c.useEffect)(()=>{let e=a.includes("R"),t=a.includes("L"),n=t||e,r=n?t?a.split("L")[0]:a.split("R")[0]:a,i=eW(r??a,v.current);if(-1===i){if(G.error&&null!==S){let e=S.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(k.current)K.scrollToIndex(i,{align:"center"}),requestAnimationFrame(()=>{if(n&&ez(Q,a));else{let e=Q.current?.querySelectorAll(`[aria-label="collapse file: ${v.current[i]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&ez(Q,a));else{let e=Q.current?.querySelectorAll(`[data-diff-anchor=diff-${r}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(x.cg?.scrollY??0)-67-60;x.cg?.scrollTo(0,t);let a=Q.current?.querySelectorAll(`[aria-label="collapse file: ${v.current[i]?.path}"]`);a&&1===a.length&&a[0].focus()}}},[a,G]),(0,s.jsxs)("div",{"data-hpc":!0,ref:Q,children:[!k.current&&v.current.map((e,a)=>(0,s.jsx)("div",{style:{paddingTop:0===a?0:16,left:3,right:3},children:(0,s.jsx)(e$,{prId:l?.branches[0]?.prs[0]?.globalRelayId,diffEntryData:v,index:a,splitPreference:j.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ef.l,repo:r,helpUrl:z.helpUrl,oid:L,ignoreWhitespace:I})},e.pathDigest)),k.current&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.ak,{commands:{"commit-diff-view:open-find":U}}),(0,s.jsx)("button",{hidden:!0,"data-hotkey":P.hotkey,onClick:U}),E&&(0,s.jsx)(u.qj,{inputContainer:B,currentPathDigestIndex:D,stickied:g,searchTerm:m,focusedSearchResult:$,currentIndex:M,setCurrentIndex:V,setFocusedSearchResult:H,setSearchTerm:p,searchResults:O,scrollDiffCellIntoView:e=>{let t=eW(e?.pathDigest??"",v.current);-1!==t&&(K.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let a=x.XC?.getElementById(`match-${t}-${e}`);a&&a.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))},onClose:()=>{R(!1)}}),(0,s.jsx)("div",{style:{height:K.totalSize,width:"100%",position:"relative"},children:K.virtualItems.map(e=>{let a,n;let i=v.current[e.index];return(O.has(i?.pathDigest??"")&&(a=O.get(i?.pathDigest??"")??[]),$&&i?.pathDigest===$?.pathDigest&&(n=$?.indexWithinDigest??-1),i)?(0,s.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,s.jsx)(e$,{prId:l?.branches[0]?.prs[0]?.globalRelayId,diffMatches:a,focusedSearchResult:n,diffEntryData:v,index:e.index,splitPreference:j.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:w,headerStickyOffset:-e.start,helpUrl:z.helpUrl,repo:r,oid:L,ignoreWhitespace:I,virtualizerScrollTo:K.scrollToIndex})},i.pathDigest):null})})]}),W.moreDiffsToLoad&&(0,s.jsxs)(s.Fragment,{children:[G.loading&&(0,s.jsx)(eM,{}),G.error&&(0,s.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:S,children:(0,s.jsx)(ee.A,{variant:"danger",tabIndex:0,children:(0,s.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function eW(e,t){for(let a=0;a<t.length;a++)if(e===t[a]?.pathDigest)return a;return -1}function ez(e,t){let a=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!a&&1===a.length&&(a[0].focus(),!0)}try{eU.displayName||(eU.displayName="Diffs")}catch{}var eq=a(73729);function eG(){let{splitPreference:e,updateSplitPreference:t}=e_();return(0,s.jsxs)(K.l.Group,{selectionVariant:"single",children:[(0,s.jsx)(K.l.GroupHeading,{children:"Layout"}),(0,s.jsx)(K.l.Item,{selected:"unified"===e,onSelect:()=>t("unified"),children:"Unified"}),(0,s.jsx)(K.l.Item,{selected:"split"===e,onSelect:()=>t("split"),children:"Split"})]})}try{eG.displayName||(eG.displayName="DiffViewPreferenceToggle")}catch{}function eQ(){let{hideWhitespace:e,updateHideWhitespace:t}=e_();return(0,s.jsxs)(K.l.Group,{selectionVariant:"single",variant:"subtle",children:[(0,s.jsx)(K.l.GroupHeading,{children:"Whitespace"}),(0,s.jsx)(K.l.Item,{selected:e,onSelect:()=>t(!e),children:"Hide whitespace"})]})}try{eQ.displayName||(eQ.displayName="DiffWhitespaceToggle")}catch{}function eK(){return(0,s.jsxs)(eR.W,{children:[(0,s.jsx)(eR.W.Anchor,{children:(0,s.jsx)("button",{className:"Button Button--iconOnly Button--invisible ml-2","aria-label":"Diff view settings",children:(0,s.jsx)(A.GearIcon,{})})}),(0,s.jsx)(eR.W.Overlay,{children:(0,s.jsxs)(K.l,{children:[(0,s.jsx)(eG,{}),(0,s.jsx)(K.l.Divider,{}),(0,s.jsx)(eQ,{})]})})]})}try{eK.displayName||(eK.displayName="DiffViewSettings")}catch{}function eX({treeToggleElement:e,headerInfo:t}){let a=(0,c.useRef)(null),n=function(e){let[t,a]=(0,c.useState)(!1),n=(0,c.useCallback)(e=>{let n=e[e.length-1].intersectionRatio<1;n!==t&&a(n)},[t,a]);return(0,c.useEffect)(()=>{let t=e.current,a=new IntersectionObserver(n,{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&a.observe(e.current),()=>{t&&a.unobserve(t)}},[e,n]),t}(a),r=n?{display:["none","inherit"]}:{};return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:a,children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,s.jsxs)(eq.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,s.jsxs)(eA.C,{sx:r,isAddition:!0,children:["+",t.additions]}),(0,s.jsxs)(eA.C,{sx:r,isAddition:!1,children:["-",t.deletions]}),(0,s.jsx)(E.A,{sx:{fontSize:0,ml:2,color:"fg.muted",whiteSpace:"nowrap",...r},children:"lines changed"})]}),(0,s.jsxs)("div",{className:"d-flex",children:[n&&(0,s.jsx)(eY,{}),(0,s.jsx)(eK,{})]})]})}let eY=()=>(0,s.jsx)(T.Q,{leadingVisual:A.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eX.displayName||(eX.displayName="DiffsHeader")}catch{}try{eY.displayName||(eY.displayName="GoToTopButton")}catch{}var eJ=a(70170),eZ=a(49078),e0=a(42024);let e1="diff_file_tree";function e2({diffs:e,onFileSelected:t,diffsHeader:a,unselectedFileExtensions:n,onFileExtensionsChange:r}){let[i,o]=(0,c.useState)(""),{getCommentCountByPath:l}=(0,eD.B)(),d=(0,c.useRef)(null),m=(0,c.useMemo)(()=>new Set(e.map(e=>ek(e.path))),[e]),u=e;n&&n.size>0&&(u=u.filter(e=>!n.has(ek(e.path))));let f=(i?u.filter(e=>e.path.toLowerCase().includes(i.toLowerCase())):u).map(e=>{let t=l(e.path);return{...e,totalCommentsCount:t??0}});return(0,s.jsxs)("div",{className:"d-flex flex-column gap-2",id:e1,children:[(0,s.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,s.jsx)("div",{className:"d-md-none",ref:d,children:a}),(0,s.jsx)(e8,{filterText:i,onFilterTextChange:o,fileExtensions:m,unselectedFileExtensions:n,onFileExtensionsChange:r}),(0,s.jsx)(eZ.oj,{diffs:f,onSelect:e=>{t(e,(0,e0.nn)(window.innerWidth)<=e0.Gy.medium?"close_tree":void 0)}})]})}function e8({filterText:e,onFilterTextChange:t,fileExtensions:a,unselectedFileExtensions:n,onFileExtensionsChange:r}){let i=(0,c.useRef)((0,eJ.s)(e=>t(e),250));return(0,s.jsx)(eC.kF,{filterText:e,fileExtensions:a,unselectedFileExtensions:n,onFilterTextChange:e=>i.current(e),onFilterChange:(e,t)=>{r(e,t.extension)}})}try{e2.displayName||(e2.displayName="FileTree")}catch{}try{e8.displayName||(e8.displayName="FileFilter")}catch{}function e5({diffEntryData:e,contextLinePathURL:t,repo:a,oid:n}){let r=e_(),i=(0,c.useRef)(e),o=(0,ep.X)(),l=(0,d.B)();return(0,s.jsx)("div",{"data-hpc":!0,children:e.map((e,d)=>(0,s.jsx)("div",{className:0===d?"pt-0":"pt-3",children:(0,s.jsx)(e$,{prId:void 0,diffEntryData:i,index:d,helpUrl:o.helpUrl,splitPreference:r.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ef.l,repo:a,ignoreWhitespace:l.ignoreWhitespace,oid:n})},e.pathDigest))})}try{e5.displayName||(e5.displayName="SSRDiffs")}catch{}var e4=a(15617),e6=a(20594);async function e7({repo:e,commitOid:t}){let a=await (0,ev.Sr)((0,e6.RD)((0,h.cl)({owner:e.ownerLogin,repo:e.name,commitOid:t})));if(a.ok){let e=await a.json();return(0,e6.Av)(e),e}throw Error("Failed to fetch comment data")}var e3=a(94977),e9=a(20053);let te=c.forwardRef(({expanded:e,testid:t,ariaLabel:a,ariaControls:n,onToggleExpanded:r,alignment:i,dataHotkey:o,className:l,tooltipDirection:d},c)=>(0,s.jsx)(e3.A,{"aria-label":a,id:`expand-button-${t}`,direction:d,children:(0,s.jsx)(Q.K,{unsafeDisableTooltip:!0,ref:c,"data-testid":e?`collapse-${t}`:`expand-${t}`,"aria-labelledby":`expand-button-${t}`,"aria-expanded":e,"aria-controls":n,icon:e?"left"===i?A.SidebarExpandIcon:A.SidebarCollapseIcon:"left"===i?A.SidebarCollapseIcon:A.SidebarExpandIcon,"data-hotkey":o,onClick:e=>{r(e)},variant:"invisible",className:(0,e9.A)(l,"fgColor-muted")})}));te.displayName="ExpandButton";let tt=(0,g.E7)();function ta(){(0,w.L)(!0);let e=(0,d.B)(),{splitPagePaneHiddenSx:t,splitPageContentHidden:a,treeToggleElement:n,collapseTree:r}=function(e,t){let a=async function(e,t){if(!t)return;let a=new FormData;a.set("file_tree_visible",e?"true":"false"),(0,ev.DI)((0,h.h6)(t),{method:"PUT",body:a,headers:{Accept:"application/json"}})},[n]=(0,j.I)(()=>!1,!0,[]),r=(0,l.i)(),i=(0,c.useRef)(null),o=(0,c.useRef)(null),[d,m]=(0,c.useState)(t),[u,f]=(0,c.useState)(!1),p=(0,c.useCallback)(()=>{(0,e0.nn)(window.innerWidth)<=e0.Gy.medium?(f(!0),requestAnimationFrame(()=>o.current?.focus())):(m(!0),a(!0,r),requestAnimationFrame(()=>i.current?.focus()))},[r,a]),g=(0,c.useCallback)(()=>{(0,e0.nn)(window.innerWidth)<=e0.Gy.medium?(f(!1),requestAnimationFrame(()=>o.current?.focus())):(m(!1),a(!1,r),requestAnimationFrame(()=>i.current?.focus()))},[r,a]),x=(0,c.useMemo)(()=>(0,s.jsx)(te,{expanded:d,alignment:"left",ariaLabel:d?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:i,onToggleExpanded:()=>{d?g():p()},className:"d-none d-md-flex position-relative"}),[d,e,g,p]),y=(0,c.useMemo)(()=>(0,s.jsx)(te,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:o,onToggleExpanded:()=>{u?g():p()},className:"d-md-none position-relative"}),[u,e,g,p]),w=(0,c.useMemo)(()=>(0,s.jsxs)(s.Fragment,{children:[y,x]}),[y,x]);return{splitPagePaneHiddenSx:n&&!t?{display:"none"}:{flexDirection:["column","column","inherit"],"@media screen and (max-width: 768px)":u?{mt:-3}:{display:"none"},"@media screen and (min-width: 769px)":d?{height:"100vh",maxHeight:"100vh !important"}:{display:"none"}},splitPageContentHidden:{narrow:u,regular:!1},expandTree:p,collapseTree:g,treeToggleElement:w,treeToggleRef:i}}(e1,e.fileTreeExpanded),[i,m]=(0,c.useState)(new Set),[g]=(0,j.I)(()=>!1,!0,[]),[N,C]=(0,c.useState)(""),[k,S]=(0,c.useState)(""),[I,A]=(0,c.useState)(!1),D=(0,c.useCallback)((e,t)=>{(0,f.pk)(`diff-${e.pathDigest}`),C(e.pathDigest),"close_tree"===t&&r()},[r]),L=function(e){let t=(0,o.t)(),[a,n]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let a=!1;return(async()=>{n({branches:[],tags:[],loading:!0});let r=await (0,ev.lS)((0,h.jn)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!a)try{if(r.ok){let e=await r.json();e.loading=!1,e&&n({...e,loading:!1})}else n({branches:[],tags:[],loading:!1})}catch(e){n({branches:[],tags:[],loading:!1})}})(),function(){a=!0}},[t.ownerLogin,t.name,e]),a}(e.commit.oid),T=(0,h.t0)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),E=(0,c.useCallback)((e,t)=>{let a=new Set(i);"selectFileExtension"===e?a.delete(t):"unselectFileExtension"===e&&a.add(t),m(a)},[i]);(0,c.useEffect)(()=>{m(new Set)},[e.commit]),(0,c.useEffect)(()=>{let e=x.cg?.location.hash;if(e?.indexOf("diff-")!==-1){let t=e?.split("diff-");t&&2===t.length&&C(t[1]??"")}},[]);let R=(0,c.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:e.splitViewPreference}),[e.ignoreWhitespace,e.splitViewPreference]);(0,c.useEffect)(()=>{(x.cg?.scrollY??0)>0&&x.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:F,state:P}=function(e,t){let[a,n]=(0,c.useState)(void 0),[r,i]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{n(void 0),i("loading"),(async()=>{n(await e7({repo:e,commitOid:t})),i("loaded")})()},[t,e]),{deferredCommentData:a,state:r}}(e.repo,e.commit.oid),B=F?.threadMarkers,$=()=>(0,s.jsx)(eX,{treeToggleElement:n,headerInfo:e.headerInfo});if(e.unavailableReason)return(0,s.jsx)(ec,{commit:e.commit,commitInfo:L,unavailableReason:e.unavailableReason});let[H,O]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,s.jsx)(_.RelayEnvironmentProvider,{environment:tt,children:(0,s.jsxs)(eD.r,{initialFiles:B,children:[(0,s.jsx)(y.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,h.$Q)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});window.history.pushState(null,document.title,t)}}}),(0,s.jsxs)(b.O7,{children:[(0,s.jsxs)(b.O7.Header,{children:[(0,s.jsx)("h1",{className:"sr-only",children:e.commit.shortMessage}),(0,s.jsx)(eo,{commit:e.commit,commitInfo:L})]}),(0,s.jsx)(b.O7.Pane,{position:"start",sticky:!0,sx:t,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,children:(0,s.jsx)(e2,{diffs:O,onFileSelected:D,unselectedFileExtensions:i,diffsHeader:(0,s.jsx)($,{}),onFileExtensionsChange:E})}),(0,s.jsx)(b.O7.Content,{as:"div",width:"full",hidden:a,padding:"none",sx:{p:[3,3,3,4],pt:[0,0,0,0]},children:(0,s.jsx)(u.Yj,{children:(0,s.jsxs)(eb,{viewSettings:R,children:[(0,s.jsx)($,{}),g?(0,s.jsx)(e5,{diffEntryData:H,contextLinePathURL:T,repo:e.repo,oid:e.commit.oid}):(0,s.jsx)(u.cP,{searchTerm:k,setSearchTerm:S,children:(0,s.jsx)(eU,{commitInfo:L,isStickied:I,searchTerm:k,setSearchTerm:S,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:H,contextLinePathURL:T,unselectedFileExtensions:i,selectedPathDigest:N,repo:e.repo,oid:e.commit.oid})}),(0,s.jsx)(e4.c,{comments:F?.discussionComments?.comments,commentCount:F?.discussionComments?.count,canLoadMore:F?.discussionComments?.canLoadMore,subscribed:F?.subscribed,providerState:P,repo:e.repo,commitOid:e.commit.oid,children:(0,s.jsx)(v.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,s.jsx)(p.nq,{})]})})})]})]})})}try{ta.displayName||(ta.displayName="Commit")}catch{}try{(n=DiffsHeader).displayName||(n.displayName="DiffsHeader")}catch{}function tn({url:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ea.A,{className:"text-center",children:(0,s.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,s.jsxs)(L.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})})}try{tn.displayName||(tn.displayName="CommitHelpMessage")}catch{}let tr=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function ti({filters:e,children:t}){return(0,s.jsx)(tr.Provider,{value:e,children:t})}function ts(){return(0,c.useContext)(tr)}try{tr.displayName||(tr.displayName="FilterContext")}catch{}try{ti.displayName||(ti.displayName="FilterProvider")}catch{}var to=a(64855),tl=a(38553),td=a(23925),tc=a(20290);function tm(){let e=ts();return e.newPath&&e.originalBranch}function tu(){let e=(0,o.t)(),t=ts();return tm()?(0,s.jsx)(tc.s,{sx:{pt:1,pb:0},children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,s.jsx)(tc.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,s.jsx)(N.N,{to:(0,h.Gp)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tf(){let e=(0,td.ej)();return e?.hasRenameCommits?(0,s.jsx)(tc.s,{children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,s.jsx)(tc.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,s.jsx)(N.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tp(){let e=(0,td.ej)();return e?.hasRenameCommits?null:(0,s.jsx)(tc.s,{clipTimeline:"bottom",children:(0,s.jsx)(tc.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function th(){let e=ts(),t=(0,td.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(tc.s,{leadingVisual:(0,s.jsx)(tl.A,{size:"small"})}),!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tf,{}),(0,s.jsx)(tp,{})]})]})}try{tu.displayName||(tu.displayName="RenamedToHistory")}catch{}try{tf.displayName||(tf.displayName="RenamedFromHistory")}catch{}try{tp.displayName||(tp.displayName="EndOfFileHistory")}catch{}try{th.displayName||(th.displayName="EndOfFile")}catch{}function tg({commitGroups:e,deferredDataUrl:t,softNavToCommit:a}){let n=ts(),r=(0,o.t)(),i=(0,P.w)(t);return(0,s.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,s.jsx)(to.f,{leadingContent:(0,s.jsx)(tu,{}),commitGroups:e,trailingContent:(0,s.jsx)(th,{}),repository:r,deferredCommitData:i,shouldClipTimeline:function(){let e=tm(),t=ts();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:n.currentBlobPath,softNavToCommit:a})]})}try{tg.displayName||(tg.displayName="CommitList")}catch{}var tx=a(58143),ty=a(52876),tj=a(62689),tw=a(84929),tb=a(71649),t_=a(5225);async function tv(e){let t=await (0,ev.lS)(e);return t.ok?await t.json():void 0}let tN=new Map,tC=(0,t_.A)(tv,{cache:tN});function tk(e,t){let a=new URL(x.fV.origin+x.fV.pathname+x.fV.search,x.fV.origin),n=a.searchParams;for(let e of t)n.has(e)&&n.delete(e);for(let[t,a]of Object.entries(e))n.set(t,a.toString());return a.pathname+a.search}var tS=a(6907);let tI=(0,c.lazy)(()=>Promise.resolve().then(a.bind(a,11228)).then(e=>({default:e.DatePicker}))),tA=()=>(0,s.jsx)(U.A,{icon:A.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function tD({repo:e,refInfo:t,path:a,author:n,contributorsUrl:r,since:i,until:l,sx:d={}}){let m=t.name;m===t.currentOid&&(m=(0,B.F)(t.currentOid));let u=(0,ex.Z)(),f=function(e){let t=(0,o.t)(),[a,n]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{n({users:[],error:!1,loading:!0});let a=await tC(e);if(t)return;let r=[],i=!1;try{a?r=a.authors:i=!0}catch(e){i=!0}n({users:r,error:i,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),a}(r),p=c.useMemo(()=>{let e=(0,tw.H)(i??""),t=(0,tw.H)(l??"");return(0,tb.f)(e)&&(0,tb.f)(t)?{from:e,to:t}:null},[i,l]),g=a?.split("/");return(0,s.jsxs)(ea.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,...d},children:[a&&(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,s.jsx)(E.A,{className:"fgColor-default no-wrap",children:"History for"}),(0,s.jsxs)(tj.A,{className:"ml-1",children:[(0,s.jsx)(tj.A.Item,{href:(0,h.Gp)({owner:e.ownerLogin,repo:e.name}),children:e.name}),g.map((a,n,r)=>{let i=(0,h.Gp)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:r.slice(0,n+1).join("/")}),o=n===r.length-1;return(0,s.jsx)(tj.A.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:i,selected:o,children:a},i)})]}),(0,s.jsxs)("div",{className:"no-wrap",children:[(0,s.jsx)(E.A,{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,s.jsx)(W.A,{href:(0,h.IO)({repo:e,commitish:t.name,action:"tree"}),children:m})]})]})}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,s.jsx)(tx.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,h.Gp)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,s.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,s.jsx)(ty.T,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:n??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==n?.login&&u(tk({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,s.jsx)(K.l.LinkItem,{href:tk({},["author"]),children:"View commits for all users"})}),(0,s.jsxs)(c.Suspense,{fallback:(0,s.jsx)(T.Q,{leadingVisual:tA,trailingVisual:A.TriangleDownIcon,children:"All time"}),children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,s.jsx)(tI,{variant:"range",value:p,maxDate:new Date,minDate:new Date(e.createdAt),showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){u(tk({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,tS.x)(e.from,{representation:"date"}),endDate:(0,tS.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:a,endDate:n}=t;u(tk({since:a,until:n},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,s.jsx)(T.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tA,trailingVisual:A.TriangleDownIcon,children:e})})]})]})]})}try{tI.displayName||(tI.displayName="DatePicker")}catch{}try{tA.displayName||(tA.displayName="StyledCalendarIcon")}catch{}try{tD.displayName||(tD.displayName="ListHeader")}catch{}var tL=a(6185);function tT({paginationInfo:e}){let t=e.hasPreviousPage,a=e.hasNextPage,n=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eq.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,s.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,s.jsxs)(tL.A,{children:[(0,s.jsx)(T.Q,{as:N.N,to:tE(e,!1),className:"fgColor-accent text-normal",...n(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,s.jsx)(U.A,{icon:A.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,s.jsx)(T.Q,{as:N.N,to:tE(e,!0),className:"fgColor-accent text-normal",...n(!a),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:a?()=>(0,s.jsx)(U.A,{icon:A.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function tE(e,t){return tk(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tT.displayName||(tT.displayName="Pagination")}catch{}var tR=a(31881);function tF({children:e,title:t}){return(0,s.jsxs)(tR.M,{rowGap:"none",children:[(0,s.jsx)(tR.M.Header,{divider:"line",sx:{mb:3},children:(0,s.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,s.jsx)(eq.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,s.jsx)(tR.M.Content,{as:"div",children:(0,s.jsx)(ea.A,{children:e})})]})}try{tF.displayName||(tF.displayName="Layout")}catch{}var tP=a(71078);function tB(){let e=(0,o.t)(),t=(0,F.D)(),a=(0,d.B)(),n=a.filters,r=a.commitGroups,i=a.metadata.softNavToCommit,l=`There isn't any commit history to show here${null!==n.since||null!==n.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!x.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[a.filters.pagination,a.filters.since,a.filters.until]),(0,s.jsx)(ti,{filters:a.filters,children:(0,s.jsxs)(tF,{title:"Commits",children:[(0,s.jsx)(tD,{repo:e,contributorsUrl:a.metadata.deferredContributorUrl,since:n.since,until:n.until,author:n.author,refInfo:a.refInfo,path:n.currentBlobPath,sx:{mb:3}}),0===r.length&&(0,s.jsx)(tP.M,{timeoutMessage:a.timedOutMessage,unavailableMessage:l}),r.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tg,{commitGroups:r,deferredDataUrl:a.metadata.deferredDataUrl,softNavToCommit:i}),(0,s.jsx)(tT,{paginationInfo:n.pagination})]}),a.metadata.showProfileHelp&&(0,s.jsx)(tn,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tB.displayName||(tB.displayName="Commits")}catch{}(0,i.Q)("commits",()=>({App:m,routes:[(0,r.a)({path:"/:owner/:repo/commits",Component:tB}),(0,r.a)({path:"/:owner/:repo/commits/:ref",Component:tB}),(0,r.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tB}),(0,r.a)({path:"/:owner/:repo/commit/:oid",Component:ta}),(0,r.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:ta}),(0,r.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:ta})]}))},87213:(e,t,a)=>{a.d(t,{I:()=>l,w:()=>o});var n=a(20594),r=a(28784),i=a(96540),s=a(23925);function o(e,t){let[a,o]=(0,i.useState)(s.UI);return(0,i.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{o(s.UI);let a=await (0,r.Sr)((0,n.RD)(e));if(!t)try{if(a.ok){let e=await a.json();e.loading=!1,e&&((0,n.Av)(e),o(e))}else o(s.Xx)}catch(e){o(s.Xx)}})(),function(){t=!0}},[e,t]),a}function l(e){let[t,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{e&&(async()=>{let t=await (0,r.Sr)((0,n.RD)(e));try{if(t.ok){let e=await t.json();e&&((0,n.Av)(e),a(e.data))}}catch(e){}})()},[e]),t}},84928:(e,t,a)=>{a.d(t,{W:()=>i});var n=a(96540),r=a(20826);function i(e,t){let a=(0,r.H)(e,t);return(0,n.useCallback)(async n=>{let r=t;if(!a)throw Error(`No authenticity token found for method ${r} and path ${e}`);return n||(n={}),s(n,"X-Requested-With","XMLHttpRequest"),n.body instanceof URLSearchParams&&"delete"===r&&(n.body.append("_method","delete"),r="post"),n.body instanceof URLSearchParams||n.body instanceof FormData?n.body.append("authenticity_token",a):s(n,"Scoped-CSRF-Token",a),await fetch(e,{...n,method:r})},[e,t,a])}function s(e,t,a){e.headers??(e.headers=new Headers);let n=e.headers;if(n instanceof Headers)n.set(t,a);else if(Array.isArray(n)){let e=n.findIndex(([e])=>e===t);-1===e?n.push([t,a]):n[e]=[t,a]}else n[t]=a}},52876:(e,t,a)=>{a.d(t,{T:()=>w});var n=a(74848),r=a(22868),i=a(59857),s=a(75177),o=a(281),l=a(30729),d=a(69909),c=a(17909),m=a(44981),u=a(38553),f=a(65481),p=a(96540),h=a(76024);let g=p.memo(function({user:e,isCurrent:t,onSelect:a}){return(0,n.jsxs)(c.l.Item,{selected:t,onSelect:()=>{a&&a(e)},children:[(0,n.jsx)(c.l.LeadingVisual,{children:(0,n.jsx)(r.r,{src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")})}),e.login,(0,n.jsx)(c.l.Description,{children:e.name})]})});try{g.displayName||(g.displayName="UserItem")}catch{}function x(e){return e.users.length>20?(0,n.jsx)(j,{...e}):(0,n.jsx)(y,{...e})}function y({users:e,currentUser:t,onSelect:a,sx:r={}}){return(0,n.jsx)(s.A,{sx:{maxHeight:330,overflowY:"auto",...r},children:e.map(e=>(0,n.jsx)(g,{user:e,isCurrent:e.login===t?.login,onSelect:a},e.login))})}function j({users:e,currentUser:t,onSelect:a,sx:r={}}){return(0,n.jsx)(h.F,{items:e,itemHeight:33,sx:{maxHeight:330,overflowY:"auto",...r},makeKey:e=>e.login,renderItem:e=>(0,n.jsx)(g,{user:e,isCurrent:e.login===t?.login,onSelect:a},e.login)})}try{x.displayName||(x.displayName="UsersList")}catch{}try{y.displayName||(y.displayName="FullUsersList")}catch{}try{j.displayName||(j.displayName="VirtualUsersList")}catch{}function w(e){let{defaultText:t,usersState:a,currentUser:m,onSelect:u,hotKey:f,onOpenChange:h,renderCustomFooter:g,size:y,showTypedInUser:j=!1,width:w="large",label:C=""}=e,[k,S]=(0,p.useState)(""),I=function(e,t){if(!e)return[];let a=t.trim().toLowerCase();return a?e.filter(e=>e.login.toLowerCase().includes(a)||e.name?.toLowerCase().includes(a)):e}(a.users,k);return(0,n.jsx)(s.A,{children:(0,n.jsxs)(o.W,{onOpenChange:h,children:[(0,n.jsx)(o.W.Button,{"data-hotkey":f,size:y,"data-testid":"user-selector-button",children:(0,n.jsxs)(s.A,{sx:{display:"flex"},children:[(0,n.jsx)(s.A,{sx:{mr:2},children:m?(0,n.jsx)(r.r,{size:16,src:m.primaryAvatarUrl,square:m.path.startsWith("/apps/")}):(0,n.jsx)(l.A,{icon:i.PeopleIcon,size:"small",sx:{color:"fg.muted"}})}),(0,n.jsx)(s.A,{sx:{maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m?(0,n.jsxs)(d.A,{children:[C,m.login]}):(0,n.jsx)(d.A,{children:t})})]})}),(0,n.jsx)(o.W.Overlay,{width:w,children:(0,n.jsxs)(c.l,{showDividers:!0,selectionVariant:"single",children:[(0,n.jsx)(b,{defaultText:k,onFilterChange:S}),(0,n.jsx)(c.l.Divider,{}),a.loading?(0,n.jsx)(_,{}):a.error?(0,n.jsx)(v,{}):0===I.length?(0,n.jsx)(N,{showTypedInUser:j,filterText:k,onSelect:u}):(0,n.jsx)(x,{users:I,currentUser:m,onSelect:u,sx:g?{pb:"10px",pt:1}:{pt:1}}),g&&(0,n.jsx)(c.l.Divider,{sx:{marginTop:0}}),g?.()]})})]})})}function b({onFilterChange:e,defaultText:t}){return(0,n.jsx)(c.l.Group,{sx:{px:2},children:(0,n.jsx)(m.A,{leadingVisual:i.SearchIcon,value:t,sx:{width:"100%"},placeholder:"Find a user...",onChange:t=>e(t.target.value)})})}function _(){return(0,n.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,n.jsx)(u.A,{size:"medium","aria-label":"Loading users..."})})}function v(){return(0,n.jsx)(f.A,{variant:"danger",children:"Could not load users"})}function N({showTypedInUser:e,filterText:t,onSelect:a}){return e?(0,n.jsx)(c.l.Item,{sx:{display:"flex",justifyContent:"center",mb:2},onSelect:()=>{a&&a({login:t,name:t,path:"",primaryAvatarUrl:""})},children:(0,n.jsxs)(n.Fragment,{children:["Filter on author\xa0",(0,n.jsx)(s.A,{as:"span",sx:{fontWeight:600},children:t})]})}):(0,n.jsx)(s.A,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}try{w.displayName||(w.displayName="UserSelector")}catch{}try{b.displayName||(b.displayName="UserFilter")}catch{}try{_.displayName||(_.displayName="Loading")}catch{}try{v.displayName||(v.displayName="LoadingFailed")}catch{}try{N.displayName||(N.displayName="UsersZeroState")}catch{}},71078:(e,t,a)=>{a.d(t,{M:()=>m});var n=a(74848),r=a(38510),i=a(67726),s=a(59857),o=a(44981),l=a(21949),d=a(7512);let c={timeout:{description:"Refresh the page to try again, or view this history locally using this command:",heading:"Sorry, this commit history is taking too long to generate.",icon:(0,n.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,n.jsx)(s.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function m({timeoutMessage:e,unavailableMessage:t=c.unavailable.description}){let a=c[""!==e?"timeout":"unavailable"],m=t??a.description;return(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{"data-hpc":!0,children:(0,n.jsxs)(l.A,{border:!1,spacious:!0,children:[(0,n.jsx)(l.A.Visual,{children:a.icon}),(0,n.jsx)(l.A.Heading,{children:a.heading}),(0,n.jsx)(l.A.Description,{children:m}),a.showTextInput&&(0,n.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:i.l,readOnly:!0,size:"large",trailingAction:(0,n.jsx)(o.A.Action,{onClick:()=>(0,r.D)(e),icon:s.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{m.displayName||(m.displayName="CommitsBlankState")}catch{}},86233:(e,t,a)=>{a.d(t,{a:()=>n});function n({path:e,Component:t,shouldNavigateOnError:a,transitionType:n,children:r}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let a=`${e.pathname}${e.search}`;t=await window.fetch(a,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:a?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:a?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:a?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:n,children:r}}},6907:(e,t,a)=>{a.d(t,{x:()=>i});var n=a(2642),r=a(50622);function i(e,t){let a=(0,n.a)(e);if(isNaN(a.getTime()))throw RangeError("Invalid time value");let i=t?.format??"extended",s=t?.representation??"complete",o="",l="",d="extended"===i?"-":"";if("time"!==s){let e=(0,r.F)(a.getDate(),2),t=(0,r.F)(a.getMonth()+1,2),n=(0,r.F)(a.getFullYear(),4);o=`${n}${d}${t}${d}${e}`}if("date"!==s){let e=a.getTimezoneOffset();if(0!==e){let t=Math.abs(e),a=(0,r.F)(Math.trunc(t/60),2),n=(0,r.F)(t%60,2);l=`${e<0?"+":"-"}${a}:${n}`}else l="Z";let t=(0,r.F)(a.getHours(),2),n=(0,r.F)(a.getMinutes(),2),s=(0,r.F)(a.getSeconds(),2),d=""===o?"":"T",c=[t,n,s].join("extended"===i?":":"");o=`${o}${d}${c}${l}`}return o}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_clsx_dist_clsx_m_js-node_modules_primer_react_node_modules_primer_octico-c56103","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_react-router-dom_dist_index_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_SelectPanel_SelectPanel_js","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d","vendors-node_modules_primer_react_lib-esm_Heading_Heading_js-node_modules_primer_react_lib-es-96435f","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-6cd3b9","vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_github_combo-aea225","vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--909e5c","vendors-node_modules_primer_react_lib-esm_TreeView_TreeView_js","vendors-node_modules_primer_react_lib-esm_BranchName_BranchName_js-node_modules_primer_react_-5ab9a5","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_primer_react_lib-esm_A-d97644","ui_packages_react-core_register-app_ts","ui_packages_list-view_src_ListItem_ListItem_tsx-ui_packages_list-view_src_ListItem_Title_tsx--68e5b9","ui_packages_relay-environment_relay-environment_ts","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_analytics-provider_analytics-provider_ts-ui_packages_commenting_hooks_use-markdow-5cb9ce","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-f45efb","ui_packages_fuzzy-score_fuzzy-filter_ts-ui_packages_react-core_create-browser-history_ts-ui_p-4ad422","ui_packages_diff-file-header_diff-file-header_ts-ui_packages_diff-file-tree_diff-file-tree_ts-7f5a83"],()=>t(866)),e.O()}]);
//# sourceMappingURL=commits-c4297a2d0b77.js.map