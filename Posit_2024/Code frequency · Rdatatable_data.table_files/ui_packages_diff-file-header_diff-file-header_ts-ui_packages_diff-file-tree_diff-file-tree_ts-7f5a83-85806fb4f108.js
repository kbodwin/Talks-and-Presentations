"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_diff-file-header_diff-file-header_ts-ui_packages_diff-file-tree_diff-file-tree_ts-7f5a83","ui_packages_file-renderer-blob_FileRendererBlob_tsx"],{15570:(e,t,n)=>{n.d(t,{A:()=>i});let i={commentIndicatorContainer:"CommentIndicator-module__commentIndicatorContainer--L8lU3"}},58323:(e,t,n)=>{n.d(t,{A:()=>i});let i={visibilityHidden:"DiffFindPopover-module__visibilityHidden--HCMWu",visibilityVisible:"DiffFindPopover-module__visibilityVisible--AknNV",defaultStyles:"DiffFindPopover-module__defaultStyles--IjqxB",stickyStyles:"DiffFindPopover-module__stickyStyles--oNP5J",notStickyStyles:"DiffFindPopover-module__notStickyStyles--_E6rW"}},50156:(e,t,n)=>{n.d(t,{A:()=>i});let i={visibilityHidden:"DiffHighlightedOverlay-module__visibilityHidden--v59uf",visibilityVisible:"DiffHighlightedOverlay-module__visibilityVisible--zJWJ5",userSelectNone:"DiffHighlightedOverlay-module__userSelectNone--i39lB",focusedResultStyles:"DiffHighlightedOverlay-module__focusedResultStyles--QZMIm",nonFocusedResultStyles:"DiffHighlightedOverlay-module__nonFocusedResultStyles--x2N7d",nonHunkStyles:"DiffHighlightedOverlay-module__nonHunkStyles--_dJlQ"}},98576:(e,t,n)=>{n.d(t,{A:()=>i});let i={tableLayoutFixed:"DiffLines-module__tableLayoutFixed--YZcIJ"}},66924:(e,t,n)=>{n.d(t,{A:()=>i});let i={"expand-button-line":"ExpandableHunkHeaderDiffLine-module__expand-button-line--rnQN5","expand-up-and-down":"ExpandableHunkHeaderDiffLine-module__expand-up-and-down--hCan_"}},23421:(e,t,n)=>{n.d(t,{A:()=>i});let i={gridColumnTemplate:"HiddenDiffPatch-module__gridColumnTemplate--3bEGq"}},20767:(e,t,n)=>{n.d(t,{A:()=>i});let i={overlay:"SelectedDiffLinesOverlay-module__overlay--mWvvK",overlayOpacity:"SelectedDiffLinesOverlay-module__overlayOpacity--B9iKM"}},91160:(e,t,n)=>{n.d(t,{M:()=>i});function i(e){if(null==e)throw Error("Failed to load page data.")}},62353:(e,t,n)=>{n.d(t,{V3:()=>d,_y:()=>s,wk:()=>o});var i=n(95140),r=n(92836);let l={cursorNavigationHopWordLeft:{hotkey:"Alt+ArrowLeft,Ctrl+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationHopWordRight:{hotkey:"Alt+ArrowRight,Ctrl+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationTopOfPage:{hotkey:"Meta+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationBottomOfPage:{hotkey:"Meta+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationEnd:{hotkey:"End,Meta+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"]},cursorNavigationHome:{hotkey:"Home,Meta+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"]},cursorNavigationPageUp:{hotkey:"PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"]},cursorNavigationPageDown:{hotkey:"PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"]},cursorNavigationArrowDown:{hotkey:"ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"]},cursorNavigationArrowUp:{hotkey:"ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"]},cursorNavigationArrowLeft:{hotkey:"ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"]},cursorNavigationArrowRight:{hotkey:"ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"]},cursorNavigationShiftHopWordLeft:{hotkey:"Alt+Shift+ArrowLeft,Ctrl+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftHopWordRight:{hotkey:"Alt+Shift+ArrowRight,Ctrl+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationShiftTopOfPage:{hotkey:"Meta+Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftBottomOfPage:{hotkey:"Meta+Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftEnd:{hotkey:"Shift+End,Meta+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"],modifierRequired:!0},cursorNavigationShiftHome:{hotkey:"Shift+Home,Meta+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"],modifierRequired:!0},cursorNavigationShiftPageUp:{hotkey:"Shift+PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"],modifierRequired:!0},cursorNavigationShiftPageDown:{hotkey:"Shift+PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"],modifierRequired:!0},cursorNavigationShiftArrowDown:{hotkey:"Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftArrowUp:{hotkey:"Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftArrowLeft:{hotkey:"Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftArrowRight:{hotkey:"Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationHighlightLine:{text:"J",hotkey:"Shift+J",useWhileBlobFocused:!0,noModifierHotkey:["J"],modifierRequired:!0},cursorNavigationGoLineUp:{hotkey:"Ctrl+p",useWhileBlobFocused:!0,noModifierHotkey:["p"],modifierRequired:!0},cursorNavigationOpenHelpDialog:{hotkey:"Alt+F1,Control+Alt+\u02D9,Control+Alt+h",useWhileBlobFocused:!0,noModifierHotkey:["F1","h","\u02D9"],modifierRequired:!0},cursorNavigationGoLineDown:{hotkey:"Ctrl+n",useWhileBlobFocused:!0,noModifierHotkey:["n"],modifierRequired:!0},cursorNavigationEnter:{text:"\u2318 Enter",hotkey:"Meta+Enter",useWhileBlobFocused:!0,noModifierHotkey:["Enter"],modifierRequired:!0},cursorNavigationSpace:{hotkey:" ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!1},cursorNavigationShiftSpace:{hotkey:"Shift+ ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!0},expandAndFocusLineContextMenu:{text:"Shift Alt C",hotkey:"Alt+Shift+C,Alt+Shift+\xc7",useWhileBlobFocused:!0,noModifierHotkey:["C"],modifierRequired:!0},copyFilePathShortcut:{text:"\u2318 shift .",hotkey:"Meta+Shift+>",useWhileBlobFocused:!0,noModifierHotkey:["."],modifierRequired:!0},copyPermalinkShortcut:{text:"\u2318 shift ,",hotkey:"Meta+Shift+<",useWhileBlobFocused:!0,noModifierHotkey:[","],modifierRequired:!0},copyRawContentShortcut:{text:"\u2318 shift c",hotkey:"Meta+Shift+C",useWhileBlobFocused:!0,noModifierHotkey:["c"],modifierRequired:!0},downloadRawContentShortcut:{text:"\u2318 shift s",hotkey:"Meta+Shift+S",useWhileBlobFocused:!0,noModifierHotkey:["s"],modifierRequired:!0},editFileShortcut:{hotkey:"e,Shift+E",useWhileBlobFocused:!0,noModifierHotkey:["e","E"]},goToLineShortcut:{text:"l",hotkey:"l,Shift+L",ariaKeyShortcuts:"l",useWhileBlobFocused:!0,noModifierHotkey:["l","L"]},alternativeGoToLineShortcut:{hotkey:"Mod+Alt+g",ariaKeyShortcuts:"Mod+Alt+g",useWhileBlobFocused:!0,noModifierHotkey:["g","G"]},findInFileShortcut:{hotkey:"Meta+f, F3",text:"\u2318 f",ariaKeyShortcuts:"Meta+F",useWhileBlobFocused:!0,noModifierHotkey:["f","F3"],modifierRequired:!0},findFilesShortcut:{hotkey:"t,Shift+T",useWhileBlobFocused:!0,noModifierHotkey:["t","T"]},findSelectionShortcut:{hotkey:"Meta+e",useWhileBlobFocused:!0,noModifierHotkey:["e"],modifierRequired:!0},findNextShortcut:{hotkey:"Mod+g"},findPrevShortcut:{hotkey:"Mod+Shift+G"},openWithGitHubDevShortcut:{hotkey:"., Meta+Shift+/",useWhileBlobFocused:!0,noModifierHotkey:["."]},openWithGitHubDevInNewWindowShortcut:{hotkey:"Shift+.,Shift+>,>",useWhileBlobFocused:!0,noModifierHotkey:[">"]},permalinkShortcut:{hotkey:"y,Shift+Y",useWhileBlobFocused:!0,noModifierHotkey:["y","Y"]},searchShortcut:{hotkey:"/",useWhileBlobFocused:!0,noModifierHotkey:["/"]},selectAllShortcut:{hotkey:"Meta+a",useWhileBlobFocused:!0,noModifierHotkey:["a"],modifierRequired:!0},selectEditTabShortcut:{hotkey:"Mod+Shift+P"},submitCommitDialogShortcut:{hotkey:"Mod+Enter"},refSelectorShortcut:{hotkey:"w",text:"w",useWhileBlobFocused:!0,noModifierHotkey:["w"]},escapeRightClickMenu:{hotkey:"Escape",useWhileBlobFocused:!0,noModifierHotkey:["Escape"]},toggleFocusedPaneShortcut:{hotkey:"Meta+F6,Meta+Shift+F6",useWhileBlobFocused:!0,noModifierHotkey:["F6"],modifierRequired:!0},toggleSymbolsShortcut:{hotkey:"Meta+i",useWhileBlobFocused:!0,noModifierHotkey:["i"],modifierRequired:!0},toggleTreeShortcut:{hotkey:"Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"],modifierRequired:!0},viewBlameShortcut:{hotkey:"b,Shift+B,Meta+/ Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"]},viewCodeShortcut:{hotkey:"Meta+/ Meta+c",useWhileBlobFocused:!0,modifierRequired:!0},viewPreviewShortcut:{hotkey:"Meta+/ Meta+p"},viewRawContentShortcut:{text:"\u2318 / \u2318 r",hotkey:"Meta+/ Meta+r",useWhileBlobFocused:!0,noModifierHotkey:["r"],modifierRequired:!0},findSymbolShortcut:{hotkey:"r,Shift+R",useWhileBlobFocused:!0,noModifierHotkey:["r","R"],modifierRequired:!1}},a=new Map;function o(){let e=(0,r.X)(["mac"]),[t]=(0,i.I)(()=>!1,!0,[]),n=0;if(e?n=1:t||(n=2),!a.has(n)){var o,s;let i=l;e||t||(i=Object.keys(o=i).reduce((e,t)=>{let n=o[t];return e[t]={hotkey:n.hotkey?.replace(/Meta/g,"Control"),text:n.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:n.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:n.useWhileBlobFocused,modifierRequired:n.modifierRequired,noModifierHotkey:n.noModifierHotkey},e},{})),t&&(i=Object.keys(s=i).reduce((e,t)=>{let n=s[t];return e[t]={hotkey:void 0,text:n.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:n.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:n.useWhileBlobFocused,modifierRequired:n.modifierRequired,noModifierHotkey:n.noModifierHotkey},e},{})),a.set(n,i)}return a.get(n)}function s(){let e=o();return Object.keys(e).reduce((t,n)=>{let i=e[n];if(i.useWhileBlobFocused&&i.noModifierHotkey&&i.modifierRequired)for(let e of i.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}function d(){let e=o();return Object.keys(e).reduce((t,n)=>{let i=e[n];if(i.useWhileBlobFocused&&i.noModifierHotkey&&!i.modifierRequired)for(let e of i.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}},37363:(e,t,n)=>{n.d(t,{z:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){try{this.worker=new Worker(e)}catch(e){console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){this.job=e,this.terminated=!1}}},76391:(e,t,n)=>{n.d(t,{N:()=>DebouncedWorkerManager});let DebouncedWorkerManager=class DebouncedWorkerManager{post(e){if(this.debounceOverrideCondition&&this.debounceOverrideCondition(e))return this.delayId&&clearTimeout(this.delayId),this.postNow(e);this.idle()?(this.delayId&&clearTimeout(this.delayId),this.delayId=setTimeout(()=>{this.postNow(e)},this.delayMs)):this.nextRequest=e}postNow(e){this.currentRequest=e,this.worker.postMessage(e)}idle(){return!this.currentRequest}terminate(){this.worker.terminate()}constructor(e,t=200,n){this.worker=e,this.delayMs=t,this.debounceOverrideCondition=n,this.currentRequest=void 0,this.nextRequest=void 0,this.worker.onmessage=({data:e})=>{this.onResponse&&this.onResponse(e),this.nextRequest?(this.postNow(this.nextRequest),this.nextRequest=void 0):this.currentRequest=void 0}}}},42516:(e,t,n)=>{n.d(t,{$S:()=>i.$,H1:()=>a.H,L4:()=>u.L,Su:()=>r.S,UA:()=>o.U,c7:()=>l.c,cT:()=>s.c,i4:()=>d.i,uo:()=>c.u}),n(91805);var i=n(96985),r=n(21685),l=n(37045),a=n(36470),o=n(25607),s=n(54465),d=n(14233),c=n(14993),u=n(89793);n(71918),n(35993)},81773:(e,t,n)=>{n.d(t,{p:()=>i});function i(e,t="r"){history.replaceState(null,"",`#${t}${e}`)}},89793:(e,t,n)=>{n.d(t,{L:()=>d});var i=n(74572),r=n(96540);let{getItem:l,removeItem:a,setItem:o}=(0,i.D)("localStorage"),s=(e,t)=>{let{diffSide:n,filePath:i,line:r,subjectId:l}=e;if(t)return`PullRequest:${l}-File:${i}`;if(void 0!==r&&void 0!==n)return`PullRequest:${l}-File:${i}-Line:${r}-DiffSide:${n}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function d({diffSide:e,filePath:t,handlePersistedCommentExists:n,line:i,subjectId:d,threadId:c,fileLevelComment:u}){let f,h;let m=(0,r.useMemo)(()=>c||(c??s({diffSide:e,filePath:t,line:i,subjectId:d},u)),[e,t,i,d,c,u]),{hasPersistedComment:p,removePersistedCommentFromStorage:g}=(f=l(m),h=!!f?.text?.trim(),(0,r.useEffect)(()=>{h&&n?.(f)},[h]),{hasPersistedComment:h,removePersistedCommentFromStorage:()=>{a(m),h=!1,f=null}});return{hasPersistedComment:p,persistCommentToStorage:e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),o(m,t)},removePersistedCommentFromStorage:g}}},76919:(e,t,n)=>{function i(e,t){return t.some(t=>r(t,e))}function r(e,t){return e.commentId===t.commentId&&e.path===t.path&&e.suggestion.length===t.suggestion.length&&l(e.suggestion,t.suggestion)}n.d(t,{EJ:()=>s,Lm:()=>d,c0:()=>i,o_:()=>o,yM:()=>r});let l=(e,t)=>e.length===t.length&&!e.some((e,n)=>e!==t[n]),a={USER_CANNOT_APPLY_SUGGESTION:"You do not have permission to apply this suggestion.",PULL_REQUEST_IS_CLOSED:"This suggestion cannot be applied because the pull request is closed.",PULL_REQUEST_IS_IN_MERGE_QUEUE:"This suggestion cannot be applied because the pull request is queued to merge.",IS_OUTDATED:"This suggestion is outdated and cannot be applied.",IS_PENDING:"This suggestion is part of a pending comment and cannot be applied.",IS_RESOLVED:"This suggestion is part of a resolved comment and cannot be applied.",UNCHANGED_CODE:"This suggestion is invalid because no changes were made to the code.",INVALID_RANGE:"Unable to commit due to other pending changes affecting this line.",BATCH_TOO_BIG:"Unable to commit due to too many changes in the batch.",DELETED_LINES:"Unable to apply suggestions on deleted lines.",RANGE_NOT_PROVIDED:"This suggestion does not have a valid line range.",UNABLE_TO_DETERMINE_VALIDITY:"Unable to determine the validity of this suggestion."};function o({suggestedChange:e,isOutdated:t,isPending:n,isResolved:i,pullRequestIsClosed:r,pullRequestIsInMergeQueue:l,userCanApplySuggestion:o,applySuggestedChangesValidationData:s,suggestedChangesConfig:d}){let{lineRange:c}=s;if(t)return{isValid:!1,reason:a.IS_OUTDATED};if(n)return{isValid:!1,reason:a.IS_PENDING};if(i)return{isValid:!1,reason:a.IS_RESOLVED};if(r)return{isValid:!1,reason:a.PULL_REQUEST_IS_CLOSED};if(l)return{isValid:!1,reason:a.PULL_REQUEST_IS_IN_MERGE_QUEUE};if(!o)return{isValid:!1,reason:a.USER_CANNOT_APPLY_SUGGESTION};if(!c)return{isValid:!1,reason:a.RANGE_NOT_PROVIDED};if(!d)return{isValid:!1,reason:a.UNABLE_TO_DETERMINE_VALIDITY};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:a.DELETED_LINES};let u=d?.sourceContentFromDiffLines,f=e.suggestion.join("\n");return 0!==e.suggestion.length&&f===u?{isValid:!1,reason:a.UNCHANGED_CODE}:{isValid:!0}}function s(e,t){let n={isValid:!1,reason:a.INVALID_RANGE},i={isValid:!1,reason:a.BATCH_TOO_BIG};return t.length>=50?i:t.find(t=>t.threadId===e.threadId)||function(e,t){for(let r of t)if(e.path===r.path){var n,i;return n=e.lineRange,i=r.lineRange,n.endLineNumber>=i.startLineNumber&&n.startLineNumber<=i.endLineNumber}return!1}(e,t)?n:{isValid:!0}}function d(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let t=e.subject.startDiffSide??e.subject.endDiffSide;if(!t)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:t};if(!e.subject.endLine||!e.subject.endDiffSide)return;let n=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:n,startOrientation:t||"RIGHT"}}},71918:(e,t,n)=>{var i=n(67726);n(35993),i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l,i.l},35993:(e,t,n)=>{var i;n.d(t,{U:()=>i}),function(e){e.Failure="FAILURE",e.Notice="NOTICE",e.Warning="WARNING"}(i||(i={}))},19255:(e,t,n)=>{n.d(t,{e:()=>i});function i(){document.querySelector('#__primerPortalRoot__ div[role="dialog"]')&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}},7338:(e,t,n)=>{function i(e,t){for(let n of function e(t,n=[]){if(""===t)return n;let i=t.match(r());if(!i)return n;let l=i.groups.fence;if(!l)return n;let a=l.includes("~")?"~":"`",o=t.match(function(e,t){let n=r([e],t);return RegExp(`${n.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${e}{${t},}[ 	]*$`,"ms")}(a,l.length));if(!o)return n;let s=0,d=i.groups.indent;""!==d&&(s=d.length);let c=o.groups.suggestion;if(s>0){let e=RegExp(`^ {0,${s}}`,"m");c=c.replace(e,"")}return n.push(c),e(t.slice(o.index+o[0].length),n)}(e))if(n===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function r(e=["`","~"],t){let n=t?`{${t}}`:"{3,}",i=e.map(e=>`${e}${n}`);return RegExp(`^(?<indent> {0,3})(?<fence>${i.join("|")})suggestion[ 	]*$`,"m")}n.d(t,{u:()=>i})},822:(e,t,n)=>{n.d(t,{HS:()=>l,Oc:()=>r,Tv:()=>s,Xr:()=>SymbolChangedEvent,f7:()=>a,fD:()=>o,qR:()=>i});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function i(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function r(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function l(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function a(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function o(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function s(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},89426:(e,t,n)=>{n.d(t,{C6:()=>l,G7:()=>i,wh:()=>r,xP:()=>a});let i="tree-comparison",r={explain:"explain",conversation:"conversation",suggest:"suggest",askDocs:"ask-docs",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request"},l=["exception","filtered","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],a=["bing-search","codesearch","knowledge-base-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data"]},38959:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"oid",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFileDiffReference_Comparison",selections:[{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"oldCommit",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"newCommit",plural:!1,selections:e,storageKey:null}],type:"PullRequestComparison",abstractKey:null}}();i.hash="fb70959c69497160ff44b9b0c7820e08";let r=i},58231:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},t=[e,{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFileDiffReference_DiffEntry",selections:[{alias:null,args:null,kind:"ScalarField",name:"pathDigest",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"rawUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBinary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSubmodule",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLfsPointer",storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"oldTreeEntry",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"newTreeEntry",plural:!1,selections:t,storageKey:null}],type:"PullRequestDiffEntry",abstractKey:null}}();i.hash="f853615ae640634aad832da060f944cf";let r=i},53706:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"endOid"},t={defaultValue:null,kind:"LocalArgument",name:"pullRequestId"},n={defaultValue:null,kind:"LocalArgument",name:"startOid"},i=[{kind:"Variable",name:"id",variableName:"pullRequestId"}],r=[{kind:"Variable",name:"endOid",variableName:"endOid"},{kind:"Variable",name:"startOid",variableName:"startOid"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"oid",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a],storageKey:null},a],storageKey:null},a];return{fragment:{argumentDefinitions:[e,t,n],kind:"Fragment",metadata:null,name:"DiffChatWrapper_ComparisonQuery",selections:[{alias:"pullRequest",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"PullRequestComparison",kind:"LinkedField",name:"comparison",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useFileDiffReference_Comparison"}],storageKey:null}],type:"PullRequest",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,e],kind:"Operation",name:"DiffChatWrapper_ComparisonQuery",selections:[{alias:"pullRequest",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"PullRequestComparison",kind:"LinkedField",name:"comparison",plural:!1,selections:[{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"oldCommit",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"newCommit",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"PullRequest",abstractKey:null},a],storageKey:null}]},params:{id:"fb6fd29b2f37f48929378e605adb454a",metadata:{},name:"DiffChatWrapper_ComparisonQuery",operationKind:"query",text:null}}}();i.hash="e34cdc5b305060e84f51c908a09989a0";let r=i},71324:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"diffEntryId"}],t=[{kind:"Variable",name:"id",variableName:"diffEntryId"}],n={alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},i=[n,{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"DiffChatWrapper_DiffEntryQuery",selections:[{alias:"diffEntry",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useFileDiffReference_DiffEntry"}],type:"PullRequestDiffEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"DiffChatWrapper_DiffEntryQuery",selections:[{alias:"diffEntry",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pathDigest",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"rawUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBinary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSubmodule",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLfsPointer",storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"oldTreeEntry",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"newTreeEntry",plural:!1,selections:i,storageKey:null}],type:"PullRequestDiffEntry",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"7c9df64c41ef33594dd0882be84ef373",metadata:{},name:"DiffChatWrapper_DiffEntryQuery",operationKind:"query",text:null}}}();i.hash="064698bd6869b0c7d063a68d0b3666d8";let r=i},45307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"isCopilotDotcomChatEnabled",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DiffChatWrapper_ViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"DiffChatWrapper_ViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"16bed8244ee96ad06b6638dbb86dd0ff",metadata:{},name:"DiffChatWrapper_ViewerQuery",operationKind:"query",text:null}}}();i.hash="4d1f99d4dad28f392f7ea1a3cecbcfff";let r=i},54371:(e,t,n)=>{n.d(t,{Kf:()=>s,hQ:()=>d});var i=n(96540),r=n(18312);let l=n(38959),a=n(58231),o=({oldCommit:e,newCommit:t},{oldTreeEntry:n,newTreeEntry:i,...r},l)=>{if(r.isBinary||r.isSubmodule||r.isLfsPointer||!i||(n?.size??0)>1048576||(i.size??0)>1048576)return;let a=n||!l?t.oid:l;return{type:"file-diff",id:`diff-${r.pathDigest}`,url:r.rawUrl??"",baseFile:n?{type:"file",repoID:e.repository.databaseId??0,repoName:e.repository.name,repoOwner:e.repository.owner.login,path:n.path??"",commitOID:e.oid,url:`${e.repository.url}/raw/${e.oid}/${n.path}`,ref:e.oid}:null,headFile:{type:"file",repoID:t.repository.databaseId??0,repoName:t.repository.name,repoOwner:t.repository.owner.login,path:i.path??"",commitOID:a,url:`${t.repository.url}/raw/${a}/${i.path}`,ref:a},head:null,base:null}},s=(e,t,n)=>{let s=(0,r.useFragment)(l,e),d=(0,r.useFragment)(a,t);return(0,i.useMemo)(()=>o(s,d,n),[s,d,n])},d=(e,t)=>{let n=(0,r.useFragment)(l,e);return(0,i.useMemo)(()=>o(n,t),[n,t])}},30792:(e,t,n)=>{n.d(t,{B:()=>g,C:()=>h});var i=n(74848),r=n(20053),l=n(59857),a=n(86519),o=n(30729),s=n(58081),d=n(80577),c=n(63808),u=n(38510),f=n(75177);function h({children:e,isAddition:t,sx:n}){return(0,i.jsx)(f.A,{sx:{color:t?"success.fg":"danger.fg",ml:1,fontWeight:"bold",fontSize:0,...n},children:e})}try{h.displayName||(h.displayName="LinesChangedCounterLabel")}catch{}let m={"diff-file-header":"DiffFileHeader-module__diff-file-header--TjXyn",collapsed:"DiffFileHeader-module__collapsed--FPwYM","file-name":"DiffFileHeader-module__file-name--mY1O5"};function p({newPath:e,oldPath:t,status:n}){let r=e&&e.startsWith("."),a=t&&t.startsWith("."),o=r?(0,i.jsxs)(i.Fragment,{children:["\u200E",e]}):(0,i.jsx)(i.Fragment,{children:e}),s=a?(0,i.jsxs)(i.Fragment,{children:["\u200E",t]}):(0,i.jsx)(i.Fragment,{children:t});return"RENAMED"===n?(0,i.jsxs)("code",{children:[s," ",(0,i.jsx)(l.ArrowRightIcon,{})," ",o]}):"DELETED"===n||"REMOVED"===n?(0,i.jsx)("code",{children:s}):(0,i.jsx)("code",{children:o})}function g({additionalLeftSideContent:e,areLinesExpanded:t,canExpandOrCollapseLines:n,defaultToRichDiff:f,isCollapsed:g,canToggleRichDiff:x,linesAdded:y,linesDeleted:b,fileLinkHref:v,fileLinkRef:C,newMode:N,newPath:j,oldMode:k,oldPath:w,onCopyPath:L,onHeaderClick:S,onToggleDiffDisplay:D,onToggleExpandAllLines:E,onToggleFileCollapsed:A,patchStatus:I,path:R,rightSideContent:T}){return(0,i.jsxs)("div",{className:(0,r.A)(m["diff-file-header"],g?m.collapsed:""),children:[(0,i.jsx)("button",{onClick:A,className:"Button Button--iconOnly Button--invisible flex-shrink-0","aria-label":g?`expand file: ${R}`:`collapse file: ${R}`,children:g?(0,i.jsx)(l.ChevronRightIcon,{}):(0,i.jsx)(l.ChevronDownIcon,{})}),e,(0,i.jsxs)("div",{className:"d-flex px-1 flex-items-center flex-1 overflow-hidden",children:[(0,i.jsx)("h3",{className:(0,r.A)(m["file-name"]),children:(0,i.jsx)(a.A,{className:"Link--primary",href:v,onClick:S,ref:C,children:(0,i.jsx)(p,{newPath:j,oldPath:w,status:I})})}),(0,i.jsx)(u.T,{className:"ml-1 flex-shrink-0",textToCopy:j??w??"",ariaLabel:"Copy file name to clipboard",tooltipProps:{direction:"s",anchorSide:"outside-bottom"},onCopy:L,avoidStyledComponent:!0,hasPortalTooltip:!0}),(0,c._$)(I,k,N)&&(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("code",{children:k}),(0,i.jsx)(o.A,{icon:l.ArrowRightIcon,sx:{mx:1}}),(0,i.jsx)("code",{children:N})]}),n&&E&&(0,i.jsx)(d.m,{text:t?`collapse non diff lines: ${R}`:`expand all lines: ${R}`,direction:"s",children:(0,i.jsx)("button",{onClick:E,className:`Button Button--iconOnly Button--invisible flex-shrink-0 ${t?"":"js-expand-all-difflines-button"}`,"aria-label":t?`collapse non diff lines: ${R}`:`expand all lines: ${R}`,"data-file-path":R,children:g?(0,i.jsx)(l.FoldIcon,{}):(0,i.jsx)(l.UnfoldIcon,{})})})]}),(0,i.jsxs)("div",{className:"d-flex mr-2 flex-justify-end flex-1",children:[y>0&&(0,i.jsxs)(h,{isAddition:!0,children:["+",y]}),b>0&&(0,i.jsxs)(h,{isAddition:!1,children:["-",b]})]}),x&&(0,i.jsxs)(s.I,{"aria-label":"File view",size:"small",sx:{mx:2},onChange:D?e=>D(1===e):void 0,children:[(0,i.jsx)(s.I.IconButton,{"aria-label":"Display the source diff",defaultSelected:!f,icon:l.CodeIcon}),(0,i.jsx)(s.I.IconButton,{"aria-label":"Display the rich diff",defaultSelected:f,icon:l.FileIcon})]}),T]})}try{p.displayName||(p.displayName="FileName")}catch{}try{g.displayName||(g.displayName="DiffFileHeader")}catch{}},63808:(e,t,n)=>{function i(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function r(e,t,n){return"MODIFIED"===e&&t!==n}function l(e){return"COPIED"===e.status&&!i(e)}function a(e){return"RENAMED"===e.status&&!i(e)}function o(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function s(e){return!!e.truncatedReason}n.d(t,{HI:()=>s,Jc:()=>l,_$:()=>r,dK:()=>a,lO:()=>o,l_:()=>u,s8:()=>h,xW:()=>f});let d=["maximum diff size exceeded.","maximum number of lines exceeded."],c=/^maximum file count exceeded/;function u(e){let t=e;return d.includes(e)?t="Sorry, we could not display the changes to this file because there were too many other changes to display.":c.test(e)&&(t="Sorry, we could not display the changes to this file because there were too many other files to display."),t}function f(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},49078:(e,t,n)=>{n.d(t,{oj:()=>S,EB:()=>C,sK:()=>b});var i=n(74848),r=n(59857),l=n(96540),a=n(72512),o=n(68976),s=n(76515);function d(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function c(e,t){var n=d(e,t,"get");return n.get?n.get.call(e):n.value}function u(e,t,n){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function f(e,t,n){var i=d(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,i,n),n}function h(e,t){return e.name.localeCompare(t.name)}function m(e,t){return e.fileName.localeCompare(t.fileName)}function p(e){return e.diff}var g=new WeakMap;let FileNode=class FileNode{constructor(e){u(this,g,{writable:!0,value:void 0}),this.diff=e,this.filePath=this.diff.path,f(this,g,this.filePath.split("/")),this.fileName=c(this,g)[c(this,g).length-1],this.directoryParts=c(this,g).slice(0,c(this,g).length-1)}};var x=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=c(this,x).get(e);if(!t){let n=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${n}${e}`),this.directories.push(t),c(this,x).set(e,t)}return t}sort(){for(let e of(this.directories.sort(h),this.files.sort(m),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(p);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){u(this,x,{writable:!0,value:void 0}),this.name=e,this.path=t,this.directories=[],this.files=[],f(this,x,new Map)}};function y(e){let t=new DirectoryNode("","");for(let n of e.map(e=>new FileNode(e))){let e=t;for(let t of n.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(n)}return t.sort(),t}function b(e){return y(e.filter(e=>!!e)).getOrderedDiffs()}var v=n(30729);function C({status:e}){switch(e){case"ADDED":case"COPIED":return(0,i.jsx)(v.A,{size:16,icon:r.FileAddedIcon,className:"fgColor-success"});case"DELETED":case"REMOVED":return(0,i.jsx)(v.A,{size:16,icon:r.FileRemovedIcon,className:"fgColor-danger"});case"RENAMED":return(0,i.jsx)(v.A,{size:16,icon:r.FileMovedIcon,className:"fgColor-attention"});default:return(0,i.jsx)(v.A,{size:16,icon:r.FileIcon,className:"fgColor-muted"})}}try{C.displayName||(C.displayName="FileStatusIcon")}catch{}var N=n(27500),j=n(90600),k=n(97156);let w=(0,l.memo)(function({file:e,depth:t,hash:n,onSelect:s}){let d=l.useRef(null),c=(0,N.Z)({focusRowRef:d,mouseRowRef:d}),u=(e.diff.totalCommentsCount??0)+(e.diff.totalAnnotationsCount??0),f=(0,l.useCallback)(()=>{d.current?.tabIndex===0&&d.current?.focus()},[d]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":f}}),(0,i.jsxs)(a.G.Item,{defaultExpanded:!0,"aria-level":t,current:e.diff.pathDigest===n,id:e.diff.path,onSelect:()=>s?.(e.diff),ref:d,children:[(0,i.jsx)(a.G.LeadingVisual,{children:(0,i.jsx)(C,{status:e.diff.changeType})}),e.fileName,c&&(0,i.jsx)(o.m,{"data-testid":`${e.fileName}-item-tooltip`,id:`${e.fileName}-item-tooltip`,contentRef:d,"aria-label":e.fileName,open:!0,direction:"ne"}),!!u&&(0,i.jsxs)("span",{className:"sr-only",children:["has ",u<10?u:"9+"," ",u>1?"comments":"comment"]}),!!u&&(0,i.jsx)(a.G.TrailingVisual,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[(0,i.jsx)(r.CommentIcon,{}),(0,i.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:u<10?u:"9+"})]})})]})]})});function L({directory:e,depth:t=0,leadingPath:n="",...r}){let d=n?`${n}/`:"",[c,u]=l.useState(""),f=l.useRef(null),h=(0,l.useCallback)(()=>{u(((0,s.pd)(k.fV.hash??"")??"").replace("diff-",""))},[u]);(0,l.useEffect)(()=>(window.addEventListener("hashchange",h),()=>{window.removeEventListener("hashchange",h)}),[h]);let m=l.useRef(null),p=(0,N.Z)({focusRowRef:m,mouseRowRef:f}),g=(0,l.useCallback)(()=>{m.current?.tabIndex===0&&m.current?.focus()},[m]);if(!e.files.length&&1===e.directories.length)return(0,i.jsx)(i.Fragment,{children:e.directories.map(n=>(0,i.jsx)(L,{depth:0===t?1:t,directory:n,leadingPath:`${d}${e.name}`,...r},n.path))});function x(){return(0,i.jsxs)(i.Fragment,{children:[e.files.map(e=>(0,i.jsx)(w,{depth:t+1,file:e,hash:c,...r},e.filePath)),e.directories.map(e=>(0,i.jsx)(L,{depth:t+1,directory:e,...r},e.path))]})}return 0===t?x():(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":g}}),(0,i.jsxs)(a.G.Item,{ref:m,defaultExpanded:!0,id:e.path,children:[(0,i.jsx)(a.G.LeadingVisual,{children:(0,i.jsx)(a.G.DirectoryIcon,{})}),(0,i.jsx)("span",{ref:f,children:`${d}${e.name}`}),p&&(0,i.jsx)(o.m,{"data-testid":`${e.name}-directory-item-tooltip`,id:`${e.name}-directory-item-tooltip`,contentRef:m,"aria-label":`${d}${e.name}`,open:!0,direction:"ne"}),(0,i.jsx)(a.G.SubTree,{children:x()})]},e.path)]})}let S=(0,l.memo)(function({diffs:e,...t}){let n=y(e);return(0,i.jsx)(a.G,{"aria-label":"File Tree",children:(0,i.jsx)(L,{directory:n,...t})})});try{w.displayName||(w.displayName="File")}catch{}try{L.displayName||(L.displayName="Directory")}catch{}try{S.displayName||(S.displayName="DiffFileTree")}catch{}},73387:(e,t,n)=>{n.d(t,{W:()=>r,y:()=>l});var i=n(94120);let r={ArrowLeft:i.z0.ArrowHorizontal,ArrowDown:i.z0.ArrowVertical,ArrowUp:i.z0.ArrowVertical,ArrowRight:i.z0.ArrowHorizontal,h:i.z0.HL,j:i.z0.JK,k:i.z0.JK,l:i.z0.HL,a:i.z0.AD,s:i.z0.WS,w:i.z0.WS,d:i.z0.AD,Tab:i.z0.Tab,Home:i.z0.HomeAndEnd,End:i.z0.HomeAndEnd,PageUp:i.z0.PageUpDown,PageDown:i.z0.PageUpDown,Backspace:i.z0.Backspace},l=i.z0.ArrowAll|i.z0.PageUpDown|i.z0.HomeAndEnd|i.z0.AD},26443:(e,t,n)=>{n.d(t,{Wi:()=>i.W,tT:()=>r.t,yC:()=>i.y});var i=n(73387),r=n(55141)},55141:(e,t,n)=>{n.d(t,{t:()=>i});let i={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"}}},36220:(e,t,n)=>{n.d(t,{Dd:()=>s.Dd,K_:()=>o.K,N0:()=>s.N0,T5:()=>i.T,Uz:()=>l.U,Yj:()=>a.Y,cP:()=>o.c,qj:()=>r.q,xB:()=>d.x});var i=n(16385),r=n(72360);n(5242);var l=n(32612),a=n(50990),o=n(68950),s=n(76515),d=n(54577);n(86084)},16340:(e,t,n)=>{n.d(t,{F:()=>i});function i(e,t){return e?.threads?.flatMap(e=>{let n=e?.id,i=e?.commentsData?.comments?.[0]?.author??t,r=e?.commentsData.totalCount??0,l=e?.commentsData?.__id;return n&&i?[{id:n,author:i,commentCount:r,commentsConnectionId:l,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}},77321:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(51888),r=n(9393);function l({selectedDiffRowRange:e,leftLines:t,rightLines:n}){let l=!!n,{startOrientation:a,endOrientation:o}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let s=f(a).findIndex(t=>(0,r.a2)(t,e.startLineNumber,e.startOrientation)),d=f(o).findIndex(t=>(0,r.a2)(t,e.endLineNumber,e.endOrientation)),c=s>=0&&d>=0;function u(e){if(!c||(0,r.Po)(e))return!1;let t=f((0,i.XU)(e.type)).indexOf(e);return t>=s&&t<=d}function f(e){return l&&"left"!==("string"==typeof e?e:(0,i.XU)(e.type))?n:t}let h=f("left").filter(e=>u(e)),m=f("right").filter(e=>u(e));return{isRowSelected:u,selectedRightLines:m,selectedLeftLines:h}}},76515:(e,t,n)=>{function i(e,t){return`${"left"===t?"L":"R"}${e}`}function r(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function l(e){let t=e.match(/^#?(r\d+)/),n=t?.[1];return n?parseInt(n.slice(1)):void 0}function a(e){let t=e.match(/^#annotation_(\d+)/),n=t?.[1];return n?parseInt(n):void 0}function o(e){let t=function(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let n=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=n&&6===n.length?n:null}(e);if(t){let e=t[1],n=t[2]?"L"===t[2]?"left":"right":void 0,i=t[3]?parseInt(t[3]):void 0;if(!e||!n||void 0===i)return;return{diffAnchor:e,startOrientation:n,startLineNumber:i,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??n,endLineNumber:(t[5]?parseInt(t[5]):void 0)??i,firstSelectedLineNumber:i,firstSelectedOrientation:n}}}function s(e){c(d(e))}function d(e){let t=i(e.startLineNumber,e.startOrientation),n=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=i(e.endLineNumber,e.endOrientation);n+=`-${t}`}return n}function c(e){let t=`#${e}`;if(t===window.location.hash)return;let n=window.location.href;history.replaceState({...history.state},"",t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:n}))}n.d(t,{Dd:()=>l,N0:()=>a,ZD:()=>o,i8:()=>s,j$:()=>d,pd:()=>r,pk:()=>c})},86084:(e,t,n)=>{var i;function r({data:e}){let{query:t,diffEntryInfo:n,currentDiffEntryData:i}=e;return{matchingDiffs:i?function(e,t,n){if(0===n.size)return new Map;let i=n.size>=200,r={},l=e.reduce((n,i,l)=>{if(r[l])return n;r[l]=!0;let o=a(t,[e[l]]),s=o.next();for(;!s.done&&n.size<200;){let{resultsWithinDiff:t}=s.value;n.set(e[l]?.pathDigest??"",t),s=o.next()}return n},new Map);if(l.size<200&&i){let n=a(t,e,l.size),i=n.next();for(;!i.done&&l.size<200;){let{resultsWithinDiff:t,diff:r}=i.value;l.set(e[r]?.pathDigest??"",t),i=n.next()}}return l}(n,l(t),i):function(e,t){let n=new Map,i=a(t,e),r=i.next();for(;!r.done&&n.size<200;){let{resultsWithinDiff:t,diff:l}=r.value;n.set(e[l]?.pathDigest??"",t),r=i.next()}return n}(n,l(t)),query:t}}function l(e){return{kind:0,regexp:RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")}}function*a(e,t,n=0){for(let i=n;i<t.length;i++){let n=t[i],r=[],l=0;for(let a=0;a<n.diffLines.length;a++){let o,s;o=t[i]?.diffLines[a]?.type==="HUNK"?n.diffLines[a]?.text:n.diffLines[a]?.text?.substring(1);let d=n.diffLines[a];for(;o&&null!==(s=e.regexp.exec(o));){let e=s[0],t=s.index;r.push({pathDigest:n.pathDigest,indexWithinPathDigest:l,matchContent:e,column:t,diffLineNumIndex:a,isHunk:(d?.type==="HUNK")??!1,hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:t+e.length,text:o}),l++}}0!==r.length&&(yield{diff:i,resultsWithinDiff:r})}}n.d(t,{f:()=>r}),function(e){e[e.Text=0]="Text",e[e.Symbol=1]="Symbol"}(i||(i={}))},14903:(e,t,n)=>{n.d(t,{u:()=>GridNavigator});var i=n(9393);let GridNavigator=class GridNavigator{moveToNextItem(e,t){let n;let i=this.cellIdToGridLocation.get(this.focusedGridCell?.cellId??"");if(!i)return;let[r]=i,[,l]=i;switch(("ArrowDown"===e||"ArrowUp"===e)&&this.isHunkRow(r)&&this.savedColumnIndex&&(l=this.savedColumnIndex,this.savedColumnIndex=void 0),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=this.grid.length-1,t=this.grid[e]?.length;t&&(n=this.grid[e]?.[t-1]);break}case"ArrowUp"===e:this.isHunkRow(r-1)?(this.saveColumnIndex(l),n=this.grid[r-1]?.[0]):n=this.grid[r-1]?.[l];break;case"ArrowDown"===e:this.isHunkRow(r+1)?(this.saveColumnIndex(l),n=this.grid[r+1]?.[0]):n=this.grid[r+1]?.[l];break;case"ArrowLeft"===e:n=this.grid[r]?.[l-1];break;case"ArrowRight"===e:n=this.grid[r]?.[l+1];break;case"PageUp"===e:{this.saveColumnIndex(l);let e=this.getPreviousHunkRowIndex(r);n=this.grid[e]?.[0];break}case"PageDown"===e:{this.saveColumnIndex(l);let e=this.getNextHunkRowIndex(r),t=0;e||(e=this.grid.length-1,t=l),n=this.grid[e]?.[t];break}case"Home"===e:n=this.grid[r]?.[0];break;case"End"===e:{let e=this.grid[r];if(e&&!this.isHunkRow(r)){let t=e.length-1;n=this.grid[r]?.[t]}}}return n&&(this.focusedGridCell=n),this.focusedGridCell}reinitializeGrid(e,t){this.initializeGrid(e,t)}focusFirstGridCell(e){e&&this.cellIdToGridLocation.get(e)?this.focusGridCell(e):this.focusedGridCell=this.grid[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=this.cellIdToGridLocation.get(e);if(!t)return;let[n,i]=t;this.focusedGridCell=this.grid[n]?.[i]}getNextSelectableCell(e){let t;let n=this.lastSelectedGridCell||this.focusedGridCell,i=this.cellIdToGridLocation.get(n?.cellId??"");if(!i)return;let[r,l]=i;if(("ArrowUp"!==e||!(r<=1))&&("ArrowDown"!==e||r!==this.grid.length-1)){if("ArrowUp"===e){let e=r-1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:l}),e--}if("ArrowDown"===e){let e=r+1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:l}),e++}return t&&(this.lastSelectedGridCell=t),t}}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=this.cellIdToGridLocation.get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<2?this.grid[e]?.[this.focusedGridCell.columnIndex+2]:this.grid[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=this.grid.find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=this.grid.slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,n){let r=(0,i.qX)(this.fileAnchor,e,t),l=(0,i.u6)(r,0),a=this.cellIdToGridLocation.get(l);if(!a)return!1;let[o]=a;return!!n===this.isHunkRow(o)}getNextSelectableCellFromRow({rowIndex:e,columnIndex:t}){let n=this.grid[e],i=n?.[t];switch(!0){case i?.isHunk:return;case i?.orientation==="left"&&i.isEmpty:return n?.[t+2];case i?.orientation==="right"&&i.isEmpty:return n?.[t-2];default:return n?.[t]}}getNextHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).find(t=>t>e)}getPreviousHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}initializeGrid(e,t){this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set;for(let n=0;n<e.length;n++){let r=[],l=e[n];if(void 0!==l){if(this.isSplitDiff){let e=(t||[])[n],a=(0,i.qX)(this.fileAnchor,l,e);(0,i.Po)(l)||"HUNK"!==l.type?this.initializeSplitDiffCodeRow({leftLine:l,rightLine:e,row:r,rowIdentifier:a,rowIndex:n}):this.initializeHunkRow(r,a,n)}else{let e=(0,i.qX)(this.fileAnchor,l,l);(0,i.Po)(l)||"HUNK"!==l.type?this.initializeUnifiedDiffCodeRow({diffLine:l,row:r,rowIdentifier:e,rowIndex:n}):this.initializeHunkRow(r,e,n)}this.grid.push(r)}}}initializeContentCell({cellIndex:e,diffLine:t,orientation:n,row:r,rowIdentifier:l,rowIndex:a}){let o;let s=(0,i.u6)(l,e);(0,i.Po)(t)||"left"!==n||(o=t?.left),(0,i.Po)(t)||"right"!==n||(o=t?.right),r.push({lineNumber:o,orientation:n,isHunk:!1,isEmpty:(0,i.Po)(t),cellId:(0,i.u6)(l,e),columnIndex:e}),this.cellIdToGridLocation.set(s,[a,e])}initializeHunkRow(e,t,n){let r=(0,i.u6)(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:r,columnIndex:0}),this.cellIdToGridLocation.set(r,[n,0]),this.hunkRowIndexes.add(n)}isHunkRow(e){return this.hunkRowIndexes.has(e)}initializeSplitDiffCodeRow({leftLine:e,rightLine:t,row:n,rowIdentifier:i,rowIndex:r}){this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:2,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:3,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:r})}initializeUnifiedDiffCodeRow({diffLine:e,row:t,rowIdentifier:n,rowIndex:r}){let l=(0,i.Po)(e)||"DELETION"!==e.type?"right":"left";this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:n,rowIndex:r}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:n,rowIndex:r}),this.initializeContentCell({cellIndex:2,diffLine:e,orientation:l,row:t,rowIdentifier:n,rowIndex:r})}saveColumnIndex(e){this.isHunkRow(e)||(this.savedColumnIndex=e)}constructor(e,t,n,i,r){this.fileAnchor=e,this.isSplitDiff=t,this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set,this.initializeGrid(n,i),this.focusFirstGridCell(r)}}},81904:(e,t,n)=>{n.d(t,{Fs:()=>a,fR:()=>o,wj:()=>r});var i=n(9393);let r={finalLineId:"final-hunk-header-line"};function l(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function a(e,t){if("HUNK"===e.type&&e.__id===r.finalLineId)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let n=t.sort(l).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[n],nextHunk:t[n+1],previousHunk:t[n-1]}}function o(e){let t=[],n=0;for(let l=1;l<e.length;l++){let a=e[l],o=l===e.length-1;if(a&&!(0,i.Po)(a)){if("HUNK"===a.type){let o;let s=e[n];if(!s||(0,i.Po)(s))continue;let d=l-1;for(;(!o||(0,i.Po)(o))&&(o=e[d],-1!=--d););o&&!(0,i.Po)(o)&&t.push({startBlobLineNumber:s.blobLineNumber,endBlobLineNumber:o.blobLineNumber}),a.__id===r.finalLineId&&t.push({startBlobLineNumber:a.blobLineNumber,endBlobLineNumber:a.blobLineNumber+20}),n=l;continue}if(o){let r=e[n];r&&!(0,i.Po)(r)&&t.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:a.blobLineNumber})}}}return t}},9393:(e,t,n)=>{n.d(t,{Ji:()=>h,Ls:()=>k,Mk:()=>p,On:()=>s,Po:()=>u,S4:()=>b,YY:()=>v,ZC:()=>g,_S:()=>m,a1:()=>j,a2:()=>o,j2:()=>x,oE:()=>C,pI:()=>y,qK:()=>f,qX:()=>d,u6:()=>c});var i=n(51888),r=n(12480),l=n(6024),a=n(76515);function o(e,t,n){return"left"===n?!u(e)&&e.left===t:!u(e)&&(0,i.XU)(e.type)===n&&e.right===t}function s(e,t){if(!e)return;if(!t)return e;let n=!1,i=!1,r=!1;for(let l of t)if(l&&(i||(i=o(l,e.startLineNumber,e.startOrientation)),r||(r=o(l,e.endLineNumber,e.endOrientation)),(n=r&&!i)||i&&r))break;return n?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation,firstSelectedLineNumber:e.endLineNumber}:e}function d(e,t,n){let i=`-${u(t)||"number"!=typeof t.left?"empty":t.left}`,r=n?`-${u(n)||"number"!=typeof n.right?"empty":n.right}`:"";return`${e}${i}${r}`}function c(e,t){return`${e}-${t}`}function u(e){return!!e&&e===l.V}function f(e){return!!e&&e!==l.V}function h(e){return"CONTEXT"===e.type}function m(e,t){let n;switch(t){case"ADDITION":n="+";break;case"DELETION":n="-";break;case"CONTEXT":case"INJECTED_CONTEXT":n=" "}if(!n||!e.startsWith(n))return[e,void 0];let i=e[0];return[e.substring(1),i]}function p(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(l.V);for(;n.length<t.length;)n.push(l.V)};for(let r of e)switch(r.type){case"ADDITION":n.push(r);break;case"DELETION":t.push(r);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(r),n.push(r)}return i(),{leftLines:t,rightLines:n}}function g(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function x({line:e,range:t,fileAnchor:n}){let i;let{origin:r,pathname:l}=window.location;if(t?i=(0,a.j$)(t):e&&(i=function(e,t){let n=["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type),i=n?e.left:e.right,r=n?"left":"right";if(null!==i)return(0,a.j$)({diffAnchor:t,endLineNumber:i,endOrientation:r,startLineNumber:i,startOrientation:r,firstSelectedLineNumber:i,firstSelectedOrientation:r})}(e,n)),i)return`${r}${l}#${i}`}function y({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let l=e?`${(0,r.U0)()?"\u2318":"Ctrl + "}`:"";return n&&(l+=`${(0,r.U0)()?"\u2325":"Alt + "}`),t&&(l+=`${(0,r.U0)()?"\u21E7":"Shift + "}`),l+=i}function b({hasThreads:e}){return e?"96px":"30px"}function v({shouldAlignRight:e}){return e?"11px":"40px"}function C({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let l="";return e&&(l+=(0,r.U0)()?"Command+":"Control+"),n&&(l+=(0,r.U0)()?"Option+":"Alt+"),t&&(l+="Shift+"),l+=i}let N=["ADDITION","DELETION","CONTEXT"],j=(e,t)=>{if(!e)return!1;let n=t.leftLines.concat(t.rightLines);return n.length>0&&n.includes(e)?n.every(e=>!u(e)&&N.includes(e.type)):!u(e)&&N.includes(e.type)},k=e=>e?e.filter(e=>!u(e)).map(e=>{let[t]=m(g(e.html),e.type);return t}).join("\n"):""},35538:(e,t,n)=>{n.d(t,{z:()=>i});function i(e){return null!=e}},61387:(e,t,n)=>{n.d(t,{V:()=>i});function i(e){let t=document.getElementById("__primerPortalRoot__");return!!t&&!!e&&t.contains(e)}},78896:(e,t,n)=>{n.d(t,{e:()=>d});var i=n(96540),r=n(24361),l=n(50990),a=n(27267),o=n(30841),s=n(71312);function d({cellId:e,actionBarRef:t}){let{replaceSelectedDiffRowRange:n}=(0,l.o)(),{fileAnchor:d}=(0,a.s)(),[c,u]=(0,i.useState)(t),{annotations:f,openDialog:h,closeDialog:m,selectedAnnotationId:p,selectAnnotationId:g,selectedThreadId:x,selectThreadId:y,openContextMenuCell:b,openNewConversationCell:v,openMarkerDetailsCell:C,openMarkersListCell:N,updateVisibleThreads:j,threads:k,threadConnectionId:w,anyMenuOpen:L}=(0,r._)(),{sendAnalyticsEvent:S}=(0,s.s)(),D=(0,i.useMemo)(()=>v?.cellId===e,[e,v]),E=(0,i.useMemo)(()=>v?.withSuggestedChange,[v]),A=(0,i.useCallback)(t=>{h("new-conversation",e,t)},[e,h]),I=(0,i.useCallback)(()=>{A()},[A]),R=(0,i.useCallback)(()=>{u(t),A(),S("diff.start_new_conversation","PLUS_ICON")},[t,A,S]),T=(0,i.useCallback)(()=>{A({withSuggestedChange:!0}),S("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[A,S]),F=(0,i.useCallback)(()=>{u(t),A({withSuggestedChange:!0}),S("diff.start_new_conversation_with_suggested_change","ACTION_BAR_CONTEXT_MENU")},[t,A,S]),M=(0,i.useCallback)(()=>{m("new-conversation")},[m]),O=(0,i.useMemo)(()=>b===e,[e,b]),_=(0,i.useCallback)(()=>{h("context-menu",e)},[e,h]),B=(0,i.useCallback)(()=>{u(t),_()},[t,_]),H=(0,i.useCallback)(()=>{m("context-menu")},[m]),P=(0,i.useCallback)(()=>{O?H():_()},[H,O,_]),$=(0,i.useCallback)(()=>{u(t),P()},[t,P]),U=(0,i.useMemo)(()=>C===e?x:void 0,[e,C,x]),q=(0,i.useMemo)(()=>C===e?p:void 0,[e,C,p]),W=(0,i.useCallback)(()=>{h("marker-details",e)},[e,h]),K=(0,i.useCallback)(()=>{m("marker-details")},[m]),V=(0,o.K)((e,t={skipLineSelection:!1})=>{if(y(e),W(),t.skipLineSelection)return;let i=k.find(t=>t.id===e);if(i&&i.diffSide&&i.line){let e=i.startLine??i.line,t=i.startDiffSide??i.diffSide;n({diffAnchor:d,endLineNumber:i.line,endOrientation:"LEFT"===i.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===t?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right"})}}),G=(0,o.K)((e,t={skipLineSelection:!1})=>{if(g(e),W(),t.skipLineSelection)return;let i=f.find(t=>t.id===e);i&&n({diffAnchor:d,endLineNumber:i.location.end.line,endOrientation:"right",startLineNumber:i.location.start.line,startOrientation:"right",firstSelectedLineNumber:i.location.start.line,firstSelectedOrientation:"right"})}),z=(0,i.useCallback)(()=>{h("marker-list",e)},[e,h]),J=(0,i.useCallback)(()=>{m("marker-list")},[m]),X=(0,i.useCallback)(e=>{let t=j(e);if(!t?.length&&!f.length)return;let n=t&&t[0],i=t&&1===t.length&&n&&!f.length,r=f[0],l=1===f.length&&r&&!t?.length;i?V(n.id):l?G(r.id):z()},[f,z,G,V,j]);return{isNewConversationDialogOpen:D,startNewConversation:I,startNewConversationFromActionBar:R,closeNewConversationDialog:M,startNewConversationWithSuggestedChange:T,startNewConversationFromActionBarWithSuggestedChange:F,shouldStartNewConversationWithSuggestedChange:E,isContextMenuOpen:O,openContextMenu:_,openContextMenuFromActionBar:B,closeContextMenu:H,toggleContextMenu:P,toggleContextMenuFromActionBar:$,optimizedSelectedThreadId:U,optimizedSelectedAnnotationId:q,selectThread:V,selectAnnotation:G,openMarkerDetailsDialog:W,closeConversationDetailsDialog:K,isMarkerListDialogOpen:N===e,openMarkerListDialog:z,closeMarkerListDialog:J,openMarkerOrListDialogFromActionBar:(0,i.useCallback)(e=>{X(e),u(t)},[t,X]),openMarkerOrListDialog:(0,i.useCallback)(e=>{X(e)},[X]),annotations:f,returnFocusRef:c,threadConnectionId:w,threads:k,anyMenuOpen:L}}},64553:(e,t,n)=>{n.d(t,{l:()=>a});var i=n(96540),r=n(24361),l=n(63681);function a({cellRef:e}){let{showActionBar:t,hideActionBar:n,anyMenuOpen:a}=(0,r._)(),[o,s]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{t()},[t]),c=(0,i.useCallback)(t=>{!a&&(e.current&&e.current.contains(t.relatedTarget)||n())},[a,e,n]),u=(0,i.useCallback)(()=>{t()},[t]),f=(0,i.useCallback)(()=>{!a&&(e.current===document.activeElement||e.current?.contains(document.activeElement)||n())},[a,e,n]);return{isActionBarFocused:o,handleCellBlur:c,handleCellFocus:d,handleCellMouseEnter:u,handleCellMouseLeave:f,handleActionBarBlur:(0,i.useCallback)(t=>{e.current&&!a&&(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&s(!1):(n(),s(!1)))},[a,e,n]),handleActionBarFocusCapture:(0,i.useCallback)(e=>{a||(e.stopPropagation(),s(!0))},[a]),handleActionBarKeydownCapture:(0,i.useCallback)(e=>{!a&&(0,l.g)(e.key)&&e.stopPropagation()},[a])}}},54577:(e,t,n)=>{n.d(t,{x:()=>o});var i=n(37363),r=n(96540),l=n(76391),a=n(86084);function o(e,t,n,o){let[s,d]=(0,r.useState)(new Map),[c,u]=(0,r.useState)(void 0),[f,h]=(0,r.useState)(0),m=r.useRef();!m.current&&t&&(m.current=new l.N(new i.z(n,a.f),200,e=>1!==e.query.length));let p=(0,r.useRef)(t);p.current=t;let g=(0,r.useRef)("");(0,r.useEffect)(()=>function(){m.current?.terminate()},[]);let x=(0,r.useRef)([]);return m.current&&e!==x.current&&(m.current.onResponse=e=>{e.query===p.current&&(d(e.matchingDiffs),g.current=p.current)},x.current=e),(0,r.useEffect)(()=>{if(!e||!m.current||!g.current||""===g.current){d(new Map),u(void 0);return}d(new Map),u(void 0),m.current.post({query:g.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,r.useEffect)(()=>{if(e&&m.current){if(""===t)d(new Map),u(void 0),h(0),g.current="";else{if(!(t.length>0&&t.length<=1e3))return;let n=g.current.length>0&&t.startsWith(g.current);m.current.post({query:t,diffEntryInfo:e,currentDiffEntryData:n?s:void 0}),h(0)}}},[t,o]),{focusedSearchResult:c,setFocusedSearchResult:u,searchResults:s,currentIndex:f,setCurrentIndex:h}}},23247:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(97177),r=n(27267);function l(){let{nextHunk:e,currentHunk:t,previousHunk:n}=(0,r.s)(),{addInjectedContextLines:l}=(0,i.y)(),a=!!t&&0!==t.startBlobLineNumber,o=!!t&&!!e;return{expandStartOfHunk:()=>{a&&t&&l({start:Math.max(0,t.startBlobLineNumber-20),end:t.startBlobLineNumber})},expandEndOfHunk:()=>{o&&t&&l({start:t.endBlobLineNumber+1,end:t.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{n&&l({start:n.endBlobLineNumber+1,end:n.endBlobLineNumber+1+20})},canExpandEndOfHunk:o,canExpandStartOfHunk:a}}},5679:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(96540),r=n(9393);function l(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}function a(e,t,n,a,o,s){(0,i.useEffect)(()=>{if(o&&document.activeElement){let i=function(e,t,n){let i=[];for(let l=0;l<t.length;l++){let a=t[l],o=n?.[l]??a,s=!(0,r.Po)(a)&&a?.type==="HUNK";a&&o&&!e.hasLine(a,o,s)&&i.push(a)}return i}(o,t,s);if(0!==i.length){if(document.activeElement===document.body){let a,o,s;let d=t.indexOf(i[i.length-1]),c=t[d+1],u=i[0];c&&!(0,r.Po)(c)&&"HUNK"===c.type&&(a=(0,r.u6)((0,r.qX)(e,c,c),0),o=document.querySelector(`[data-grid-cell-id=${a}]`),s=o?.querySelector("button[data-direction=down], button[data-direction=all]")),s||(a=(0,r.u6)((0,r.qX)(e,u,u),0),o=document.querySelector(`[data-grid-cell-id=${a}]`),s=o?.querySelector("button[data-direction=up], button[data-direction=all]")),a&&o&&(s?s.focus():o.focus(),n.focusGridCell(a),l(o))}else if("BUTTON"===document.activeElement.tagName)l(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),t=n.focusedGridCell?.cellId;if(e!==t){let e=a.current?.querySelector(`[data-grid-cell-id=${t}]`);e?.focus()}}}}},[e,t,n,s,o,a])}},63681:(e,t,n)=>{n.d(t,{e:()=>d,g:()=>s});var i=n(82678),r=n(96540),l=n(14903),a=n(5679),o=n(26443);function s(e){return e in o.Wi&&(o.Wi[e]&o.yC)>0}function d({clearSelectedDiffRowRange:e,containerRef:t,fileAnchor:n,isSplitDiff:s,leftLines:d,replaceSelectedDiffRowRangeFromGridCells:c,rightLines:u,selectedDiffRowRange:f,updateSelectedDiffRowRange:h}){let m=(0,r.useRef)(),p=(0,r.useMemo)(()=>new l.u(n,s,d,u,m.current?.focusedGridCell?.cellId),[n,s,d,u]);(0,r.useEffect)(()=>{m.current=p},[p]),(0,a.R)(n,d,p,t,m.current,u),function(e,t){let n=(0,r.useCallback)(e=>{let n=e.target.getAttribute("data-grid-cell-id");n&&t.focusGridCell(n)},[t]);(0,r.useEffect)(()=>{let t=e.current;return t?.addEventListener("focusin",n),()=>t?.removeEventListener("focusin",n)},[e,n])}(t,p);let g=(0,r.useCallback)((t,i,r)=>{let l=p.getValidSelectableRowCell();switch(!0){case(r.metaKey||r.ctrlKey)&&"KeyA"===r.code:{let e=p.getFirstCodeCell(),t=p.getLastCodeCell();if(!e||!t)return i;return c({diffAnchor:n,focusedGridCell:e,startGridCell:e,endGridCell:t}),i}case r.shiftKey&&"ArrowDown"===r.key:{let e=p.getNextSelectableCell("ArrowDown");if(!e||!l)return i;return f?.firstSelectedLineNumber?h(n,e.lineNumber,e.orientation,!0):c({diffAnchor:n,focusedGridCell:l,startGridCell:l,endGridCell:e}),i}case r.shiftKey&&"ArrowUp"===r.key:{let e=p.getNextSelectableCell("ArrowUp");if(!e||!l)return i;return f?.firstSelectedLineNumber?h(n,e.lineNumber,e.orientation,!0):c({diffAnchor:n,focusedGridCell:l,startGridCell:e,endGridCell:l}),i}default:{let t=p.moveToNextItem(r.key,r.ctrlKey),n=t&&document.querySelector(`[data-grid-cell-id=${t.cellId}]`);return e(),p.clearLastSelectedCell(),n??void 0}}},[p,f,h,n,c,e]);return(0,i.G)({containerRef:t,bindKeys:o.yC,getNextFocusable:g,focusableElementFilter:e=>"BUTTON"!==e.tagName,focusInStrategy:"previous"},[g]),{gridNavigator:p}}},7370:(e,t,n)=>{n.d(t,{w:()=>l});var i=n(50990),r=n(9393);function l(e){let{selectedDiffRowRange:t,selectedDiffLines:n,getDiffLinesByDiffAnchor:l}=(0,i.o)();return{getUnifiedDiffLineCode:()=>{let n=l(e);if(!n||!t)return"";let{startOrientation:i,endOrientation:a,startLineNumber:o,endLineNumber:s}=t,d=0,c=0;return n.length>1&&(d=n.findIndex(e=>"left"===i?e.left===o:e.right===o),c=n.findIndex(e=>"left"===a?e.left===s:e.right===s)),(0,r.Ls)(n.slice(d,c+1))},getSplitDiffSingleLineCode:(t,n)=>{if(!t||!n)return"";let i=l(e)?.find(e=>"left"===t?e.left===n:e.right===n);return i?(0,r.Ls)([i]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?(0,r.Ls)(n.leftLines):(0,r.Ls)(n.rightLines)}}},30841:(e,t,n)=>{n.d(t,{K:()=>l});var i=n(51012),r=n(96540);let l=e=>{let t=(0,r.useRef)(e);return(0,i.N)(()=>(t.current=e,()=>t.current=null),[e]),(0,r.useCallback)((...e)=>t.current?.(...e),[])}},52019:(e,t,n)=>{n.d(t,{S:()=>c,n:()=>d});var i=n(96540),r=n(50990),l=n(9393),a=n(71312),o=n(30841),s=n(76919);function d(e){let t=(0,s.Lm)(e),n=(e.subject?.diffLines??[]).filter(e=>t?e.left&&e.left>=t.startLineNumber&&e.left<=t.endLineNumber||e.right&&e.right>=t.startLineNumber&&e.right<=t.endLineNumber:[]),i=n.every(e=>"DELETION"!==e.type),r=n?.map(e=>l._S(e.text,e.type)[0]).join("\n");return{isValidSuggestionRange:n.length>0&&!!i,showSuggestChangesButton:!1,sourceContentFromDiffLines:r,onInsertSuggestedChange:()=>{},shouldInsertSuggestedChange:!1}}function c(e,t,n){let{sendAnalyticsEvent:s}=(0,a.s)(),{getDiffLinesFromLineRange:d,selectedDiffRowRange:c}=(0,r.o)(),u=(0,o.K)(function(n,i){if(!e)return;let r=function(e){if(!e)return"DELETION"!==t.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==t.type;let n=d(e)?.selectedLeftLines;return!!n?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(n);return{isValidSuggestionRange:r,showSuggestChangesButton:r,sourceContentFromDiffLines:r?function(e){let n=d(e)?.selectedRightLines;if(e&&n&&n.length>1)return(0,l.Ls)(n);if(!t)return"";let[i]=(0,l._S)(t.text,t.type);return i}(n):void 0,onInsertSuggestedChange:()=>{s("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,i.useMemo)(()=>({selectedDiffRowRange:c,configureSuggestedChangesFromLineRange:u,shouldStartNewConversationWithSuggestedChange:n}),[c,u,n])}},6024:(e,t,n)=>{n.d(t,{V:()=>i});let i="empty-diff-line"},57442:(e,t,n)=>{n.d(t,{M_:()=>i,Nc:()=>a,Uk:()=>l});var i,r=n(96540);let l="500px";function a(e){let[t,n]=function(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(t);return[i,e=>{i.current=e,n(e)}]}("LOADING"),i=(0,r.useRef)(null),l=(0,r.useRef)(null),a=(0,r.useRef)(null),d=(0,r.useRef)({untimed:!0}),c=(0,r.useCallback)(t=>(function(e,t,n,i,r,l,a){if(e.origin!==t)return;let o=function(e){var t;let n=e.data;if(!n)return null;if("string"==typeof n)try{n=JSON.parse(n)}catch{return null}return"object"==typeof(t=n)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?n:null}(e);if(!o){l("ERROR");return}let d=o.body,c=null!=o.payload?o.payload:void 0,u=n.current?.contentWindow;switch(d){case"hello":(r.current??{untimed:!0}).hello=Date.now(),s(u,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),s(u,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":c&&a(c.error??null),l("ERROR");break;case"loading":l("LOADING");break;case"loaded":l("LOADED");break;case"ready":c&&"number"==typeof c.height&&i.current&&(i.current.style.height=`${c.height}px`),l("READY");break;case"resize":c&&"number"==typeof c.height&&i.current&&(i.current.style.height=`${c.height}px`);break;case"code_rendering_service:container:get_size":s(u,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:i.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!n.current||!i.current)return;!function(e,t){let n=e.getAttribute("data-content");if(!n)return;let i={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(n).data,width:t.getBoundingClientRect().width}}};s(e.contentWindow,i)}(n.current,i.current)}})(t,e,l,a,d,n,e=>i.current=e),[e,n]);return(0,r.useEffect)(()=>{o(d.current);let e=e=>{("LOADING"===t.current||"LOADED"===t.current)&&(!e||d.current.hello)&&n("ERROR")};return d.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{o(d.current)}},[t,n]),(0,r.useEffect)(()=>(window.addEventListener("message",c),()=>window.removeEventListener("message",c)),[c]),{renderState:t.current,errorMsg:i.current,iFrameRef:l,containerRef:a}}function o(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function s(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}!function(e){e.ERROR="ERROR",e.LOADING="LOADING",e.LOADED="LOADED",e.READY="READY"}(i||(i={}))},18558:(e,t,n)=>{n.d(t,{JC:()=>i.JC,KK:()=>i.KK,SK:()=>l,Vy:()=>i.Vy,ai:()=>i.ai,oc:()=>i.oc,rd:()=>i.rd});var i=n(50515);let r=/(?:^|,)((?:[^,]|,(?=\+| |$))*(?:,(?=,))?)/g;function l(e){return Array.from(e.matchAll(r)).map(([,e])=>e)}},98164:(e,t,n)=>{n.d(t,{$$:()=>o,GI:()=>l,zw:()=>r});var i=n(18558);let r=()=>{let e=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!e||"all"===e.content},l=e=>/Enter|Arrow|Escape|Meta|Control|Mod|Esc/.test(e)||e.includes("Alt")&&e.includes("Shift"),a=new Set(["button","checkbox","color","file","hidden","image","radio","range","reset","submit"]),o=e=>{let t=(0,i.Vy)(e),n=r()&&!function(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=e.getAttribute("type")?.toLowerCase()??"text",i="true"===e.ariaReadOnly||"true"===e.getAttribute("aria-readonly")||null!==e.getAttribute("readonly");return("select"===t||"textarea"===t||"input"===t&&!a.has(n)||e.isContentEditable)&&!i}(e.target);return l(t)||n}},51550:(e,t,n)=>{n.d(t,{A:()=>i});let i=(e,t)=>{let n=new URL(e,window.location.origin),i=new URL(t,window.location.origin);return i.href.includes("#")&&n.host===i.host&&n.pathname===i.pathname&&n.search===i.search}},35311:(e,t,n)=>{n.d(t,{J:()=>r,k:()=>CommandEvent});var i=n(4001);let CommandEvent=class CommandEvent{constructor(e){this.commandId=e}};let r={entries:e=>Object.entries(e).filter(e=>i.dx.is(e[0])&&void 0!==e[1]),keys:e=>Object.keys(e).filter(i.dx.is)}},32807:(e,t,n)=>{n.d(t,{F:()=>a,j:()=>o});var i=n(96540),r=n(50612);let l=(0,i.createContext)({triggerCommand:r.b}),a=l.Provider,o=()=>(0,i.useContext)(l)},58033:(e,t,n)=>{n.d(t,{J:()=>s,c:()=>o});var i=n(96540),r=n(35311),l=n(4001);let a=new Map;function o(){let e=new Map;for(let t of new Set(Array.from(a.values()).flat())){let n=l.dx.getServiceId(t);if(!e.has(n)){let t=(0,l.tp)(n);e.set(n,{service:{id:t.id,name:t.name},commands:[]})}let i=(0,l.fL)(t);i&&i.defaultBinding&&e.get(n)?.commands.push({id:t,name:i.name,description:i.description,keybinding:i.defaultBinding})}return Array.from(e.values())}let s=e=>{let t=(0,i.useId)();(0,i.useEffect)(()=>(a.set(t,r.J.keys(e)),()=>{a.delete(t)}),[e,t])}},4001:(e,t,n)=>{n.d(t,{dx:()=>s,eY:()=>f,fL:()=>d,tp:()=>c,xJ:()=>u});var i=n(97564),r=n(18558);let{P:l,$:a}=n(43750),o=new Set(Object.keys(l)),s={is:e=>o.has(e),getServiceId:e=>e.split(":")[0]},d=e=>{let t=l[e];return!t.featureFlag||(0,i.G7)(t.featureFlag.toUpperCase())?t:void 0},c=e=>a[e],u=e=>{let t=d(e);return t?.defaultBinding?(0,r.rd)(t.defaultBinding):void 0},f=e=>new Map(e.map(e=>[e,u(e)]).filter(e=>void 0!==e[1]))},67413:(e,t,n)=>{n(65862),n(4001)},16646:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(97524),r=n(4001);let l=new i.s({collectorUrl:"https://collector.githubapp.com/ui-commands/collect"}),a={TYPE:"command.trigger",send(e){l.sendEvent(a.TYPE,e)}};function o(e,t){a.send({command_id:e.commandId,trigger_type:t instanceof KeyboardEvent?"keybinding":"click",target_element_html:t.target instanceof HTMLElement?function(e){let t=e.tagName.toLowerCase(),n=Array.from(e.attributes).map(e=>`${e.name}="${e.value.replaceAll('"','\\"')}"`).join(" ");return`<${t}${n?` ${n}`:""}>`}(t.target):void 0,keybinding:(0,r.xJ)(e.commandId)})}},90600:(e,t,n)=>{n.d(t,{Vr:()=>i.V,ak:()=>a.a,cQ:()=>r.c,hh:()=>l.h,tL:()=>o.t}),n(4001);var i=n(84735),r=n(18332);n(75251);var l=n(23631),a=n(50612),o=n(48869);n(67413)},8492:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(96540),r=n(35311),l=n(4001),a=n(86342);let o=new Map;function s(e,t){let n=(0,i.useMemo)(()=>new Map,[]),s="global"===e?o:n;(0,i.useEffect)(()=>{for(let[e,n]of(0,l.eY)(r.J.keys(t))){let t=s.get(n)?.filter(t=>t!==e)??[];t.length&&console.warn(`The keybinding (${n}) for the "${e}" command conflicts with the keybinding for the already-registered command(s) "${t.join(", ")}". This may result in unpredictable behavior.`),s.set(n,t.concat(e))}return()=>{for(let[e,n]of(0,l.eY)(r.J.keys(t))){let t=(0,a.C)(s.get(n)??[],e);t?.length?s.set(n,t):s.delete(n)}}},[t,s])}},67435:(e,t,n)=>{n.d(t,{k:()=>o});var i=n(18558),r=n(98164),l=n(96540),a=n(4001);function o(e,t){let n=(0,l.useMemo)(()=>new i.KK,[]),o=(0,l.useMemo)(()=>{let t=new Map;for(let n of e){let e=(0,a.xJ)(n);e&&t.set(e,n)}return t},[e]),s=(0,l.useRef)(null);return(0,l.useCallback)(e=>{let l="nativeEvent"in e?e.nativeEvent:e;if(s.current===l)return;if(s.current=l,!(0,r.$$)(l)){n.reset();return}n.registerKeypress(l);let a=o.get(n.sequence)??o.get((0,i.Vy)(l));a&&(n.reset(),e.preventDefault(),e.stopPropagation(),t(a,l))},[o,n,t])}},86342:(e,t,n)=>{n.d(t,{C:()=>i});function i(e,t){let n=!1;return e.filter(e=>e!==t||!!n||(n=!0,!1))}},27500:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},69144:(e,t,n)=>{n.d(t,{L:()=>r});var i=n(96540);function r(e){(0,i.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},92836:(e,t,n)=>{n.d(t,{X:()=>r});var i=n(95140);function r(e){let t=e.join(","),[n]=(0,i.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return n}},27788:(e,t,n)=>{n.d(t,{Z:()=>u,o:()=>f});var i=n(96540),r=n(47767),l=n(45588),a=n(84976),o=n(51550),s=n(92812),d=n(56725),c=n(99523);let u=()=>{let{routes:e,history:t}=i.useContext(s.B),a=(0,r.Zp)();return i.useCallback((r,s={})=>{let u=(0,l.o1)(r).pathname;if((0,l.ue)(e,u)){(0,o.A)(location.href,r.toString())||(0,d.SC)("react");let{preventAutofocus:e,...t}=s;(0,i.startTransition)(()=>{a(r,e?{...t,state:{[c.V]:!0,...t.state}}:t);let{turbo:n,...i}=window.history.state;window.history.replaceState({...i,skipTurbo:!0},"",location.href)})}else{let e=t.createHref(r);(async()=>{let{softNavigate:t}=await Promise.all([n.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),n.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(n.bind(n,63120));t(e)})()}},[t,a,e])},f=()=>{let[e]=(0,a.ok)(),t=u(),{pathname:n}=(0,r.zy)(),l=i.useCallback((i,r={})=>{t({pathname:n,search:(0,a.PI)("function"==typeof i?i(e):i).toString()},r)},[e,t,n]);return[e,l]}},41631:(e,t,n)=>{n.d(t,{Y:()=>a,h:()=>s});var i=n(96540),r=n(35822);let l=e=>e;function a(e){let t=i.useRef({}),n=i.useRef({}),a=(e,n)=>{t.current[e](n)},o=i.useRef(a);o.current=a;let s=i.useRef(new ResizeObserver(e=>{for(let t of e){let e=t.target,n="data-key",i=e.getAttribute(n);if(null===i)throw Error(`Value not found, for '${n}' attribute`);o.current(i,e)}}));i.useEffect(()=>{let e=s.current;return()=>{e.disconnect()}},[]);let{size:d,keyExtractor:c=l}=e,u=i.useMemo(()=>{let e=e=>t=>{n.current[e]&&s.current.unobserve(n.current[e]),t&&(o.current(e,t),s.current.observe(t)),n.current[e]=t},t={};for(let n=0;n<d;n++){let i=c(n);t[i]=e(i)}return t},[d,c]),f=(0,r.z)(e),h=f.virtualItems.map(e=>(t.current[e.key]=e.measureRef,{...e,measureRef:u[e.key]}));return{...f,virtualItems:h}}var o=n(51012);function s({additionalScrollOffset:e=0,scrollToFn:t,horizontal:n,parentRef:l,useVirtualImpl:a=r.z,...s}){let d=(0,i.useRef)(window),c=(0,i.useCallback)(()=>{let e=l.current?.getBoundingClientRect(),t=e?.top??0,i=e?.left??0;return n?-1*i:-1*t},[n,l]),u=(0,i.useCallback)(t=>{let i=t+((l.current?.getBoundingClientRect().top??0)+window.scrollY)+e;d.current?.scroll({top:n?0:i,left:n?i:0})},[e,n,l]);return a({...s,horizontal:n,parentRef:l,scrollToFn:t||u,onScrollElement:d,scrollOffsetFn:c,useObserver:()=>(function(e){let[t,n]=(0,i.useState)({height:0,width:0}),r=e.current;return(0,o.N)(()=>{if(!r)return;let e=()=>{let e={height:r.innerHeight,width:r.innerWidth};n(t=>t.height!==e.height||t.width!==e.width?e:t)};return e(),r.addEventListener("resize",e),()=>{r.removeEventListener("resize",e)}},[r]),t})(d)})}},93461:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(74848),r=n(97021),l=n(87861),a=n(23449);function o({hideActions:e,lazyFetchEditHistory:t=!1,...n}){let o=null;return o=t?(0,i.jsx)(r.$N,{id:n.comment.id}):(0,i.jsx)(r.WT,{editHistory:n.comment}),(0,i.jsx)(l.v,{...n,actions:e?void 0:(0,i.jsx)(a.p,{...n,editHistoryComponent:o})})}try{o.displayName||(o.displayName="CommentHeader")}catch{}},96711:(e,t,n)=>{n.d(t,{z:()=>l});var i=n(74848),r=n(75177);let l=({onClick:e,id:t,children:n})=>(0,i.jsx)(r.A,{as:"button",type:"button",id:t,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",fontWeight:400,color:"fg.muted",width:"100%",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.default",cursor:"text",borderRadius:2,height:"var(--control-medium-size)",lineHeight:"var(--text-body-lineHeight-medium)",px:2},onClick:e,children:n});try{l.displayName||(l.displayName="CompactCommentButton")}catch{}},91805:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(74848),r=n(69404),l=n(75177),a=n(96540),o=n(89793),s=n(7338),d=n(21685);function c({batchPending:e,batchingEnabled:t,commentBoxConfig:n,condensed:c,fileLevelComment:u,filePath:f,focusOnMount:h,isReplying:m,lineNumber:p,onAddComment:g,onCancelComment:x,onPersistedCommentExists:y,quotedText:b="",side:v,subjectId:C,threadId:N,suggestedChangesConfig:j}){let[k,w]=(0,a.useState)(b),[L,S]=(0,a.useState)(!1),[D,E]=(0,a.useState)(),A=(0,a.useRef)(null),{persistCommentToStorage:I,removePersistedCommentFromStorage:R}=(0,o.L)({diffSide:v,filePath:f,line:p,subjectId:C,threadId:N,handlePersistedCommentExists:({text:e})=>{e&&(w(e),y?.())},fileLevelComment:!!u});(0,a.useEffect)(()=>{h&&setTimeout(()=>{A.current?.scrollIntoView({behavior:"smooth",block:"end"}),A.current?.focus()},100)},[h]);let T=({submitBatch:e})=>{S(!0),E(void 0);let t=(0,s.u)(k,j?.sourceContentFromDiffLines??"");if(!t.isValid){E(t.errorMessage),S(!1);return}g?.({commentText:k,onCompleted(){S(!1),O()},onError(e){S(!1);let t="Failed to save comment";e.message&&(t=`${t}: ${e.message}`),E(t)},submitBatch:e})},F=()=>T({submitBatch:!1}),M=()=>T({submitBatch:!0}),O=()=>{R(),w(""),x?.()},_={footer:{justifyContent:m?"end":"space-between","> div:first-child":{display:c||m?"none":"flex"},...c&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",fieldset:{minWidth:0,width:["100%"]}},children:(0,i.jsxs)(d.S,{ref:A,label:"Add diff comment",sx:_,value:k,onChange:e=>{E(void 0),I({text:e}),w(e)},onPrimaryAction:t?F:M,userSettings:n,suggestedChangesConfig:j,markdownErrorMessage:D,children:[x&&(0,i.jsx)(r.x,{disabled:L,sx:{py:1,px:2},variant:"default",onClick:O,children:"Cancel"}),!e&&(0,i.jsx)(r.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:t?"default":"primary",onClick:M,children:m?"Reply":"Add comment"}),t&&(0,i.jsx)(r.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:"primary",onClick:F,children:e?"Add review comment":"Start a review"})]})})}try{c.displayName||(c.displayName="AddCommentEditor")}catch{}},76889:(e,t,n)=>{n.d(t,{Y:()=>p});var i=n(74848),r=n(82667),l=n(22868),a=n(59857),o=n(30729),s=n(75177),d=n(69909),c=n(30631),u=n(55847),f=n(35993),h=n(83994);let m={[f.U.Failure]:(0,i.jsx)(o.A,{icon:a.StopIcon,sx:{fill:"danger.fg"}}),[f.U.Warning]:(0,i.jsx)(o.A,{icon:a.AlertIcon,sx:{fill:"attention.fg"}}),[f.U.Notice]:(0,i.jsx)(o.A,{icon:a.InfoIcon,sx:{fill:"fg.muted"}})};function p({annotation:e,ghostUser:t=r.t.ghostUser}){let n=e.checkSuite.app;return(0,i.jsxs)(s.A,{sx:{borderLeft:"6px solid",borderColor:h.GF[e.annotationLevel].primaryColor,p:4},children:[(0,i.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[m[e.annotationLevel],(0,i.jsx)(d.A,{sx:{fontWeight:600,color:"fg.muted",fontSize:0,pl:2},children:h.GF[e.annotationLevel].ariaLabel})]}),(0,i.jsx)(d.A,{sx:{color:h.GF[e.annotationLevel].primaryColor,fontWeight:600,fontSize:1},children:e.title}),(0,i.jsx)(s.A,{sx:{mb:3,mt:1},children:e.message&&(0,i.jsx)(d.A,{sx:{fontFamily:"var(--fontStack-monospace)",fontSize:0,display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":"8",maxWidth:"unset"},children:e.message})}),(0,i.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)(s.A,{sx:{flexGrow:2},children:[(0,i.jsx)(l.r,{src:n?.logoUrl??t.avatarUrl,alt:`${n?.name??t.login} avatar image`,"data-testid":"check-suite-app-avatar"}),(0,i.jsxs)(c.A,{sx:{ml:2,maxWidth:"300px"},inline:!0,title:`${e.checkSuite.name} / ${e.checkRun.name}`,children:[(0,i.jsx)(d.A,{sx:{fontWeight:600,fontSize:0},children:e.checkSuite.name})," /"," ",(0,i.jsx)(d.A,{sx:{fontSize:0},children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,i.jsx)(u.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{p.displayName||(p.displayName="Annotation")}catch{}},23129:(e,t,n)=>{n.d(t,{O:()=>d});var i=n(74848),r=n(59857),l=n(75177),a=n(87330),o=n(76889),s=n(43235);function d({annotation:e,markerNavigationImplementation:t,onClose:n,ghostUser:d}){return(0,i.jsxs)(l.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,i.jsx)(l.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,i.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,i.jsx)(s.k,{markerId:e.id,markerNavigationImplementation:t,onNavigate:n}),(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:(0,i.jsx)(a.K,{unsafeDisableTooltip:!0,"aria-label":"Close annotation",icon:r.XIcon,variant:"invisible",onClick:n})})]})}),(0,i.jsx)(o.Y,{annotation:e,ghostUser:d})]})}try{d.displayName||(d.displayName="AnnotationDialog")}catch{}},83994:(e,t,n)=>{n.d(t,{GF:()=>d,S:()=>s,Xh:()=>a});var i=n(74848),r=n(38267),l=n(35993);function a({annotationLevel:e,...t}){let{icon:n,...r}=d[e];return function({fill:e,stroke:t,ariaLabel:n,svgHtml:r,className:l}){return(0,i.jsx)("svg",{"aria-label":n,className:l,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:r})}({...n,...r,...t})}let o=(0,r.i7)(["0%{opacity:0;}100%{opacity:1;}"]),s=(0,r.Ay)(a).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-306ab24a-0"})(["animation:"," 0.1s ease-in;"],o),d={[l.U.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[l.U.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[l.U.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{a.displayName||(a.displayName="AnnotationIcon")}catch{}try{s.displayName||(s.displayName="AnimatedAnnotationIcon")}catch{}},59028:(e,t,n)=>{n.d(t,{z:()=>h});var i=n(74848),r=n(75177),l=n(96540),a=n(61122),o=n(76919),s=n(67418),d=n(34676),c=n(96985),u=n(33282),f=n(60573);function h({commentingImplementation:e,suggestedChange:t}){let{setIsDialogOpen:n}=(0,a.W)(),[h,m]=(0,l.useState)(!1),p=(0,l.useRef)(),{pendingSuggestedChangesBatch:g,submitSuggestedChanges:x}=e,y=(0,o.c0)(t,g),b=0===g.length,{isValid:v,reason:C}=(0,o.EJ)(t,g),N=(0,l.useMemo)(()=>y?g:[t],[y,g,t]),j=(0,l.useCallback)(e=>{m(e),n?.(e)},[n]),k=(0,l.useCallback)(()=>{if(j(!1),p.current){let e=p.current.current;setTimeout(()=>e?.focus())}},[j]),w=(0,l.useCallback)(e=>{j(!0),p.current=e},[j,p]),L=(0,l.useCallback)((e,t,n)=>{x({suggestedChanges:N,commitMessage:e,onCompleted:()=>{k(),n()},onError:t})},[k,x,N]);return(0,i.jsxs)(r.A,{sx:{p:2,borderTop:"1px solid",borderColor:"border.default"},children:[y&&(0,i.jsx)(f.B,{commentingImplementation:e,suggestedChange:t,onOpenDialog:w}),!y&&!v&&C&&(0,i.jsx)(u.s,{reason:C,sx:{m:0}}),!y&&b&&(0,i.jsx)(d.a,{commentingImplementation:e,suggestedChange:t,onOpenDialog:w}),!y&&v&&!b&&(0,i.jsx)(s.k,{commentingImplementation:e,suggestedChange:t}),h&&(0,i.jsx)(c.$,{authorLogins:N.map(e=>e.authorLogin),batchSize:N.length,onClose:k,onCommit:L})]})}try{h.displayName||(h.displayName="CodeSuggestionActions")}catch{}},67418:(e,t,n)=>{n.d(t,{k:()=>o});var i=n(74848),r=n(71312),l=n(75177),a=n(55847);function o({commentingImplementation:e,suggestedChange:t}){let{sendAnalyticsEvent:n}=(0,r.s)();return(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsx)(a.Q,{variant:"primary",onClick:()=>{n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(t)},children:"Add suggestion to batch"})})}try{o.displayName||(o.displayName="AddToExistingBatch")}catch{}},34676:(e,t,n)=>{n.d(t,{a:()=>m});var i=n(74848),r=n(71312),l=n(59857),a=n(75177),o=n(6185),s=n(55847),d=n(87330),c=n(281),u=n(17909),f=n(96540);let h={addSuggestionToBatch:{text:"Add suggestion to batch"},applySuggestion:{text:"Apply suggestion"}};function m({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let{sendAnalyticsEvent:m}=(0,r.s)(),[p,g]=(0,f.useState)(h.addSuggestionToBatch),[x,y]=(0,f.useState)(!1),b=(0,f.useRef)(null),v=(0,f.useRef)(null),C=()=>y(!x),{addSuggestedChangeToPendingBatch:N}=e,j=(0,f.useCallback)(()=>{p===h.addSuggestionToBatch&&(N(n),m("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),p===h.applySuggestion&&t(v)},[N,t,p,m,n]);return(0,i.jsx)(a.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsxs)(o.A,{children:[(0,i.jsx)(s.Q,{variant:"primary",onClick:j,ref:v,children:p.text}),(0,i.jsx)(d.K,{unsafeDisableTooltip:!0,ref:b,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:l.TriangleDownIcon,size:"medium",variant:"primary",onClick:C}),(0,i.jsx)(c.W,{anchorRef:b,open:x,onOpenChange:C,children:(0,i.jsx)(c.W.Overlay,{width:"medium",children:(0,i.jsx)(u.l,{selectionVariant:"single",children:Object.keys(h).map(e=>{let t=h[e];return(0,i.jsx)(u.l.Item,{selected:p===t,onSelect:()=>g(t),children:t.text},e)})})})})]})})}try{m.displayName||(m.displayName="ApplyOrAddToBatch")}catch{}},96985:(e,t,n)=>{n.d(t,{$:()=>y});var i=n(74848),r=n(71312),l=n(73272),a=n(94120),o=n(82678),s=n(75177),d=n(38553),c=n(66889),u=n(44981),f=n(61043),h=n(86079),m=n(96540);function p({children:e,footerButtons:t}){let{containerRef:n}=(0,o.G)({bindKeys:a.z0.ArrowHorizontal|a.z0.Tab,focusInStrategy:"closest"});return t?(0,i.jsx)(h.l.Footer,{ref:n,children:(0,i.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)(s.A,{sx:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"},children:(0,i.jsx)(h.l.Buttons,{buttons:t})}),e]})}):null}let g={CHANGE_COMMIT_MESSAGE:"CHANGE_COMMIT_MESSAGE",CHANGE_EXTENDED_DESCRIPTION:"CHANGE_EXTENDED_DESCRIPTION"};function x(e,t){switch(t.type){case g.CHANGE_COMMIT_MESSAGE:return{...e,commitMessage:t.payload};case g.CHANGE_EXTENDED_DESCRIPTION:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function y({authorLogins:e,batchSize:t,onClose:n,onCommit:a}){let o=(0,l.A)(),{sendAnalyticsEvent:y}=(0,r.s)(),[b,v]=(0,m.useState)(!1),[C,N]=(0,m.useState)(),[j,k]=(0,m.useReducer)(x,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),w=(0,m.useCallback)((e,t,n)=>{if(!o())return;let i="There was an error trying to commit changes";n?i+=`: ${n}`:i+=".",v(!1),N(i)},[o]),L=(0,m.useCallback)(()=>{o()&&(v(!1),C&&N(void 0))},[C,o]),S=(0,m.useCallback)(()=>{b||(v(!0),y("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:t}),a(`${j.commitMessage}

${j.extendedDescription}`,w,L))},[t,j.commitMessage,j.extendedDescription,L,w,b,a,y]);return(0,i.jsxs)(h.l,{title:"Apply suggestion",renderFooter:()=>(0,i.jsx)(p,{footerButtons:[{content:"Cancel",onClick:n},{content:(0,i.jsxs)(s.A,{as:"span",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Commit changes",b&&(0,i.jsx)(d.A,{size:"small",sx:{ml:1}})]}),onClick:S,buttonType:"primary"}],children:C&&(0,i.jsx)(c.A.Validation,{sx:{mt:2,pt:1,justifyContent:"flex-end"},variant:"error",children:C})}),onClose:n,children:[(0,i.jsxs)(c.A,{sx:{mb:2},children:[(0,i.jsx)(c.A.Label,{children:"Commit message"}),(0,i.jsx)(u.A,{block:!0,name:"commit_message",onChange:e=>k({type:g.CHANGE_COMMIT_MESSAGE,payload:e.target.value}),value:j.commitMessage})]}),(0,i.jsxs)(c.A,{children:[(0,i.jsx)(c.A.Label,{children:"Extended description (optional)"}),(0,i.jsx)(f.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>k({type:g.CHANGE_EXTENDED_DESCRIPTION,payload:e.target.value}),value:j.extendedDescription})]})]})}try{p.displayName||(p.displayName="DialogFooter")}catch{}try{y.displayName||(y.displayName="ApplySuggestionDialog")}catch{}},33282:(e,t,n)=>{n.d(t,{s:()=>a});var i=n(74848),r=n(75177),l=n(69909);function a({reason:e,sx:t}){return(0,i.jsx)(r.A,{sx:{m:2,...t},children:(0,i.jsx)(l.A,{as:"small",sx:{color:"fg.muted"},children:e})})}try{a.displayName||(a.displayName="CodeSuggestionUnavailable")}catch{}},60573:(e,t,n)=>{n.d(t,{B:()=>d});var i=n(74848),r=n(71312),l=n(75177),a=n(85053),o=n(55847),s=n(96540);function d({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let d=(0,s.useRef)(null),c=(0,s.useCallback)(()=>{t(d)},[t]),u=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:f}=(0,r.s)();return(0,i.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,i.jsx)(a.A,{variant:"attention",sx:{my:"auto"},children:"Pending in batch"}),(0,i.jsxs)(l.A,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(o.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(n),f("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,i.jsx)(o.Q,{ref:d,size:"medium",count:u,variant:"primary",onClick:c,children:`Apply suggestion${u>1?"s":""}`})]})]})}try{d.displayName||(d.displayName="CommitOrRemoveFromBatch")}catch{}},21685:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(74848),r=n(35678),l=n(96540),a=n(14993);let o=(0,l.forwardRef)(({children:e,...t},n)=>{let l=(0,a.n)();return(0,i.jsx)(r.h,{...t,ref:n,placeholder:"Leave a comment",actions:e,subject:l??void 0,showLabel:!1})});o.displayName="ConversationCommentBox"},43235:(e,t,n)=>{n.d(t,{k:()=>d});var i=n(74848),r=n(59857),l=n(69909),a=n(75177),o=n(87330);function s({markerId:e,markers:t}){let n=t.findIndex(t=>t.id===e);return(0,i.jsxs)(l.A,{sx:{color:"fg.muted"},children:[(0,i.jsx)(l.A,{sx:{fontWeight:500,color:"fg.default"},children:n+1})," of"," ",(0,i.jsx)(l.A,{sx:{fontWeight:500,color:"fg.default"},children:t.length})]})}function d({markerId:e,markerNavigationImplementation:t,onNavigate:n}){let{incrementActiveMarker:l,decrementActiveMarker:d,filteredMarkers:c}=t;return c.find(t=>t.id===e)&&c.length>1?(0,i.jsxs)(a.A,{sx:{pr:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Load previous marker",icon:r.ChevronLeftIcon,variant:"invisible",onClick:()=>{d(e),n()}}),(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Load next marker",icon:r.ChevronRightIcon,variant:"invisible",onClick:()=>{l(e),n()}}),(0,i.jsx)(a.A,{sx:{ml:1},children:(0,i.jsx)(s,{markerId:e,markers:c})})]}):null}try{s.displayName||(s.displayName="MarkerPosition")}catch{}try{d.displayName||(d.displayName="GlobalMarkerNavigation")}catch{}},37045:(e,t,n)=>{n.d(t,{c:()=>h});var i=n(74848),r=n(67726),l=n(85349),a=n(75177),o=n(38553),s=n(96540),d=n(61122),c=n(23129),u=n(21746),f=n(7498);function h(e){return(0,i.jsx)(d.j,{children:(0,i.jsx)(m,{...e})})}function m({annotations:e,commentingImplementation:t,conversationAnchorRef:n,conversationListAnchorRef:h,conversationListThreads:m,isMarkerListOpen:p,fileAnchor:g,filePath:x,onAnnotationSelected:y,onCloseConversationDialog:b,onCloseConversationList:v,onThreadSelected:C,returnFocusRef:N,selectedAnnotationId:j,selectedThreadId:k,threadsConnectionId:w,markerNavigationImplementation:L,suggestedChangesConfig:S,ghostUser:D,...E}){let{isDialogOpen:A}=(0,d.W)(),[I,R]=(0,s.useState)(),{fetchThread:T}=t,F=(0,s.useCallback)(()=>!A&&b(),[A,b]),M=async e=>{R(void 0);let t=m.find(t=>t.id===e)?.isOutdated;R(await T(e,t))},O=(0,s.useMemo)(()=>{if(g&&I&&I.subject?.startDiffSide&&I.subject?.endDiffSide&&I.subject?.startLine&&I.subject?.endLine&&S?.configureSuggestedChangesFromLineRange){let e=I.subject?.startLine??I?.subject?.endLine,t=I.subject?.startDiffSide??I?.subject?.endDiffSide,n={diffAnchor:g,endLineNumber:I?.subject?.endLine,endOrientation:I.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right",startOrientation:"LEFT"===t?"left":"right"};return S?.configureSuggestedChangesFromLineRange(n)}},[g,I,S]);(0,s.useEffect)(()=>{!k&&I?R(void 0):k&&k!==I?.id&&M(k)},[T,k]);let _=k||j,B=j?e.find(e=>e.id===j):void 0;return(0,i.jsx)(i.Fragment,{children:_?(0,i.jsx)(l.T,{align:"end",anchorRef:n,focusZoneSettings:{disabled:!0},open:!0,focusTrapSettings:{disabled:!0},renderAnchor:null,overlayProps:{anchorSide:"outside-right","aria-label":`${k?"Pull Request Review Thread":"Pull Request Check Annotation"}`,id:"conversation-dialog",returnFocusRef:N,role:"dialog",sx:{width:"clamp(240px, 100vw, 540px)",borderRadius:2},onClickOutside:r.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:F,children:I?(0,i.jsx)(f.h,{commentingImplementation:t,filePath:x,thread:I,threads:m,threadsConnectionId:w,onClose:F,onThreadSelected:C,onRefreshThread:M,markerNavigationImplementation:L,suggestedChangesConfig:O,ghostUser:D,...E}):B?(0,i.jsx)(c.O,{annotation:B,markerNavigationImplementation:L,onClose:F,ghostUser:D}):(0,i.jsxs)(a.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(o.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]})}):p&&(0,i.jsx)(u.h,{anchorRef:h,annotations:e,handleOpenChange:v,threads:m,onShowCommentThread:C,onShowAnnotation:y,ghostUser:D})})}try{h.displayName||(h.displayName="Markers")}catch{}try{m.displayName||(m.displayName="MarkersInternal")}catch{}},21746:(e,t,n)=>{n.d(t,{h:()=>h});var i=n(74848),r=n(82667),l=n(22868),a=n(59857),o=n(281),s=n(17909),d=n(75177),c=n(69909),u=n(30729),f=n(83994);function h({anchorRef:e,annotations:t,handleOpenChange:n,threads:h,onShowAnnotation:m,onShowCommentThread:p,ghostUser:g=r.t.ghostUser}){function x(e){return{display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":e.toString(),maxWidth:"unset"}}return(0,i.jsx)(o.W,{anchorRef:e,open:!0,onOpenChange:n,children:(0,i.jsx)(o.W.Overlay,{width:"small",children:(0,i.jsx)("div",{children:(0,i.jsxs)(s.l,{children:[t.map(e=>(0,i.jsxs)(s.l.Item,{onSelect:()=>m(e.id),children:[(0,i.jsx)(s.l.LeadingVisual,{sx:{mr:2},children:(0,i.jsx)(f.Xh,{annotationLevel:e.annotationLevel},e.id)}),(0,i.jsxs)(d.A,{sx:{...x(2)},children:[e.checkSuite.name," /"," ",(0,i.jsx)(c.A,{sx:{fontWeight:400,color:"fg.muted"},children:e.checkRun.name})]}),(0,i.jsx)(s.l.Description,{variant:"block",children:(0,i.jsx)(d.A,{sx:{...x(1)},children:e.title})}),(0,i.jsx)(s.l.TrailingVisual,{children:(0,i.jsx)(u.A,{icon:a.ArrowRightIcon})})]},e.id)),h.map(e=>(0,i.jsxs)(s.l.Item,{onSelect:()=>p(e.id),children:[(0,i.jsx)(s.l.LeadingVisual,{sx:{mr:2},children:(0,i.jsx)(l.r,{alt:e.author.login,size:20,src:e.author.avatarUrl??g.avatarUrl})}),"Thread by ",e.author.login,(0,i.jsxs)(s.l.Description,{variant:"block",children:[e.commentCount," comment",e.commentCount>1?"s":""]}),(0,i.jsx)(s.l.TrailingVisual,{children:(0,i.jsx)(u.A,{icon:a.ArrowRightIcon})})]},e.id))]})})})})}try{h.displayName||(h.displayName="MarkersListActionMenu")}catch{}},36470:(e,t,n)=>{n.d(t,{H:()=>h});var i=n(74848),r=n(96711),l=n(71312),a=n(75177),o=n(96540),s=n(81773),d=n(76919),c=n(91805),u=n(25607),f=n(14233);function h({batchingEnabled:e,batchPending:t,commentAnchorPrefix:n,commentingImplementation:h,commentsConnectionId:m,filePath:p,hideDiffPreview:g,onRefreshThread:x,repositoryId:y,subject:b,subjectId:v,tabSize:C,thread:N,threadsConnectionId:j,shouldLimitHeight:k=!0,suggestedChangesConfig:w,viewerData:L,ghostUser:S}){let[D,E]=(0,o.useState)(!1),[A,I]=(0,o.useState)(void 0),{sendAnalyticsEvent:R}=(0,l.s)(),{addThreadReply:T}=h,F=e=>{I(e),E(!0)};if(null===N.commentsData.comments||N.commentsData.comments.length<1)return null;let M=(0,d.Lm)(N),O="LINE"===N.subjectType?{lineRange:M}:void 0;return(0,i.jsx)(a.A,{"data-testid":"review-thread",children:(0,i.jsxs)(a.A,{sx:k?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!g&&N.isOutdated&&(0,i.jsx)(f.i,{tabSize:C??4,thread:N}),N.commentsData.comments.map((e,t)=>(0,i.jsx)(u.U,{isAnchorable:!0,index:t,isLastChild:t===N.commentsData.comments.length-1,anchorPrefix:n,comment:e,commentConnectionId:N.commentsData.__id,commentingImplementation:h,filePath:p,isOutdated:N.isOutdated,repositoryId:y,subject:b,subjectId:v,threadId:N.id,onRefreshThread:x,onQuoteReply:F,threadCommentCount:N.commentsData.comments.length,threadsConnectionId:j,isThreadResolved:!!N.isResolved,suggestedChangesConfig:w,applySuggestedChangesValidationData:O,viewerData:L,ghostUser:S},e.id)),N.viewerCanReply&&(0,i.jsxs)(a.A,{sx:{backgroundColor:"canvas.inset",borderBottomLeftRadius:2,borderBottomRightRadius:2,p:2},children:[D&&(0,i.jsx)(c.U,{batchingEnabled:e,batchPending:t,commentBoxConfig:h.commentBoxConfig,condensed:!1,fileLevelComment:!0,filePath:p,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{E(!1),R("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},repositoryId:y,quotedText:A,subjectId:v,threadId:N.id,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{let r=[];N.commentsData.__id&&r.push(N.commentsData.__id),m&&r.push(m),T({commentsConnectionIds:r,filePath:p,thread:N,text:e,submitBatch:i,onCompleted:e=>{e&&(0,s.p)(e.toString()),t?.(),x?.(N.id)},onError:n,threadsConnectionId:j}),R("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:w}),!D&&(0,i.jsx)(r.z,{onClick:()=>{R("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),E(!0)},children:"Write a reply"})]})]})})}try{h.displayName||(h.displayName="ReviewThread")}catch{}},25607:(e,t,n)=>{n.d(t,{U:()=>v});var i=n(74848),r=n(35678),l=n(93461),a=n(82667),o=n(67726),s=n(67482),d=n(34306),c=n(22084),u=n(97156),f=n(54156),h=n(75177),m=n(96540),p=n(81773),g=n(89793),x=n(7338),y=n(21685),b=n(59158);function v({isAnchorable:e=!1,index:t=0,isLastChild:n,isOutdated:v,isThreadResolved:C,anchorPrefix:N="r",comment:j,commentingImplementation:k,filePath:w,hideActions:L,onRefreshThread:S,onQuoteReply:D=o.l,subjectId:E,subject:A,threadCommentCount:I,threadId:R,threadsConnectionId:T,suggestedChangesConfig:F,applySuggestedChangesValidationData:M,viewerData:O,ghostUser:_=a.t.ghostUser}){let{addToast:B}=(0,f.Y6)(),[H,P]=(0,m.useState)(!1),[$,U]=(0,m.useState)(j.isHidden),[q,W]=(0,m.useState)(j.body),[K,V]=(0,m.useState)(!1),[G,z]=(0,m.useState)(),{persistCommentToStorage:J,removePersistedCommentFromStorage:X}=(0,g.L)({subjectId:E,filePath:w,fileLevelComment:"FILE"===j.subjectType,threadId:j.id,handlePersistedCommentExists:({text:e})=>{e&&W(e)}}),{editComment:Q,deleteComment:Y,hideComment:Z,unhideComment:ee,lazyFetchReactionGroups:et,lazyFetchEditHistory:en}=k,ei=(0,m.useRef)(null),er=(0,m.useRef)(null),el=()=>{ei.current?.focus()};(0,m.useEffect)(()=>{H&&setTimeout(el)},[H]);let ea=(0,m.useCallback)(()=>{V(!0);let e=(0,x.u)(q,F?.sourceContentFromDiffLines??"");if(!e.isValid){z(e.errorMessage),V(!1);return}Q({text:q,comment:j,onCompleted:()=>{P(!1),V(!1),X(),S?.(R)},onError:()=>{V(!1),B({type:"error",message:"Failed to update comment"})}})},[B,q,j,Q,S,X,F,R]),eo=j.currentDiffResourcePath?.split("#r").pop(),es=eo?`${N}${eo}`:void 0,ed=es&&u.fV?new URL(`${u.fV.pathname}#${es}`,u.fV.origin).toString():void 0,ec=(0,m.useRef)(null);(0,m.useEffect)(()=>{e&&eo&&es&&window.location.hash.split("#").pop()===es&&((0,p.p)(eo,N),ec.current?.focus())},[N,es,eo,e]);let eu={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},ef=t>0,eh=t>1,em=k.suggestedChangesEnabled,ep=H?"editing":$?"hidden":"visible";return(0,i.jsxs)(h.A,{ref:ec,id:e?es:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":eu,":focus":eu,pb:ef?0:2},children:[eh&&(0,i.jsx)(h.A,{sx:{display:"flex",pl:ef?1:0},children:(0,i.jsx)(h.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(h.A,{sx:{px:3,pt:eh?0:2,pb:0},children:(0,i.jsx)(l.R,{headingProps:{as:"h5"},avatarUrl:j.author?.avatarUrl??_.avatarUrl,comment:{...j,url:ed??"",referenceText:j.reference.text??`#${j.reference.number}`},commentRef:ec,deleteComment:()=>{Y({commentId:j.id,onCompleted:()=>{S?.(R)},onError:()=>{V(!1),B({type:"error",message:"Failed to delete comment"})},threadCommentCount:I,threadId:R,threadsConnectionId:T,filePath:w})},editComment:()=>{P(!0)},hideComment:e=>{Z({commentId:j.id,reason:e,onCompleted:()=>{S?.(R)},onError:()=>{V(!1),B({type:"error",message:"Failed to hide comment"})}})},onMinimize:U,isMinimized:$,commentAuthorLogin:j.author?.login??_.login,navigate:o.l,commentSubjectAuthorLogin:j.reference?.author?.login??"",commentSubjectType:k.commentSubjectType,onReplySelect:D,unhideComment:()=>{ee({commentId:j.id,onCompleted:()=>{S?.(R)},onError:()=>{V(!1),B({type:"error",message:"Failed to unhide comment"})}})},hideActions:L,lazyFetchEditHistory:en,isReply:!0})}),(0,i.jsxs)(h.A,{sx:{display:"flex",pl:ef?1:0},children:[ef&&(0,i.jsx)(h.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===ep&&(0,i.jsx)(h.A,{sx:{pr:2,pl:ef?0:2,pb:2,pt:1,flexGrow:1},children:(0,i.jsxs)(y.S,{ref:ei,label:"Update comment",value:q,onChange:e=>{J({text:e}),W(e),z(void 0)},onPrimaryAction:ea,userSettings:k.commentBoxConfig,suggestedChangesConfig:F,markdownErrorMessage:G,children:[(0,i.jsx)(r.x,{variant:"default",onClick:()=>{P(!1),X(),W(j.body)},children:"Cancel"}),(0,i.jsx)(r.x,{disabled:K||!q.length,variant:"primary",onClick:ea,children:"Update"})]})}),"visible"===ep&&(0,i.jsx)(h.A,{sx:ef?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:j.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.oG,{ref:er,className:"markdown-body","comment-testid":`Comment body html for comment ${j.id}`,html:j.bodyHTML,sx:{mt:1,fontSize:1}}),(0,i.jsx)(h.A,{sx:{display:"flex",flexDirection:"column",mt:3},children:et?(0,i.jsx)(m.Suspense,{fallback:(0,i.jsx)(d.e,{}),children:(0,i.jsx)(s.ReactionViewerQueryComponent,{id:j.id})}):(0,i.jsx)(s.ReactionViewer,{reactionGroups:j,subjectId:j.id})}),em&&M&&(0,i.jsx)(b.v,{comment:j,commentBodyRef:er,commentingImplementation:k,filePath:w,isOutdated:v,isThreadResolved:C,threadId:R,suggestedChangesConfig:F,applySuggestedChangesValidationData:M,subject:A,viewerData:O})]})})]})]})}try{v.displayName||(v.displayName="ReviewThreadComment")}catch{}},7498:(e,t,n)=>{n.d(t,{h:()=>y});var i=n(74848),r=n(54156),l=n(71312),a=n(59857),o=n(69909),s=n(75177),d=n(85053),c=n(87330),u=n(38553),f=n(80577),h=n(96540),m=n(43235),p=n(36470);function g({children:e}){return(0,i.jsx)(o.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function x({thread:e}){if(!e?.diffSide||!e.line||!e.startLine||!e.startDiffSide)return null;let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)(o.A,{sx:{color:"fg.muted"},children:["\xb7 Comment on lines"," ",(0,i.jsxs)(g,{children:[t,e.startLine]})," ","to"," ",(0,i.jsxs)(g,{children:[n,e.line]})]})}function y({commentingImplementation:e,filePath:t,onClose:n,onRefreshThread:o,thread:g,threads:y,threadsConnectionId:b,markerNavigationImplementation:v,ghostUser:C,...N}){let{sendAnalyticsEvent:j}=(0,l.s)(),{resolveThread:k,unresolveThread:w,resolvingEnabled:L}=e,S=y.find(e=>e.id===g.id),D=g.commentsData.comments.length>0,E=!!g.isResolved,{addToast:A}=(0,r.Y6)(),I=S?.commentsConnectionId;return D?(0,i.jsxs)(s.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,i.jsx)(s.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,i.jsxs)(s.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.k,{markerId:g.id,markerNavigationImplementation:v,onNavigate:n}),(0,i.jsx)(x,{thread:S})]}),(0,i.jsxs)(s.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[E&&(0,i.jsx)(d.A,{variant:"done",size:"large",children:"Resolved"}),L&&(0,i.jsx)(f.m,{text:E?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(c.K,{"aria-labelledby":"resolve-conversation",unsafeDisableTooltip:!0,icon:E?a.CheckCircleFillIcon:a.CheckCircleIcon,sx:{color:E?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:E?()=>{w({thread:g,onCompleted:()=>o(g.id),onError:()=>{A({type:"error",message:"Failed to unresolve thread"})}}),j("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON")}:()=>{k({thread:g,onCompleted:()=>o(g.id),onError:()=>{A({type:"error",message:"Failed to resolve thread"})}}),j("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON")}})}),(0,i.jsx)(c.K,{unsafeDisableTooltip:!0,"aria-label":"Close thread",icon:a.XIcon,variant:"invisible",onClick:n})]})]})}),(0,i.jsx)(h.Suspense,{fallback:(0,i.jsxs)(s.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(u.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:(0,i.jsx)(p.H,{commentingImplementation:e,commentsConnectionId:I,filePath:t,onRefreshThread:o,thread:g,threadsConnectionId:b,...N,ghostUser:C})})]}):null}try{g.displayName||(g.displayName="Emphasis")}catch{}try{x.displayName||(x.displayName="MultineLineThreadBanner")}catch{}try{y.displayName||(y.displayName="ReviewThreadDialog")}catch{}},54465:(e,t,n)=>{n.d(t,{c:()=>d});var i=n(74848),r=n(67726),l=n(71312),a=n(85349),o=n(96540),s=n(20189);function d({align:e="end",anchorRef:t,isOpen:n,returnFocusRef:d,onCloseCommentDialog:c,suggestedChangesConfig:u,...f}){let{sendAnalyticsEvent:h}=(0,l.s)(),m=(0,o.useMemo)(()=>{if(n&&u?.configureSuggestedChangesFromLineRange)return u.configureSuggestedChangesFromLineRange(u?.selectedDiffRowRange,u?.shouldStartNewConversationWithSuggestedChange)},[n,u]);return n?(0,i.jsx)(a.T,{align:e,anchorRef:t,focusZoneSettings:{disabled:!0},open:n,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",returnFocusRef:d,sx:{borderRadius:2},"aria-label":"Add a comment",onClickOutside:r.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:c,children:(0,i.jsx)(s.O,{onClose:()=>{c(),h("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:m,...f})}):null}try{d.displayName||(d.displayName="StartConversation")}catch{}},20189:(e,t,n)=>{n.d(t,{O:()=>f});var i=n(74848),r=n(22868),l=n(59857),a=n(75177),o=n(73729),s=n(69909),d=n(87330),c=n(81773),u=n(91805);function f({addCommentDialogTitle:e,isLeftSide:t,filePath:n,lineNumber:f,onAddComment:h,onClose:m,viewerData:p,threadsConnectionId:g,...x}){return(0,i.jsxs)(a.A,{sx:{px:2,pb:2,pt:1},children:[(0,i.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)(o.A,{as:"h4",sx:{fontSize:1,ml:2,py:2},children:[(0,i.jsx)(r.r,{alt:p.login,size:24,src:p.avatarUrl||"",sx:{mr:2}}),(0,i.jsx)(s.A,{children:e??"Add a comment"})]}),m&&(0,i.jsx)(d.K,{unsafeDisableTooltip:!0,variant:"invisible",icon:l.XIcon,onClick:m,"aria-label":"Cancel"})]}),(0,i.jsx)(u.U,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:n,lineNumber:f,onAddComment:({commentText:e,onCompleted:t,onError:i,submitBatch:r})=>{h({text:e,onError:i,onCompleted:(e,n)=>{n&&(0,c.p)(n.toString()),t?.(e,n)},submitBatch:r,filePath:n,threadsConnectionId:g})},onCancelComment:m,side:t?"LEFT":"RIGHT",...x})]})}try{f.displayName||(f.displayName="StartThreadComment")}catch{}},14233:(e,t,n)=>{n.d(t,{i:()=>p});var i=n(74848),r=n(51888),l=n(88234),a=n(22084),o=n(75177),s=n(69909),d=n(20053),c=n(96540);function u({line:e,children:t}){return(0,i.jsx)("td",{className:"diff-line-number",style:{backgroundColor:(0,r.gK)(e.type,!0),textAlign:"center"},children:(0,i.jsx)("code",{children:t})})}function f({line:e}){return(0,i.jsx)("td",{colSpan:4,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},valign:"top",children:(0,i.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row"},children:[(0,i.jsx)(l.P4,{}),(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(a.mo,{className:"diff-text-inner color-fg-muted",html:e.html})})]})})}function h({line:e,tabSize:t}){let n="HUNK"===e.type,o="ADDITION"!==e.type,s="DELETION"!==e.type,{getTextIndent:h,getPaddingLeft:m}=(0,c.useMemo)(()=>(0,l.oW)(e.text,t),[e,t]),p="ADDITION"===e.type?"+":"DELETION"===e.type?"-":void 0;return(0,i.jsxs)("tr",{children:[n&&(0,i.jsx)(f,{line:e}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u,{line:e,children:o&&e.left}),(0,i.jsx)(u,{line:e,children:s&&e.right}),(0,i.jsx)("td",{className:"diff-text-cell",style:{backgroundColor:(0,r.gK)(e.type,!1)},children:(0,i.jsxs)("code",{className:(0,d.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===e.type,deletion:"DELETION"===e.type}),children:[!!p&&(0,i.jsx)("span",{className:"diff-text-marker",children:p}),(0,i.jsx)(a.mo,{className:"diff-text-inner",html:e.html,style:{backgroundColor:(0,r.gK)(e.type,!1),paddingLeft:m(),textIndent:h()}})]})})]})]})}function m({sx:e,lines:t,lineWidth:n,tabSize:r}){let a=t.map((e,t)=>(0,i.jsx)(h,{line:e,tabSize:r},t));return(0,i.jsx)(o.A,{as:"table",className:"tab-size","data-tab-size":r,sx:{borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...e},children:(0,i.jsx)(l.Qe,{lineWidth:n,children:a})})}function p({sx:e,tabSize:t,thread:n,hideHeaderDetails:a,diffTableSx:d}){if(!n.subject?.diffLines||n.subject?.diffLines.length<1)return null;let c=(0,r.c7)(n.subject.diffLines);return(0,i.jsxs)(o.A,{sx:{m:3,border:0,borderBottomWidth:6,borderStyle:"solid",borderColor:"border.muted",borderBottomLeftRadius:2,borderBottomRightRadius:2,...e},children:[!a&&(0,i.jsx)(o.A,{sx:{borderWidth:1,borderStyle:"solid",borderTopLeftRadius:2,borderTopRightRadius:2,borderColor:"border.muted",color:"fg.muted",px:2,py:1},children:(0,i.jsxs)(s.A,{sx:{fontSize:0,color:"fg.muted"},children:["Line"," ",(0,l.Ah)({originalStartLine:n.subject.originalStartLine,originalEndLine:n.subject.originalEndLine,startDiffSide:n.subject.startDiffSide,endDiffSide:n.subject.endDiffSide}),", commit ",(0,i.jsx)("code",{children:n.subject.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,i.jsx)(m,{lineWidth:c,lines:n.subject.diffLines,tabSize:t,sx:d})]})}try{u.displayName||(u.displayName="StaticLineNumberCell")}catch{}try{f.displayName||(f.displayName="StaticHunkCell")}catch{}try{h.displayName||(h.displayName="StaticUnifiedDiffRow")}catch{}try{m.displayName||(m.displayName="StaticUnifiedDiffLines")}catch{}try{p.displayName||(p.displayName="StaticUnifiedDiffPreview")}catch{}},59158:(e,t,n)=>{n.d(t,{v:()=>c});var i=n(74848),r=n(51012),l=n(96540),a=n(40961),o=n(76919),s=n(59028),d=n(33282);function c({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:n,commentingImplementation:c,filePath:u,isOutdated:f,isThreadResolved:h,subject:m,suggestedChangesConfig:p,threadId:g,viewerData:x}){let y=function(e,t,n,i,a){let[o,s]=(0,l.useState)();return(0,r.N)(()=>{if(!e.current||"LINE"!==t.subjectType)return;let r=[...e.current.getElementsByClassName("js-apply-changes")];if(r.length>0){let e=[];for(let l of r){let r=l?.closest("div.js-suggested-changes-blob");if(!r)continue;let o=[...r.querySelectorAll(".js-blob-code-addition")];a.lineRange&&e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,path:n,ref:l,suggestion:o.map(e=>e.textContent),lineRange:a.lineRange,threadId:i})}s(e)}},[a.lineRange,t.author?.login,t.bodyHTML,t.id,t.subjectType,e,n,i]),o}(n,t,u,g,e);return(0,i.jsx)(i.Fragment,{children:y?.length&&y.map(n=>{let{isValid:r,reason:l}=(0,o.o_)({suggestedChange:n,isOutdated:f,isPending:"PENDING"===t.state,isResolved:h,pullRequestIsClosed:m?.state!=="OPEN",pullRequestIsInMergeQueue:!!m?.isInMergeQueue,userCanApplySuggestion:!!x?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:p});return!r&&l?(0,a.createPortal)((0,i.jsx)(d.s,{reason:l}),n.ref):(0,a.createPortal)((0,i.jsx)(s.z,{commentingImplementation:c,suggestedChange:n}),n.ref)})})}try{c.displayName||(c.displayName="SuggestedChangeView")}catch{}},14993:(e,t,n)=>{n.d(t,{n:()=>l,u:()=>a});var i=n(96540);let r=(0,i.createContext)(null),l=()=>(0,i.useContext)(r),a=r.Provider;try{r.displayName||(r.displayName="ConversationMarkdownSubjectContext")}catch{}},61122:(e,t,n)=>{n.d(t,{W:()=>o,j:()=>a});var i=n(74848),r=n(96540);let l=(0,r.createContext)({});function a({children:e}){let[t,n]=(0,r.useState)(!1),a=(0,r.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:n}),[t,n]);return(0,i.jsx)(l.Provider,{value:a,children:e})}let o=()=>(0,r.useContext)(l);try{l.displayName||(l.displayName="DialogStateContext")}catch{}try{a.displayName||(a.displayName="DialogStateProvider")}catch{}},81602:(e,t,n)=>{n.d(t,{$:()=>d});var i=n(74848),r=n(59857),l=n(17909),a=n(38553),o=n(23246),s=n(79476);let d=e=>(0,i.jsx)(s.B,{errorFallback:(0,i.jsx)(c,{}),suspenseFallback:(0,i.jsx)(u,{}),Component:f,...e}),c=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.l.Divider,{}),(0,i.jsxs)(l.l.Item,{disabled:!0,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.AlertIcon,{})}),"Copilot failed to load"]})]}),u=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.l.Divider,{}),(0,i.jsxs)(l.l.Item,{disabled:!0,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(a.A,{size:"small"})}),"Copilot is loading..."]})]}),f=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.l.Divider,{}),(0,i.jsx)(o.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(r.CopilotIcon,{}),fileDiffReference:e.fileDiffReference})]});try{d.displayName||(d.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}try{c.displayName||(c.displayName="MenuItemError")}catch{}try{u.displayName||(u.displayName="MenuItemLoading")}catch{}try{f.displayName||(f.displayName="BaseCopilotDiffChatBlobActionsMenuItems")}catch{}},19987:(e,t,n)=>{n.d(t,{w:()=>h});var i=n(74848),r=n(59857),l=n(17909),a=n(38553),o=n(281),s=n(96540),d=n(78017),c=n(23246),u=n(39037),f=n(79476);let h=({selectedRange:e,...t})=>(0,i.jsx)(f.B,{errorFallback:(0,i.jsx)(m,{}),suspenseFallback:(0,i.jsx)(p,{}),componentProps:{selectedRange:e},Component:g,...t}),m=()=>(0,i.jsxs)(l.l.Item,{disabled:!0,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.AlertIcon,{})}),"Copilot failed to load"]}),p=()=>(0,i.jsxs)(l.l.Item,{disabled:!0,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(a.A,{size:"small"})}),"Copilot is loading..."]}),g=({fileDiffReference:e,selectedRange:t})=>{let n=(0,s.useMemo)(()=>{let n={...e};return t&&(n.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),n},[e,t]);return(0,i.jsxs)(o.W,{children:[(0,i.jsx)(o.W.Anchor,{children:(0,i.jsxs)(l.l.Item,{children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.CopilotIcon,{})}),"Copilot"]})}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsxs)(l.l,{children:[(0,i.jsx)(c.t,{fileDiffReference:n,eventContext:{prx:!0}}),(0,i.jsx)(u.e,{fileDiffReference:n,eventContext:{prx:!0}}),(0,i.jsx)(d.i,{fileDiffReference:n,eventContext:{prx:!0}})]})})]})};try{h.displayName||(h.displayName="CopilotDiffChatContextMenu")}catch{}try{m.displayName||(m.displayName="MenuItemError")}catch{}try{p.displayName||(p.displayName="MenuItemLoading")}catch{}try{g.displayName||(g.displayName="BaseCopilotDiffChatContextMenu")}catch{}},79476:(e,t,n)=>{n.d(t,{B:()=>p,x:()=>f});var i=n(74848),r=n(91160),l=n(44196),a=n(96540),o=n(18312),s=n(54371);let d=n(45307),c=n(53706),u=n(71324),f=({children:e})=>{let{viewer:t}=(0,o.useLazyLoadQuery)(d,{});return t.isCopilotDotcomChatEnabled?(0,i.jsx)(i.Fragment,{children:e}):null},h=({Component:e,componentProps:t,queryVariables:n})=>{let{pullRequest:l}=(0,o.useLazyLoadQuery)(c,n),{diffEntry:a}=(0,o.useLazyLoadQuery)(u,n);(0,r.M)(l?.comparison),(0,r.M)(a);let d=(0,s.Kf)(l.comparison,a);return d?(0,i.jsx)(e,{fileDiffReference:d,...t}):null},m=({Component:e,componentProps:t,referenceData:n,queryVariables:l})=>{let{pullRequest:a}=(0,o.useLazyLoadQuery)(c,l);(0,r.M)(a?.comparison);let d=(0,s.hQ)(a?.comparison,n);return d?(0,i.jsx)(e,{fileDiffReference:d,...t}):null},p=({Component:e,componentProps:t,errorFallback:n=null,suspenseFallback:r=null,...o})=>(0,i.jsx)(l.t,{fallback:n,children:(0,i.jsx)(a.Suspense,{fallback:r,children:(0,i.jsx)(f,{children:o.referenceData?(0,i.jsx)(m,{Component:e,componentProps:t,referenceData:o.referenceData,queryVariables:o.queryVariables}):(0,i.jsx)(h,{Component:e,componentProps:t,queryVariables:o.queryVariables})})})});try{f.displayName||(f.displayName="CopilotCodeChatAccessLoader")}catch{}try{h.displayName||(h.displayName="CopilotCodeChatReferenceLoader")}catch{}try{m.displayName||(m.displayName="CopilotCodeChatComparisonLoader")}catch{}try{p.displayName||(p.displayName="DiffChatWrapper")}catch{}},78017:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(74848),r=n(822),l=n(51848),a=n(54156),o=n(17909);let s=({fileDiffReference:e,eventContext:t,afterSelect:n})=>{let{addToast:s}=(0,a.Y6)();return(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,r.Oc)(e),s({message:"Reference added to thread",type:"success"}),(0,l.BI)("copilot.file-diff.add",t),n?.()},children:"Attach to current thread"})};try{s.displayName||(s.displayName="DiffLinesAttachMenuItem")}catch{}},23246:(e,t,n)=>{n.d(t,{t:()=>s});var i=n(74848),r=n(822),l=n(89426),a=n(51848),o=n(17909);let s=({fileDiffReference:e,leadingVisual:t,eventContext:n,afterSelect:s})=>(0,i.jsxs)(o.l.Item,{onSelect:()=>{(0,r.qR)({intent:l.wh.conversation,references:[e]}),(0,a.BI)("copilot.file-diff.discuss",n),s?.()},children:[t&&(0,i.jsx)(o.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{s.displayName||(s.displayName="DiffLinesDiscussMenuItem")}catch{}},39037:(e,t,n)=>{n.d(t,{e:()=>s});var i=n(74848),r=n(822),l=n(89426),a=n(51848),o=n(17909);let s=({fileDiffReference:e,eventContext:t,afterSelect:n})=>(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,r.qR)({content:"Explain",intent:l.wh.explainFileDiff,references:[e]}),(0,a.BI)("copilot.file-diff.explain",t),n?.()},children:"Explain"});try{s.displayName||(s.displayName="DiffLinesExplainMenuItem")}catch{}},48058:(e,t,n)=>{n.d(t,{Fv:()=>m,kF:()=>p,F7:()=>h});var i=n(74848),r=n(59857),l=n(44981),a=n(281),o=n(87330),s=n(38553),d=n(17909),c=n(96540),u=n(20053);let f={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP"},h="No extension";function m({filterText:e,onFilterTextChange:t}){return(0,i.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,i.jsx)(l.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",value:e,onChange:e=>t?.(e.target.value)}),(0,i.jsxs)(a.W,{children:[(0,i.jsx)(a.W.Anchor,{children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:r.SlidersIcon,className:"flex-shrink-0"})}),(0,i.jsx)(a.W.Overlay,{className:(0,u.A)(f.filterLoadingHeight),children:(0,i.jsx)("div",{className:(0,u.A)("d-flex","flex-column","flex-justify-center","flex-items-center",f.filterLoadingHeight),children:(0,i.jsx)(s.A,{size:"medium"})})})]})]})}function p({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:s,onFilterChange:u,additionalFilterGroups:f}){let[m,p]=(0,c.useState)(e),g=(e,t)=>{u?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},x=Array.from(n||[]).filter(e=>e!==h).sort(),y=e=>!s?.has(e),b=n?.has(h);return(0,i.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,i.jsx)(l.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",value:m,onChange:e=>{p(e.target.value),t?.(e.target.value)}}),(0,i.jsxs)(a.W,{children:[(0,i.jsx)(a.W.Anchor,{children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:r.SlidersIcon,className:"flex-shrink-0"})}),(0,i.jsx)(a.W.Overlay,{children:(0,i.jsxs)(d.l,{children:[(0,i.jsxs)(d.l.Group,{selectionVariant:"multiple",children:[(0,i.jsx)(d.l.GroupHeading,{children:"File extensions"}),x.map(e=>{let t=y(e);return(0,i.jsx)(d.l.Item,{selected:t,onSelect:()=>g(!t,e),children:`${e}`},e)}),b&&(0,i.jsx)(d.l.Item,{selected:y(h),onSelect:()=>g(!y(h),h),children:h},h)]}),f]})})]})]})}try{m.displayName||(m.displayName="FileFilterLoading")}catch{}try{p.displayName||(p.displayName="FileFilterShared")}catch{}},6102:(e,t,n)=>{n.d(t,{E:()=>N});var i=n(74848),r=n(59857),l=n(64515),a=n(6185),o=n(55847),s=n(87330),d=n(281),c=n(17909),u=n(96540),f=n(97177),h=n(27267),m=n(78896),p=n(64553),g=n(47765),x=n(19145),y=n(27621);let b={position:"absolute",right:"-16px",top:"0px",zIndex:2},v="24px",C="30px",N=(0,u.forwardRef)(function({authorAvatarUrl:e,authorLogin:t,cellId:n,cellRef:N,showStartConversation:j,hasDraftComment:k,copilotChatReferenceData:w},L){let S=(0,u.useRef)(null),D=(0,u.useRef)(null),{commentingEnabled:E}=(0,f.y)(),{diffLine:A,isRowSelected:I}=(0,h.s)(),R=(0,u.useRef)(null),T=S.current?S:D;(0,l.T)(L,T);let F=A.threadsData?.totalCommentsCount||0,M=A.annotationsData?.totalCount||0,{isActionBarFocused:O,handleActionBarBlur:_,handleActionBarFocusCapture:B,handleActionBarKeydownCapture:H}=(0,p.l)({cellRef:N}),{annotations:P,isContextMenuOpen:$,openMarkerOrListDialogFromActionBar:U,startNewConversationFromActionBar:q,startNewConversationFromActionBarWithSuggestedChange:W,anyMenuOpen:K,threads:V,toggleContextMenu:G,toggleContextMenuFromActionBar:z}=(0,m.e)({cellId:n,actionBarRef:R}),J=(0,u.useCallback)(e=>{I&&e.preventDefault()},[I]);return(0,i.jsx)("div",{"aria-hidden":!O,style:{...b},className:"d-flex flex-row",children:(0,i.jsxs)(a.A,{onBlur:_,onClick:J,onFocusCapture:B,onKeyDownCapture:H,children:[E&&(0,i.jsxs)(i.Fragment,{children:[F+M>0&&(0,i.jsx)(o.Q,{ref:S,"aria-expanded":K,"aria-label":"View conversations",size:"small",sx:{pt:0,pb:0,px:1,height:v},onClick:e=>{(1===V.length||1===P.length)&&e.preventDefault(),U()},children:(0,i.jsx)(g.A,{})}),j&&(0,i.jsx)(i.Fragment,{children:k?(0,i.jsx)(o.Q,{"aria-label":"Start conversation (comment in progress)",size:"small",sx:{pt:0,pb:0,px:1,width:C,height:v},onClick:q,children:(0,i.jsx)(y.f,{authorAvatarUrl:e,authorLogin:t})}):(0,i.jsx)(s.K,{unsafeDisableTooltip:!0,"aria-label":"Start conversation",ref:D,icon:r.PlusIcon,size:"small",sx:{width:C,height:v,color:"fg.muted"},onClick:q})})]}),(0,i.jsx)(s.K,{unsafeDisableTooltip:!0,ref:R,"aria-haspopup":"true","aria-label":"More actions",icon:r.TriangleDownIcon,size:"small",sx:{width:v,height:v,color:"fg.muted"},onClick:z}),(0,i.jsx)(d.W,{anchorRef:R,open:$,onOpenChange:G,children:(0,i.jsx)(d.W.Overlay,{width:"medium",children:(0,i.jsx)(c.l,{children:(0,i.jsx)(x.Bv,{copilotChatReferenceData:w,showStartConversation:j,handleViewMarkersSelection:U,startConversationCurrentLine:q,startConversationWithSuggestedChange:W})})})})]})})});N.displayName="ActionBar"},47765:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(74848),r=n(20053),l=n(22868),a=n(90305),o=n(69909),s=n(83994),d=n(96540),c=n(15570),u=n(27267),f=n(97177);function h({shouldAnimateRef:e}){let{diffLine:t}=(0,u.s)(),{ghostUser:n}=(0,f.y)();(0,d.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let h=(t.threadsData?.totalCommentsCount||0)+(t.annotationsData?.totalCount||0);if(0===h)return null;let m={},p=[];t.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&p.push({id:e.id,level:e.annotationLevel})}),t.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?m[e?.author.login]=e.author:n?.login&&(m[n.login]=n)}));let g=[...p.sort((e,t)=>(s.GF[e.level]?.priority||0)<(s.GF[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(s.S,{annotationLevel:t.level},t.id):(0,i.jsx)(s.Xh,{annotationLevel:t.level},t.id)),...Object.keys(m).map(e=>{let t=m[e]?.login,r=m[e]?.avatarUrl??(n?.avatarUrl||" ");return(0,i.jsx)(l.r,{alt:t,size:20,src:r},t)})].slice(0,3),x=h>9?"9+":`${h}`;return(0,i.jsxs)("div",{className:(0,r.A)("d-flex","flex-justify-between","flex-items-center",c.A.commentIndicatorContainer),children:[(0,i.jsx)(a.A,{disableExpand:!0,sx:{maxWidth:"40px","--avatar-stack-three-plus-min-width":"32px"},children:g}),(0,i.jsx)(o.A,{sx:{color:"fg.default",ml:1,fontSize:0,fontWeight:400,fontVariantNumeric:"tabular-nums",width:"2ch",textAlign:"start"},children:x})]})}try{h.displayName||(h.displayName="CommentIndicator")}catch{}},72360:(e,t,n)=>{n.d(t,{q:()=>p});var i=n(74848),r=n(62353),l=n(59857),a=n(69909),o=n(85053),s=n(87330),d=n(44981),c=n(30729),u=n(96540),f=n(20053),h=n(58323),m=n(90600);let p=(0,u.memo)(function({inputContainer:e,currentPathDigestIndex:t,stickied:n,searchTerm:p,searchResults:g,setSearchTerm:x,focusedSearchResult:y,currentIndex:b,setCurrentIndex:v,setFocusedSearchResult:C,onClose:N,scrollDiffCellIntoView:j}){let{findInFileShortcut:k}=(0,r.wk)(),[w,L]=(0,u.useState)(!0),S=(0,u.useRef)([]),D=(0,u.useRef)(0),E=()=>{x(""),C(void 0),t.current=0},A=e=>{if(void 0===y||""===y.pathDigest){t.current=0,C({pathDigest:S.current[0]??"",indexWithinDigest:0});return}1===e?(v(b===D.current-1?0:b+1),y.indexWithinDigest===g.get(y.pathDigest).length-1?(t.current=t.current+1,t.current===S.current.length&&(t.current=0),y.pathDigest=S.current[t.current]??"",y.indexWithinDigest=0):y.indexWithinDigest=y.indexWithinDigest+1):(v(0===b?D.current-1:b-1),0===y.indexWithinDigest?(t.current=t.current-1,-1===t.current&&(t.current=S.current.length-1),y.pathDigest=S.current[t.current]??"",y.indexWithinDigest=g.get(y.pathDigest).length-1):y.indexWithinDigest=y.indexWithinDigest-1),C(y)};return(0,u.useEffect)(()=>{e.current?.focus(),e.current?.select()},[e]),(0,u.useEffect)(()=>{S.current=Array.from(g.keys()),t.current=0,C({pathDigest:S.current[0]??"",indexWithinDigest:0});let e=0;for(let t of g.values())e+=t.length;D.current=e},[t,g,g.size,C]),(0,u.useEffect)(()=>{g.size>0&&void 0!==y&&j(y)},[g,y,b]),(0,i.jsxs)("div",{className:(0,f.A)(h.A.defaultStyles,n&&h.A.stickyStyles,!n&&h.A.notStickyStyles),children:[(0,i.jsx)(m.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>A(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>A(-1),"pull-requests-diff-view:close-find":N}}),(0,i.jsxs)(m.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>A(1),"pull-requests-diff-view:jump-to-previous-result":()=>A(-1)},children:[(0,i.jsxs)("div",{className:"py-2 pl-3 pr-2 d-flex flex-justify-center flex-items-center flex-row f6 borderColor-default border-bottom",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-baseline",children:[(0,i.jsx)(a.A,{as:"h5",className:"fgColor-default pr-2 text-bold",children:"Find"}),(0,i.jsxs)(a.A,{className:(0,f.A)("find-text-help-tooltip","fgColor-subtle",w&&h.A.visibilityVisible,!w&&h.A.visibilityHidden),children:["Press ",(0,i.jsx)(o.A,{children:k.text})," again to open the browser's find menu"]})]}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsx)(s.K,{unsafeDisableTooltip:!0,variant:"invisible",size:"small",onClick:N,icon:l.XIcon,className:"fgColor-subtle","aria-label":"Close find in file"})]}),(0,i.jsx)("div",{className:"pl-2 pr-2 pt-2 pb-2",children:(0,i.jsx)(d.A,{ref:e,className:"pl-1 border-0 box-shadow-none",validationStatus:D.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,i.jsx)(c.A,{icon:l.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in file input",placeholder:"Search this diff",value:p,block:!0,onChange:e=>{e.target.value?(L(!1),x(e.target.value),v(0)):(L(!0),E())},trailingAction:(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[(0,i.jsxs)(a.A,{className:"text-small fgColor-subtle m-2 text-center",children:[0===g.size||void 0===y?0:b+1,"/",D.current]}),(0,i.jsx)(s.K,{unsafeDisableTooltip:!0,size:"small",variant:"invisible",onClick:()=>{A(-1)},icon:l.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search",className:"fgColor-subtle"}),(0,i.jsx)(s.K,{unsafeDisableTooltip:!0,size:"small",variant:"invisible",onClick:()=>{A(1)},icon:l.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search",className:"fgColor-subtle"})]}),onKeyDown:t=>{(t.metaKey||t.ctrlKey)&&("f"===t.key||"F"===t.key)&&(w?N():(L(!0),t.preventDefault(),e.current?.focus(),e.current?.select()))}})})]})]})});try{p.displayName||(p.displayName="DiffFindPopover")}catch{}},75231:(e,t,n)=>{n.d(t,{p:()=>o});var i=n(74848),r=n(69909),l=n(50156),a=n(20053);function o({searchResults:e,focusedSearchResult:t,className:n,styleObject:o}){let s=0,d=e[0]?.text??"",c=e[0]?.diffLineNumIndex??-1,u=`overlay-${c}-${d}`;return(0,i.jsxs)(r.A,{className:(0,a.A)(n,"position-absolute",l.A.userSelectNone,!e[0].isHunk&&l.A.nonHunkStyles),style:{...o},children:[e.map(e=>{var n,o;let c=e.indexWithinPathDigest===t,u=(0,i.jsxs)("span",{children:[(0,i.jsx)(r.A,{className:(0,a.A)(l.A.visibilityHidden,l.A.userSelectNone),children:d.substring(s,e.column)}),(0,i.jsx)(r.A,{className:(0,a.A)(l.A.userSelectNone,c&&l.A.focusedResultStyles,!c&&l.A.nonFocusedResultStyles),children:(0,i.jsx)(r.A,{className:(0,a.A)(!c&&l.A.visibilityHidden),id:(n=e.indexWithinPathDigest,o=e.pathDigest,`match-${o}-${n}`),children:d.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return s=e.columnEnd,u}),(0,i.jsx)(r.A,{className:(0,a.A)(l.A.visibilityHidden,l.A.userSelectNone),children:d.substring(s)})]},u)}try{o.displayName||(o.displayName="DiffHighlightedOverlay")}catch{}},46141:(e,t,n)=>{n.d(t,{A:()=>l,r:()=>r});var i=n(74848);function r(e,t,n){let i=e.threadsData?.totalCount||0,r=t.threadsData?.totalCount||0;if(0===i&&0===r)return;let l=e.threadsData?.threads?.[0]?.commentsData.comments?.[0]?.author?.login||"",a=t.threadsData?.threads?.[0]?.commentsData.comments?.[0]?.author?.login||"",o="";1===i?o=`has conversation started by @${l}.`:i>1&&(o="has conversations.");let s="";1===r?s=`has conversation started by @${a}.`:r>1&&(s="has conversations.");let d="";if("LEFT"===n){let e=`${o.charAt(0).toUpperCase()}${o.slice(1)}`,t=`${s.length>1?"Modified line":""} ${s}`;d=`${e} ${t}`}else{let e=`${s.charAt(0).toUpperCase()}${s.slice(1)}`,t=`${o.length>1?"Original line":""} ${o}`;d=`${e} ${t}`}return d}function l({summary:e}){return""===e?null:(0,i.jsx)("div",{className:"sr-only","data-testid":"pr-diffline-summary",children:e.trimStart().trimEnd()})}try{l.displayName||(l.displayName="DiffLineScreenReaderSummary")}catch{}},19145:(e,t,n)=>{n.d(t,{Bv:()=>x,_g:()=>S,eD:()=>y});var i=n(74848),r=n(19987),l=n(65862),a=n(90600),o=n(59857),s=n(17909),d=n(96540),c=n(97177),u=n(27267),f=n(24361),h=n(50990),m=n(16340),p=n(23247),g=n(90962);function x({showStartConversation:e,copilotChatReferenceData:t,handleViewMarkersSelection:n,startConversationCurrentLine:r,startConversationWithSuggestedChange:l}){return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(g._,{handleStartConversation:r,handleStartConversationWithSuggestedChange:l}),(0,i.jsx)(C,{handleViewMarkersSelection:n}),(0,i.jsx)(b,{copilotChatReferenceData:t}),(0,i.jsx)(w,{}),(0,i.jsx)(v,{}),(0,i.jsx)(a.Vr,{commandId:"pull-requests-diff-view:copy-anchor-link",leadingVisual:(0,i.jsx)(o.LinkIcon,{})}),(0,i.jsx)(L,{}),(0,i.jsx)(S,{})]})}function y(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{}),(0,i.jsx)(v,{})]})}let b=({copilotChatReferenceData:e})=>{let{diffEntryId:t}=(0,u.s)(),{subjectId:n,oldCommitOid:l,newCommitOid:a}=(0,c.y)(),{selectedDiffRowRange:o}=(0,h.o)(),s=(0,d.useMemo)(()=>e&&n&&l&&a?{referenceData:e,queryVariables:{pullRequestId:n,startOid:l,endOid:a}}:t&&n&&l&&a?{queryVariables:{diffEntryId:t,pullRequestId:n,startOid:l,endOid:a}}:void 0,[t,a,l,n,e]);return s?(0,i.jsx)(r.w,{selectedRange:o,...s}):null};function v(){let{fileAnchor:e}=(0,u.s)();return(0,i.jsxs)(s.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(s.l.LeadingVisual,{children:(0,i.jsx)(o.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(s.l.TrailingVisual,{children:(0,i.jsx)(l.z,{keys:"Mod+a"})})]})}function C({handleViewMarkersSelection:e}){let{commentingEnabled:t}=(0,c.y)(),{isSplit:n}=(0,u.s)();return t?n?(0,i.jsx)(N,{handleViewMarkersSelection:e}):(0,i.jsx)(j,{onSelect:()=>e()}):null}function N({handleViewMarkersSelection:e}){let{originalLineHasThreads:t,modifiedLineHasThreads:n,isLeftSide:r}=(0,u.s)(),{annotations:l}=(0,f._)(),a=l.length>0;return r?(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(k,{text:"View markers",onSelect:()=>e("LEFT")}),(n||a)&&(0,i.jsx)(k,{text:"View markers, modified line",onSelect:()=>e("RIGHT")})]}):(0,i.jsxs)(i.Fragment,{children:[(n||a)&&(0,i.jsx)(k,{text:"View markers",onSelect:()=>e("RIGHT")}),t&&(0,i.jsx)(k,{text:"View markers, original line",onSelect:()=>e("LEFT")})]})}function j({onSelect:e}){let{ghostUser:t}=(0,c.y)(),{diffLine:n}=(0,u.s)(),{annotations:r}=(0,f._)();return n&&(0,m.F)(n.threadsData,t).length>0||r.length>0?(0,i.jsx)(k,{text:"View markers",onSelect:()=>e()}):null}function k({onSelect:e,text:t}){return(0,i.jsxs)(s.l.Item,{onSelect:e,children:[(0,i.jsx)(s.l.LeadingVisual,{children:(0,i.jsx)(o.CommentDiscussionIcon,{})}),t]})}function w(){return(0,i.jsx)("div",{onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:(0,i.jsx)(a.Vr,{commandId:"pull-requests-diff-view:copy-code",leadingVisual:(0,i.jsx)(o.CopyIcon,{})})})}function L(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=(0,p.A)();return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(a.Vr,{commandId:"pull-requests-diff-view:expand-hunk-up",leadingVisual:(0,i.jsx)(o.FoldUpIcon,{})}),t&&(0,i.jsx)(a.Vr,{commandId:"pull-requests-diff-view:expand-hunk-down",leadingVisual:(0,i.jsx)(o.FoldDownIcon,{})})]})}function S(){let{previousHunk:e,nextHunk:t}=(0,u.s)(),{fileAnchor:n}=(0,u.s)();return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(s.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(s.l.LeadingVisual,{children:(0,i.jsx)(o.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(s.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,i.jsxs)(s.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(s.l.LeadingVisual,{children:(0,i.jsx)(o.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(s.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{x.displayName||(x.displayName="CellContextMenu")}catch{}try{y.displayName||(y.displayName="EmptyCellContextMenu")}catch{}try{b.displayName||(b.displayName="CopilotListItems")}catch{}try{v.displayName||(v.displayName="SelectAllListItem")}catch{}try{C.displayName||(C.displayName="ViewMarkerListItems")}catch{}try{N.displayName||(N.displayName="SplitDiffMarkersListItems")}catch{}try{j.displayName||(j.displayName="UnifiedDiffMarkerListItem")}catch{}try{k.displayName||(k.displayName="MarkerListItem")}catch{}try{w.displayName||(w.displayName="CopyContentListItems")}catch{}try{L.displayName||(L.displayName="ExpandHunksListItems")}catch{}try{S.displayName||(S.displayName="JumpToHunkListItems")}catch{}},5242:(e,t,n)=>{n.d(t,{KD:()=>H,gG:()=>O,hA:()=>B,wo:()=>_});var i=n(74848),r=n(42516),l=n(38510),a=n(88234),o=n(22084),s=n(90600),d=n(83296),c=n(59857),u=n(20053),f=n(96540),h=n(97177),m=n(27267),p=n(24361),g=n(50990),x=n(9393),y=n(78896),b=n(7370),v=n(64553),C=n(23247),N=n(63681),j=n(52019),k=n(6102),w=n(47765),L=n(19145),S=n(27621),D=n(281),E=n(17909),A=n(75231),I=n(46141);function R(e){let{rowId:t}=(0,m.s)();if(t)return(0,x.u6)(t,e)}function T(e,t){let{selectedDiffRowRange:n}=(0,g.o)();return(0,f.useMemo)(()=>{let i="Add a comment to",r=!!n&&n.startLineNumber!==n.endLineNumber;if(n&&r){let e={left:"L",right:"R"},t=e[n.startOrientation],r=e[n.endOrientation];i+=n.startLineNumber!==n.endLineNumber?` lines ${t}${n.startLineNumber} to ${r}${n.endLineNumber}`:` line ${t}${n.startLineNumber}`}else{let n=t&&!(0,x.Ji)(e)?"L":"R";i+=` line ${n}${e.blobLineNumber}`}return i},[e,t,n])}let F=(0,f.forwardRef)(function({children:e,ContextMenu:t,className:n,columnIndex:r,handleDiffCellClick:a,handleDiffSideCellSelectionBlocking:o,lineAnchor:c,commentDialogOpen:u,startConversation:h,...p},y){let{diffLine:v,isRowSelected:N,isLeftSide:j,isSplit:k}=(0,m.s)(),w=(0,f.useRef)(null);(0,f.useImperativeHandle)(y,()=>w.current,[]);let[L,S]=(0,f.useState)(!1),{clearSelectedDiffRowRange:A,selectedDiffRowRange:I}=(0,g.o)(),{fileAnchor:T,filePath:F}=(0,m.s)(),{expandStartOfHunk:M,expandEndOfHunk:O,expandEndOfPreviousHunk:_}=(0,C.A)(),{getUnifiedDiffLineCode:B,getSplitDiffSingleLineCode:H,getSplitDiffMultiLineCode:P}=(0,b.w)(T),$=(0,f.useRef)(null),U=(0,d.U)(e=>{if(!e.target)return;let t=e.target;!L||$.current?.contains(t)||w.current?.contains(t)||2!==e.button?w.current?.contains(t)&&e.target.closest("button")?.contains(t)&&S(!1):S(!1)});(0,f.useEffect)(()=>{L?document.addEventListener("mousedown",U):document.removeEventListener("mousedown",U)},[U,L]),(0,f.useEffect)(()=>()=>document.removeEventListener("mousedown",U),[]);let q=()=>!!document.getElementById("conversation-dialog"),W=()=>!(u||L||q())&&(!N&&I&&A(),S(!0),!0),K=(0,f.useCallback)(e=>{e.shiftKey&&e.preventDefault(),o?.(e)},[o]);return(0,i.jsxs)(s.tL,{as:"td",commands:{"github:open-context-menu":W,"pull-requests-diff-view:copy-code":()=>{let e=window.getSelection();if(e&&""!==e.toString()){document.execCommand("copy");return}if(k){void 0===I||I?.startOrientation===I?.endOrientation&&I?.startLineNumber===I?.endLineNumber?(0,l.D)(H(j?"left":"right",j?v?.left:v?.right)):(0,l.D)(P(j?"left":"right"));return}(0,l.D)(B())},"pull-requests-diff-view:expand-all-hunks":()=>{let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${F}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))},"pull-requests-diff-view:expand-hunk-up":M,"pull-requests-diff-view:expand-hunk-down":()=>{if(v?.type==="HUNK"){_();return}O()},"pull-requests-diff-view:copy-anchor-link":()=>{let e=(0,x.j2)({line:v,range:I,fileAnchor:T});e&&(0,l.D)(e)},"pull-requests-diff-view:start-conversation-current":h},ref:w,"data-grid-cell-id":R(r),"data-line-anchor":c,"data-selected":N,role:"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:n?`focusable-grid-cell ${n} ${r<3?"left-side":""}`:"focusable-grid-cell",onBlur:e=>e.target.ariaSelected="false",onClick:a,onContextMenu:e=>{W()&&e.preventDefault()},onFocus:e=>e.target.ariaSelected="true",onMouseDown:K,...p,children:[e,t&&L&&(0,i.jsx)(D.W,{anchorRef:w,open:!0,onOpenChange:S,children:(0,i.jsx)(D.W.Overlay,{width:e?"medium":"small",children:(0,i.jsx)(E.l,{children:t})})})]})});function M(){return(0,i.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,i.jsx)(c.KebabHorizontalIcon,{})})}function O({summary:e,searchResultsForLine:t,focusedSearchResult:n,columnIndex:l,lineAnchor:s,handleDiffCellClick:d,handleDiffSideCellSelectionBlocking:c,filePath:b,tabSize:C,copilotChatReferenceData:N}){let{diffLine:D,fileAnchor:E,isLeftSide:M}=(0,m.s)(),{getTextIndent:O,getPaddingLeft:_}=(0,f.useMemo)(()=>(0,a.oW)(D.text,C),[D,C]),[B,H]=(0,x._S)(D.html,D.type),$=H&&["+","-"].includes(H),{isActionBarVisible:U}=(0,p._)(),{selectedDiffRowRange:q,selectedDiffLines:W}=(0,g.o)(),{commentBatchPending:K,commentingEnabled:V,commentingImplementation:G,markerNavigationImplementation:z,repositoryId:J,subjectId:X,subject:Q,viewerData:Y}=(0,h.y)(),{hasPersistedComment:Z}=(0,r.L4)({diffSide:M?"LEFT":"RIGHT",filePath:b,line:D.blobLineNumber,subjectId:X,fileLevelComment:!1}),ee=(0,f.useMemo)(()=>{var e;return e=Y.viewerCanComment,V&&e&&(0,x.a1)(D,W)},[V,Y,D,W]),et=(0,f.useRef)(null),en=(0,f.useRef)(null),ei=(0,x.YY)({shouldAlignRight:Z||!ee}),er=!!D.threadsData?.threads?.length||!!D.annotationsData?.annotations?.length,el=(0,x.S4)({hasThreads:er}),ea=T(D,!!M),eo=R(l),{handleCellBlur:es,handleCellFocus:ed,handleCellMouseEnter:ec,handleCellMouseLeave:eu}=(0,v.l)({cellRef:en}),{annotations:ef,isNewConversationDialogOpen:eh,shouldStartNewConversationWithSuggestedChange:em,startNewConversation:ep,startNewConversationWithSuggestedChange:eg,openMarkerOrListDialog:ex,selectAnnotation:ey,selectThread:eb,isMarkerListDialogOpen:ev,closeNewConversationDialog:eC,closeMarkerListDialog:eN,closeConversationDetailsDialog:ej,returnFocusRef:ek,optimizedSelectedAnnotationId:ew,optimizedSelectedThreadId:eL,threadConnectionId:eS,threads:eD}=(0,y.e)({cellId:eo,actionBarRef:et});(0,f.useEffect)(()=>{if(!z)return;let{activeGlobalMarkerID:e,onActivateGlobalMarkerNavigation:t}=z;if(e){let n=eD.map(e=>e.id),i=ef.map(e=>e.id);n.includes(e)?(eb(e,{skipLineSelection:!0}),t()):i.includes(e)&&(ey(e,{skipLineSelection:!0}),t())}},[eb,eD,z,ef,ey]);let eE=(0,j.S)(G?.suggestedChangesEnabled,D,em),eA=(0,f.useRef)(!0),{ghostUser:eI}=(0,h.y)();return(0,i.jsxs)(F,{ref:en,columnIndex:l,commentDialogOpen:eh,handleDiffCellClick:d,handleDiffSideCellSelectionBlocking:c,lineAnchor:s,startConversation:ep,ContextMenu:(0,i.jsx)(L.Bv,{copilotChatReferenceData:N,showStartConversation:ee,handleViewMarkersSelection:ex,startConversationCurrentLine:ep,startConversationWithSuggestedChange:eg}),className:(0,u.$)(`diff-text-cell ${M?"left-side-diff-cell":"right-side-diff-cell"}`,{"border-right":M&&"HUNK"!==D.type}),style:{backgroundColor:P(D.type,!1),paddingRight:el},onBlur:es,onFocus:ed,onMouseEnter:ec,onMouseLeave:eu,children:[(0,i.jsxs)("code",{className:(0,u.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===D.type,deletion:"DELETION"===D.type}),children:[$&&(0,i.jsx)("span",{className:"diff-text-marker",children:H}),t&&t.length>0&&(0,i.jsx)(A.p,{searchResults:t,focusedSearchResult:n,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===D.type}),styleObject:{paddingLeft:_(),textIndent:O()}}),(0,i.jsx)(o.mo,{html:B,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===D.type}),style:{paddingLeft:_(),textIndent:O()}})]}),U&&(0,i.jsx)(k.E,{copilotChatReferenceData:N,authorAvatarUrl:Y.avatarUrl,authorLogin:Y.login,ref:et,cellId:eo,cellRef:en,hasDraftComment:Z,showStartConversation:ee}),G&&z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.c7,{annotations:ef,batchPending:K,batchingEnabled:G.batchingEnabled,commentingImplementation:{...G,deleteComment:({onCompleted:e,...t})=>{G&&D&&G.deleteComment({...t,onCompleted:()=>{e?.(),eD.length<=1&&(ej(),setTimeout(()=>en.current?.focus()))},filePath:b})}},conversationAnchorRef:en,conversationListAnchorRef:ek,conversationListThreads:eD,fileAnchor:E,filePath:b,isMarkerListOpen:ev,repositoryId:J,returnFocusRef:ek,selectedAnnotationId:ew,selectedThreadId:eL,subjectId:X,subject:Q,suggestedChangesConfig:eE,threadsConnectionId:eS,onCloseConversationDialog:ej,onCloseConversationList:eN,onAnnotationSelected:ey,onThreadSelected:eb,markerNavigationImplementation:z,viewerData:Y,ghostUser:eI}),(0,i.jsx)(r.cT,{addCommentDialogTitle:ea,anchorRef:en,batchPending:K,batchingEnabled:G.batchingEnabled,commentBoxConfig:G.commentBoxConfig,filePath:b,isLeftSide:!!M,isOpen:eh,lineNumber:D.blobLineNumber,repositoryId:J,returnFocusRef:ek,subjectId:X,suggestedChangesConfig:eE,threadsConnectionId:eS,viewerData:Y,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!G||!D)return;let{leftLines:i,rightLines:r}=W;if(q){let e="left"===q.endOrientation?i:r,n=e[e.length-1];n&&(0,x.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}G.addThread({...n,diffLine:D,isLeftSide:M,selectedDiffRowRange:q,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),eb(t)}})},onCloseCommentDialog:eC})]}),!U&&(0,i.jsxs)("div",{"aria-hidden":"true",style:{right:ei},className:"position-absolute top-0 d-flex user-select-none",children:[(0,i.jsx)(w.A,{shouldAnimateRef:eA}),Z&&(0,i.jsx)(S.f,{authorAvatarUrl:Y.avatarUrl,authorLogin:Y.login,sx:{ml:"9px",mt:"2px",height:"20px"}})]}),e&&(0,i.jsx)(I.A,{summary:e})]})}function _({children:e,columnIndex:t,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:l,filePath:a,copilotChatReferenceData:o,...s}){let d=(0,f.useRef)(null),c=R(t),{commentBatchPending:u,commentingEnabled:p,commentingImplementation:b,repositoryId:C,subject:N,subjectId:k,markerNavigationImplementation:w,viewerData:S}=(0,h.y)(),{diffLine:D,fileAnchor:E,isLeftSide:A}=(0,m.s)(),{selectedDiffRowRange:I,selectedDiffLines:M}=(0,g.o)(),O=T(D,!!A),_=(0,f.useMemo)(()=>{var e;return e=S.viewerCanComment,p&&e&&(0,x.a1)(D,M)},[p,S,D,M]),{handleCellBlur:B,handleCellFocus:H,handleCellMouseEnter:$,handleCellMouseLeave:U}=(0,v.l)({cellRef:d}),{ghostUser:q}=(0,h.y)(),{annotations:W,isNewConversationDialogOpen:K,shouldStartNewConversationWithSuggestedChange:V,startNewConversation:G,startNewConversationWithSuggestedChange:z,openMarkerOrListDialog:J,isMarkerListDialogOpen:X,closeConversationDetailsDialog:Q,closeMarkerListDialog:Y,selectAnnotation:Z,selectThread:ee,closeNewConversationDialog:et,returnFocusRef:en,optimizedSelectedThreadId:ei,optimizedSelectedAnnotationId:er,threadConnectionId:el,threads:ea}=(0,y.e)({cellId:c,actionBarRef:d}),eo=(0,j.S)(b?.suggestedChangesEnabled,D,V);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F,{ref:d,className:"diff-line-number",columnIndex:t,commentDialogOpen:K,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:l,startConversation:G,style:{backgroundColor:P(D.type,!0),textAlign:"center"},ContextMenu:(0,i.jsx)(L.Bv,{copilotChatReferenceData:o,showStartConversation:_,handleViewMarkersSelection:J,startConversationCurrentLine:G,startConversationWithSuggestedChange:z}),onBlur:B,onFocus:H,onMouseEnter:$,onMouseLeave:U,...s,children:(0,i.jsx)("code",{children:e})}),b&&w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.c7,{annotations:W,batchPending:u,batchingEnabled:b.batchingEnabled,commentingImplementation:{...b,deleteComment:({onCompleted:e,...t})=>{b&&D&&b.deleteComment({...t,onCompleted:()=>{e?.(),ea.length<=1&&(Q(),setTimeout(()=>d.current?.focus()))},filePath:a})}},conversationAnchorRef:d,conversationListAnchorRef:en,conversationListThreads:ea,fileAnchor:E,filePath:a,isMarkerListOpen:X,repositoryId:C,returnFocusRef:en,selectedAnnotationId:er,selectedThreadId:ei,subjectId:k,subject:N,suggestedChangesConfig:eo,threadsConnectionId:el,markerNavigationImplementation:w,onCloseConversationDialog:Q,onCloseConversationList:Y,onThreadSelected:ee,onAnnotationSelected:Z,viewerData:S,ghostUser:q}),(0,i.jsx)(r.cT,{addCommentDialogTitle:O,align:"start",anchorRef:d,batchPending:u,batchingEnabled:b.batchingEnabled,commentBoxConfig:b.commentBoxConfig,filePath:a,isLeftSide:!!A,isOpen:K,lineNumber:D.blobLineNumber,repositoryId:C,returnFocusRef:en,subjectId:k,suggestedChangesConfig:eo,threadsConnectionId:el,viewerData:S,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!b||!D)return;let{leftLines:i,rightLines:r}=M;if(I){let e="left"===I.endOrientation?i:r,n=e[e.length-1];n&&(0,x.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}b.addThread({...n,diffLine:D,selectedDiffRowRange:I,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),ee(t)}})},onCloseCommentDialog:et})]})]})}function B({ContextMenu:e,renderHunkButton:t,searchResultsForLine:n,focusedSearchResult:r}){let l=(0,f.useRef)(null),[a,s]=function(e){let[t,n]=(0,f.useState)(!1),[i,r]=(0,f.useState)(!1),l=(0,f.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||n(!1)},[e]),a=(0,f.useCallback)(()=>{e.current===document.activeElement&&n(!0)},[e]),o=(0,f.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&n(!1),r(!1)},[e]);return[{onFocus:a,onBlur:l},{"aria-hidden":!i,tabIndex:t?0:-1,onBlur:o,onFocusCapture:(0,f.useCallback)(e=>{e.stopPropagation(),r(!0)},[]),onKeyDownCapture:(0,f.useCallback)(e=>{(0,N.g)(e.key)&&e.stopPropagation()},[])}]}(l),{diffLine:d}=(0,m.s)();return(0,i.jsx)(F,{ref:l,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...a,children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[t?.(s)??(0,i.jsx)(M,{}),(0,i.jsxs)("code",{className:"diff-text-cell hunk",children:[n&&n.length>0&&(0,i.jsx)(A.p,{searchResults:n,focusedSearchResult:r,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===d.type})}),(0,i.jsx)(o.mo,{className:"diff-text-inner color-fg-muted",html:d.html})]})]})})}function H({columnIndex:e,showRightBorder:t}){return(0,i.jsx)(F,{ContextMenu:(0,i.jsx)(L.eD,{}),className:(0,u.$)("empty-diff-line",{"border-right":t}),columnIndex:e})}function P(e,t=!1){switch(e){case"ADDITION":return t?"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg))":"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg))";case"DELETION":return t?"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg))":"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg))";case"HUNK":case"EMPTY":return t?"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg))":"var(--bgColor-accent-muted, var(--color-accent-subtle))";default:return}}try{F.displayName||(F.displayName="Cell")}catch{}try{M.displayName||(M.displayName="HunkKebabIcon")}catch{}try{O.displayName||(O.displayName="ContentCell")}catch{}try{_.displayName||(_.displayName="LineNumberCell")}catch{}try{B.displayName||(B.displayName="HunkCell")}catch{}try{H.displayName||(H.displayName="EmptyCell")}catch{}},73724:(e,t,n)=>{n.d(t,{BD:()=>h,Pd:()=>m});var i=n(74848),r=n(51888),l=n(96540),a=n(5242),o=n(24361),s=n(97177),d=n(27267),c=n(9393);let u=({summary:e,resultsForLine:t,focusedSearchResult:n,handleDiffSideCellSelectionBlocking:r,handleDiffRowClick:c,lineAnchor:u,filePath:f,copilotChatReferenceData:h})=>{let{diffLine:m,isLeftSide:p,isSplit:g}=(0,d.s)(),{viewerData:x}=(0,s.y)(),{tabSizePreference:y}=x,b="ADDITION"!==m.type,v=!g||p,C=v&&!b,N="DELETION"!==m.type,j=!g||!p,k=j&&!N,w=(0,l.useCallback)(e=>{m.left&&c(e,m.left,"left",e.shiftKey)},[c,m.left]),L=(0,l.useCallback)(e=>{m.right&&c(e,m.right,"right",e.shiftKey)},[c,m.right]),S=(0,l.useCallback)(()=>{r&&r("left")},[r]),D=(0,l.useCallback)(()=>{r&&r("right")},[r]);return(0,i.jsxs)(o.M,{line:m,children:[v&&(0,i.jsx)(a.wo,{copilotChatReferenceData:h,columnIndex:0,filePath:f,handleDiffCellClick:C?L:w,handleDiffSideCellSelectionBlocking:D,children:b&&m.left}),j&&(0,i.jsx)(a.wo,{copilotChatReferenceData:h,columnIndex:g?2:1,filePath:f,handleDiffCellClick:k?w:L,handleDiffSideCellSelectionBlocking:S,children:N&&m.right}),(0,i.jsx)(a.gG,{copilotChatReferenceData:h,columnIndex:g?p?1:3:2,filePath:f,handleDiffCellClick:p?w:L,lineAnchor:u,tabSize:y,handleDiffSideCellSelectionBlocking:p?D:S,searchResultsForLine:t,focusedSearchResult:n,summary:e})]})},f=({summary:e,resultsForLine:t,focusedSearchResult:n,fileAnchor:l,filePath:o,handleDiffRowClick:s,handleDiffSideCellSelectionBlocking:u,copilotChatReferenceData:f})=>{let{diffLine:h,isLeftSide:p}=(0,d.s)();if((0,c.Po)(h))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.KD,{columnIndex:p?0:2}),(0,i.jsx)(a.KD,{columnIndex:p?1:3,showRightBorder:p})]});let g=p?"left":(0,r.XU)(h.type),x="left"===g?h.left:h.right,y=(0,r.IQ)(l,g,x??0);switch(h.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(m,{copilotChatReferenceData:f,filePath:o,handleDiffRowClick:s,handleDiffSideCellSelectionBlocking:u,lineAnchor:y,resultsForLine:t,focusedSearchResult:n,summary:e});default:throw Error(`cannot handle type ${h.type}`)}},h=l.memo(f),m=l.memo(u);try{u.displayName||(u.displayName="CodeDiffLineUnmemoized")}catch{}try{f.displayName||(f.displayName="DiffLineSideUnmemoized")}catch{}try{h.displayName||(h.displayName="DiffLineSide")}catch{}try{m.displayName||(m.displayName="CodeDiffLine")}catch{}},16385:(e,t,n)=>{n.d(t,{T:()=>N});var i=n(74848),r=n(63808),l=n(88234),a=n(51888),o=n(86519),s=n(96540),d=n(50990),c=n(9393),u=n(9370),f=n(81904),h=n(47382),m=n(12785),p=n(41955),g=n(97177),x=n(61387),y=n(98576),b=n(20053),v=n(97156);function C({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})}let N=(0,s.memo)(function({searchResults:e,focusedSearchResult:t,diffEntryData:n,diffLinesManuallyUnhidden:N,baseHelpUrl:j,onHandleLoadDiff:k,copilotChatReferenceData:w,...L}){let S=(0,s.useRef)(null),[D,E]=(0,s.useState)(null),A=n.newTreeEntry?.lineCount??n.oldTreeEntry?.lineCount??0,I=(0,s.useMemo)(()=>{let e=n.diffLines[n.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<A?n.diffLines.concat({__id:f.wj.finalLineId,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):n.diffLines},[n.diffLines,A]),{diffViewPreference:R,tabSizePreference:T}=L.viewerData,{selectedDiffRowRange:F,replaceSelectedDiffRowRange:M,replaceSelectedDiffRowRangeFromGridCells:O,clearSelectedDiffRowRange:_,updateDiffLines:B,updateSelectedDiffRowRange:H}=(0,d.o)(),P=`diff-${n.pathDigest}`,$=P===F?.diffAnchor;(0,s.useEffect)(()=>{if(!$)return;let e=(0,c.On)(F,I);e&&e!==F&&M(e)},[I,F,$,M]);let U=v.cg?.location.search,q=(0,s.useMemo)(()=>"split"===new URLSearchParams(U).get("diff")||"split"===R,[U,R]),W=(0,a.c7)(I),K=(0,s.useCallback)(e=>{E(e)},[E]),V=(0,s.useCallback)((e,t,n,i)=>{!(0,x.V)(e.target)&&(e.defaultPrevented||H(P,t,n,i))},[P,H]);if(n.isBinary)return(0,i.jsx)(C,{diffAnchor:P,children:"Binary file not shown."});if((0,r.dK)(n))return(0,i.jsx)(C,{diffAnchor:P,children:"File renamed without changes."});if((0,r.Jc)(n))return(0,i.jsx)(C,{diffAnchor:P,children:"File copied without changes."});if((0,r._$)(n.status,n.oldTreeEntry?.mode,n.newTreeEntry?.mode))return(0,i.jsx)(C,{diffAnchor:P,children:"File mode changed."});if((0,r.HI)(n))return(0,i.jsx)(C,{diffAnchor:P,children:(0,r.l_)(n.truncatedReason)});if((0,r.s8)(n))return(0,i.jsx)(C,{diffAnchor:P,children:"Whitespace-only changes."});if(!N&&(0,r.lO)(n))return(0,i.jsx)(u.A,{onLoadDiff:k,children:"This file was deleted."});if(!N&&(0,r.xW)(n))return(0,i.jsxs)(u.A,{helpText:"customizing how changed files appear on GitHub.",helpUrl:`${j}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:k,children:["Some generated files are not rendered by default. Learn more about"," "]});if(N&&n.isTooBig&&0===n.diffLines.length)return(0,i.jsxs)(C,{diffAnchor:P,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(o.A,{inline:!0,href:`${j}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]});if(!N&&n.isTooBig)return n.diffLines.length>0?(0,i.jsx)(u.A,{onLoadDiff:k,children:"Large diffs are not rendered by default."}):(0,i.jsxs)(C,{diffAnchor:P,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(o.A,{inline:!0,href:`${j}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]});let G={searchResults:e,focusedSearchResult:t,clearSelectedDiffRowRange:_,diffEntryId:n.objectId,diffLines:I,fileAnchor:P,fileLineCount:A,filePath:n.path,handleDiffRowClick:V,handleDiffSideCellSelectionBlocking:K,replaceSelectedDiffRowRangeFromGridCells:O,selectedDiffRowRange:$?F:null,tableRef:S,updateDiffLines:B,updateSelectedDiffRowRange:H,copilotChatReferenceData:w};return n.diffLines?(0,i.jsxs)(g.m,{...L,children:[$&&(0,i.jsx)(h.o,{selectedLineRange:F,tableRef:S}),(0,i.jsx)("table",{ref:S,className:(0,b.A)("tab-size","width-full",y.A.tableLayoutFixed),"data-block-diff-cell-selection":D,"data-diff-anchor":P,"data-tab-size":T,"data-testid":"diff-content","data-paste-markdown-skip":!0,role:"grid",style:{"--line-number-cell-width":`${W}px`},children:q?(0,i.jsx)(l.wj,{lineWidth:W,children:(0,i.jsx)(m.A,{...G})}):(0,i.jsx)(l.Qe,{lineWidth:W,children:(0,i.jsx)(p.A,{...G})})})]}):null});try{C.displayName||(C.displayName="PlainTextStatus")}catch{}try{N.displayName||(N.displayName="DiffLines")}catch{}},46347:(e,t,n)=>{n.d(t,{A:()=>y});var i=n(74848),r=n(20053),l=n(38510),a=n(71312),o=n(59857),s=n(281),d=n(17909),c=n(96540),u=n(27267),f=n(9393),h=n(23247),m=n(19145),p=n(5242),g=n(66924);function x({direction:e,icon:t,label:n,onClick:l,ariaLabel:o,className:s,...d}){let{sendAnalyticsEvent:c}=(0,a.s)();return(0,i.jsx)("button",{onClick:()=>{l(),c("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,r.A)("Button Button--iconOnly Button--invisible",g.A["expand-button-line"],s),"aria-label":o??n,"data-direction":e,...d,children:(0,i.jsx)(t,{})})}function y({nextLine:e,prevLine:t,resultsForLine:n,focusedSearchResult:r}){let{fileLineCount:a,diffLine:s}=(0,u.s)(),{expandStartOfHunk:d,expandEndOfPreviousHunk:m}=(0,h.A)(),y=!t,v=!e,C=0===s.blobLineNumber,N=y||v,j=v&&s.blobLineNumber===a,k=(0,c.useMemo)(()=>!N&&!(s.blobLineNumber<=0)&&(s.blobLineNumber-t.blobLineNumber<=20||e.blobLineNumber-s.blobLineNumber>=20),[N,s,e,t]),w=(0,c.useMemo)(()=>!N&&!j&&s.blobLineNumber-t.blobLineNumber>20,[N,j,s,t]),L=(0,c.useMemo)(()=>!(s.blobLineNumber<=0)&&!C&&!!y,[y,C,s]),S=(0,c.useMemo)(()=>!y&&!j&&!!v,[y,v,j]),D=(0,c.useMemo)(()=>{switch(!0){case k:return"expand-all";case w:return"expand-up-and-down";case L:return"expand-up";case S:return"expand-down"}},[k,w,L,S]),E=()=>d(),A=()=>m(),I=()=>d();return(0,i.jsx)(p.hA,{searchResultsForLine:n,focusedSearchResult:r,renderHunkButton:n=>{switch(D){case"expand-all":return(0,i.jsx)(x,{...n,direction:"all",icon:o.UnfoldIcon,label:`Expand file from line ${t?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:I});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(x,{...n,direction:"down",icon:o.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,className:g.A["expand-up-and-down"],onClick:A}),(0,i.jsx)(x,{...n,direction:"up",icon:o.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:g.A["expand-up-and-down"],onClick:E})]});case"expand-up":return(0,i.jsx)(x,{...n,direction:"up",icon:o.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:E});case"expand-down":return(0,i.jsx)(x,{...n,direction:"down",icon:o.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,onClick:A});default:return null}},ContextMenu:(0,i.jsx)(b,{handleCopyContent:()=>{let[e]=(0,f._S)((0,f.ZC)(s.html),s.type);(0,l.D)(e)},handleExpandAbove:E,handleExpandAll:I,handleExpandBelow:A,shouldCopyContent:!!s.html,shouldExpandAbove:w||L,shouldExpandBelow:w||S})})}function b({shouldExpandBelow:e,shouldExpandAbove:t,shouldCopyContent:n,handleExpandAll:r,handleExpandBelow:l,handleExpandAbove:a,handleCopyContent:c}){let u={includeShiftKey:!0,key:"["},h={key:"]"},p={key:"["},g={key:"C"};return(0,i.jsx)(s.W.Overlay,{width:"medium",children:(0,i.jsxs)(d.l,{children:[(0,i.jsxs)(d.l.Item,{"aria-keyshortcuts":(0,f.oE)(u),onSelect:r,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(o.UnfoldIcon,{})}),"Expand all",(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,f.pI)(u)}`})})]}),t?(0,i.jsxs)(d.l.Item,{"aria-keyshortcuts":(0,f.oE)(h),onSelect:a,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(o.FoldUpIcon,{})}),"Expand above",(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,f.pI)(h)}`})})]}):null,e?(0,i.jsxs)(d.l.Item,{"aria-keyshortcuts":(0,f.oE)(p),onSelect:l,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(o.FoldDownIcon,{})}),"Expand below",(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,f.pI)(p)}`})})]}):null,(0,i.jsx)(m._g,{}),n?(0,i.jsxs)(d.l.Item,{"aria-keyshortcuts":(0,f.oE)(g),onSelect:c,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(o.CopyIcon,{})}),"Copy",(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,f.pI)(g)}`})})]}):null]})})}try{x.displayName||(x.displayName="ExpandButtonLine")}catch{}try{y.displayName||(y.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{b.displayName||(b.displayName="HunkContextMenu")}catch{}},9370:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(74848),r=n(20053),l=n(55847),a=n(69909),o=n(86519),s=n(23421);function d({children:e,helpText:t,helpUrl:n,onLoadDiff:d}){let c=n&&t;return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted",children:(0,i.jsxs)("div",{className:(0,r.A)(s.A.gridColumnTemplate),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center",children:[(0,i.jsx)(l.Q,{className:"h4 mx-auto",variant:"invisible",onClick:()=>d(),children:"Load Diff"}),(0,i.jsxs)(a.A,{className:"fgColor-muted mt-1",children:[e,c&&(0,i.jsx)(o.A,{inline:!0,href:n,children:t})]})]})]})})}let c=d;try{d.displayName||(d.displayName="HiddenDiffPatch")}catch{}},27621:(e,t,n)=>{n.d(t,{f:()=>a});var i=n(74848),r=n(224),l=n(59857);function a({authorAvatarUrl:e,authorLogin:t,sx:n}){return(0,i.jsx)(r.k,{altText:`${t}'s avatar image with pending indicator`,icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,src:e,backgroundSx:{backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",boxShadow:"0 0 0 .1px var(--bgColor-default, var(--color-canvas-default))"},sx:{alignItems:"center",display:"flex",opacity:.5,...n}})}try{a.displayName||(a.displayName="InProgressCommentIndicator")}catch{}},32612:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(74848),r=n(69759),l=n(22084),a=n(38553);function o({dependencyDiffPath:e,fileRendererInfo:t,proseDiffHtml:n,loading:o}){return o?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(a.A,{size:"large"})}):n?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(l.oG,{html:n})}):t?(0,i.jsx)(r.default,{...t}):e?(0,i.jsx)("include-fragment",{src:e,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(a.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{o.displayName||(o.displayName="RichDiff")}catch{}},47382:(e,t,n)=>{n.d(t,{o:()=>d});var i=n(74848),r=n(20053),l=n(51012),a=n(58748),o=n(96540),s=n(20767);function d({selectedLineRange:e,tableRef:t}){let[n,d]=(0,o.useState)(null),c=(0,o.useCallback)(()=>{if(!t.current)return;let e=t.current.querySelectorAll('td[data-selected="true"]');if(0===e.length){d(null);return}let n=(function(e){let t=e.parentNode;for(;null!==t;){if(t instanceof HTMLElement&&"static"!==getComputedStyle(t).position)return t;t=t.parentNode}return document.body})(t.current).getBoundingClientRect(),i=0,r=Number.MAX_SAFE_INTEGER,l=0,a=Number.MAX_SAFE_INTEGER;for(let t of e){let e=t.getBoundingClientRect();i=Math.max(i,e.bottom-n.top),r=Math.min(r,e.left-n.left),l=Math.max(l,e.right-n.left),a=Math.min(a,e.top-n.top)}d({left:r-1,height:i-a+2,top:a-1,width:l-r+2})},[t]);return((0,l.N)(()=>{c()},[e,t,c]),(0,a.w)(c,t),n)?(0,i.jsx)("div",{className:(0,r.A)("position-absolute","borderColor-accent-emphasis",s.A.overlay),style:n,children:(0,i.jsx)("div",{className:(0,r.A)("width-full","height-full","bgColor-accent-emphasis",s.A.overlayOpacity)})}):null}try{d.displayName||(d.displayName="SelectedDiffLinesOverlay")}catch{}},12785:(e,t,n)=>{n.d(t,{A:()=>x});var i=n(74848),r=n(96540),l=n(27267),a=n(16340),o=n(77321),s=n(81904),d=n(9393),c=n(63681),u=n(6024),f=n(73724),h=n(46347),m=n(97177),p=n(46141);let g=(0,r.memo)(function({searchResults:e,focusedSearchResult:t,clearSelectedDiffRowRange:n,diffEntryId:g,diffLines:x,fileAnchor:y,fileLineCount:b,filePath:v,handleDiffRowClick:C,handleDiffSideCellSelectionBlocking:N,replaceSelectedDiffRowRangeFromGridCells:j,selectedDiffRowRange:k,tableRef:w,updateDiffLines:L,updateSelectedDiffRowRange:S,copilotChatReferenceData:D}){let{leftLines:E,rightLines:A}=function(e){let t=e.reduce((e,t)=>e+(t.threadsData?.totalCount??0),0)??0,{leftLines:n,rightLines:i}=(0,r.useMemo)(()=>(function(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(u.V);for(;n.length<t.length;)n.push(u.V)};for(let r of e)switch(r.type){case"ADDITION":n.push(r);break;case"DELETION":t.push(r);break;case"CONTEXT":case"INJECTED_CONTEXT":i();let[e,l]=function(e){let t=e.threadsData?.threads?.filter(e=>e?.diffSide==="LEFT")??null,n={...e,threadsData:{...e.threadsData,threads:t,totalCommentsCount:t?.reduce((e,t)=>e+(t?.commentsData?.totalCount??0),0)??0,totalCount:t?.length??0},annotationsData:{totalCount:0,annotations:[]}},i=e.threadsData?.threads?.filter(e=>e?.diffSide==="RIGHT")??null;return[n,{...e,threadsData:{...e.threadsData,threads:i,totalCommentsCount:i?.reduce((e,t)=>e+(t?.commentsData?.totalCount??0),0)??0,totalCount:i?.length??0}}]}(r);t.push(e),n.push(l);break;case"HUNK":i(),t.push(r),n.push(r)}return i(),{leftLines:t,rightLines:n}})(e),[e,t]);return{leftLines:n,rightLines:i}}(x),{ghostUser:I}=(0,m.y)();(0,c.e)({clearSelectedDiffRowRange:n,containerRef:w,fileAnchor:y,isSplitDiff:!0,leftLines:E,replaceSelectedDiffRowRangeFromGridCells:j,rightLines:A,selectedDiffRowRange:k,updateSelectedDiffRowRange:S});let R=(0,r.useMemo)(()=>{if(k)return(0,o.A)({selectedDiffRowRange:k,leftLines:E,rightLines:A})},[k,E,A]);(0,r.useEffect)(()=>{L(y,x)},[x,y,L]);let T=(0,r.useMemo)(()=>(0,s.fR)(E),[E]),F=new Map,M=new Map,O=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(F.has(n.leftLineNumber)?F.get(n.leftLineNumber)?.push(n):-1!==n.leftLineNumber&&F.set(n.leftLineNumber,[n]),O.has(n.hunkLineNumber)?O.get(n.hunkLineNumber)?.push(n):n.isHunk&&O.set(n.hunkLineNumber,[n]),M.has(n.rightLineNumber)?M.get(n.rightLineNumber)?.push(n):-1!==n.rightLineNumber&&M.set(n.rightLineNumber,[n]))}let _=[];for(let e=0;e<E.length;e++){let n=E[e],o=A[e],c=E[e-1],u=(0,d.Po)(E[e+1])?A[e+1]:E[e+1],m=(0,d.qK)(n)&&"HUNK"===n.type,x=(0,d.qX)(y,n,o),j=(0,d.Po)(n)?(0,d.Po)(o)?void 0:o:n;if(!j)continue;let k=(0,d.Po)(n)?void 0:n.threadsData,w=(0,d.Po)(o)?void 0:o.threadsData,{currentHunk:L,nextHunk:S,previousHunk:B}=(0,s.Fs)(j,T),H=F.get((0,d.Po)(n)?-2:n.left??-2),P=M.get((0,d.Po)(o)?-2:o.right??-2),$=O.get(j.blobLineNumber),U=$?.[0]?.rightLineNumber===o?.right?t:void 0,q=H?.[0]?.leftLineNumber===n?.left?t:void 0,W=P?.[0]?.rightLineNumber===o?.right?t:void 0,K=(0,p.r)(n,o,"LEFT"),V=(0,p.r)(n,o,"RIGHT"),G=(0,a.F)(w,I),z=(0,a.F)(k,I),J={currentHunk:L,diffEntryId:g,fileAnchor:y,fileLineCount:b,filePath:v,isRowSelected:R?.isRowSelected(n)||R?.isRowSelected(o),modifiedLineThreadsConnectionId:w?.__id,nextHunk:S,originalLineThreadsConnectionId:k?.__id,previousHunk:B,rowId:x,isSplit:!0};_.push((0,i.jsx)(r.Fragment,{children:(0,i.jsx)("tr",{className:"diff-line-row",children:m?(0,i.jsx)(l._,{...J,diffLine:j,modifiedLineThreads:G,originalLineThreads:z,children:(0,i.jsx)(h.A,{nextLine:u,prevLine:c,focusedSearchResult:U,resultsForLine:$})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l._,{...J,diffLine:n,isLeftSide:!0,children:(0,i.jsx)(f.BD,{summary:K,copilotChatReferenceData:D,fileAnchor:y,filePath:v,handleDiffRowClick:C,handleDiffSideCellSelectionBlocking:N,resultsForLine:H,focusedSearchResult:q})}),(0,i.jsx)(l._,{...J,diffLine:o,children:(0,i.jsx)(f.BD,{summary:V,copilotChatReferenceData:D,fileAnchor:y,filePath:v,handleDiffRowClick:C,handleDiffSideCellSelectionBlocking:N,resultsForLine:P,focusedSearchResult:W})})]})})},x))}return(0,i.jsx)(i.Fragment,{children:_})}),x=g;try{g.displayName||(g.displayName="SplitDiffLines")}catch{}},90962:(e,t,n)=>{n.d(t,{_:()=>x});var i=n(74848),r=n(59857),l=n(17909),a=n(96540),o=n(97177),s=n(27267),d=n(50990),c=n(9393),u=n(65862),f=n(90600);let h={left:"L",right:"R"},m="Start conversation",p="Suggest change";function g(e,t,n){let i=n&&!(0,c.Ji)(t)?h.left:h.right;return`${e} on line ${i}${t.blobLineNumber}`}function x({handleStartConversationWithSuggestedChange:e,handleStartConversation:t}){let n,x,y;let{selectedDiffRowRange:b,selectedDiffLines:v,replaceSelectedDiffRowRange:C}=(0,d.o)(),{commentingEnabled:N}=(0,o.y)(),{diffLine:j,isLeftSide:k,isSplit:w}=(0,s.s)(),L=(0,a.useMemo)(()=>v.leftLines[0],[v.leftLines]),S=(0,a.useMemo)(()=>v.leftLines[v.leftLines.length-1],[v.leftLines]),D=(0,a.useMemo)(()=>v.leftLines.every(e=>!(0,c.Po)(e)&&"DELETION"!==e.type),[v.leftLines]),E=(0,a.useMemo)(()=>v.rightLines[0],[v.rightLines]),A=(0,a.useMemo)(()=>v.rightLines[v.rightLines.length-1],[v.rightLines]),I=(0,a.useMemo)(()=>0===v.rightLines.length,[v.rightLines]),R=(0,a.useMemo)(()=>0===v.leftLines.length,[v.leftLines]),T=(0,a.useMemo)(()=>!(v.leftLines.find(e=>!(0,c.Po)(e)&&!(0,c.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)||v.rightLines.find(e=>!(0,c.Po)(e)&&!(0,c.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)),[v.leftLines,v.rightLines]),F=(0,a.useCallback)((n,i)=>{!(!b||!S||!L||(0,c.Po)(S)||(0,c.Po)(L))&&L.left&&S.left&&(C({diffAnchor:b.diffAnchor,endLineNumber:S.left,endOrientation:"left",startLineNumber:L.left,startOrientation:"left",firstSelectedLineNumber:L.left,firstSelectedOrientation:"left"}),i?.withSuggestedChange?e():t())},[b,S,L,C,e,t]),M=(0,a.useCallback)((n,i)=>{!(!b||!A||!E||(0,c.Po)(A)||(0,c.Po)(E))&&E.right&&A.right&&(C({diffAnchor:b.diffAnchor,endLineNumber:A.right,endOrientation:"right",startLineNumber:E.right,startOrientation:"right",firstSelectedLineNumber:E.right,firstSelectedOrientation:"right"}),i?.withSuggestedChange?e():t())},[b,A,E,C,e,t]),O=(0,a.useMemo)(()=>!!b&&(b.startOrientation!==b.endOrientation||b.startLineNumber!==b.endLineNumber),[b]);if(!N)return null;let _=!1,B=!1;if(b&&O){let t=h[b.startOrientation],a=h[b.endOrientation];return y=` on lines ${t}${b.startLineNumber}-${a}${b.endLineNumber}`,!(0,c.Po)(L)&&!(0,c.Po)(S)&&L&&S&&(_=!0,n=L.left===S.left?I?` on line L${L.left}`:`, original line L${L.left}`:I?` on lines L${L.left}-L${S.right}`:`, original lines L${L.left}-L${S.left}`),!(0,c.Po)(E)&&!(0,c.Po)(A)&&E&&A&&(B=!0,x=E.right===A.right?R||w&&T?` on line R${E.right}`:`, modified line R${A.right}`:R||w&&T?` on lines R${E.right}-R${A.right}`:`, modified lines R${E.right}-R${A.right}`),(0,i.jsx)(i.Fragment,{children:w?(0,i.jsx)(i.Fragment,{children:T?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.l.Item,{onSelect:M,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusIcon,{})}),m+x,(0,i.jsx)(l.l.TrailingVisual,{children:(0,i.jsx)(u.z,{keys:"Alt+n"})})]}),(0,i.jsxs)(l.l.Item,{onSelect:e=>M(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusCircleIcon,{})}),p+x]})]}):(0,i.jsxs)(i.Fragment,{children:[_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.l.Item,{onSelect:F,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusIcon,{})}),m+n,(0,i.jsx)(l.l.TrailingVisual,{children:(0,i.jsx)(u.z,{keys:I?"Alt+n":"Alt+Shift+N"})})]}),D&&(0,i.jsxs)(l.l.Item,{onSelect:e=>F(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusCircleIcon,{})}),p+n]})]}):null,B?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.l.Item,{onSelect:M,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusIcon,{})}),m+x,(0,i.jsx)(l.l.TrailingVisual,{children:(0,i.jsx)(u.z,{keys:"Alt+n"})})]}),(0,i.jsxs)(l.l.Item,{onSelect:e=>M(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusCircleIcon,{})}),p+x]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)(r.PlusIcon,{}),children:m+y}),"DELETION"!==j.type&&D&&(0,i.jsxs)(l.l.Item,{onSelect:e,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusCircleIcon,{})}),p+y]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)(r.PlusIcon,{}),children:g(m,j,k)}),"DELETION"!==j.type&&(0,i.jsxs)(l.l.Item,{onSelect:e,children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.PlusCircleIcon,{})}),g(p,j,k)]})]})}try{x.displayName||(x.displayName="StartConversationContextMenuItems")}catch{}},41955:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(74848),r=n(51888),l=n(96540),a=n(27267),o=n(77321),s=n(81904),d=n(9393),c=n(63681),u=n(73724),f=n(46347),h=n(46141);let m=(0,l.memo)(function({searchResults:e,focusedSearchResult:t,clearSelectedDiffRowRange:n,diffEntryId:m,diffLines:p,fileLineCount:g,fileAnchor:x,filePath:y,tableRef:b,selectedDiffRowRange:v,handleDiffRowClick:C,updateDiffLines:N,updateSelectedDiffRowRange:j,replaceSelectedDiffRowRangeFromGridCells:k,copilotChatReferenceData:w}){(0,c.e)({clearSelectedDiffRowRange:n,containerRef:b,fileAnchor:x,isSplitDiff:!1,leftLines:p,replaceSelectedDiffRowRangeFromGridCells:k,selectedDiffRowRange:v,updateSelectedDiffRowRange:j});let L=(0,l.useMemo)(()=>{if(v)return(0,o.A)({selectedDiffRowRange:v,leftLines:p})},[v,p]),S=(0,l.useMemo)(()=>(0,s.fR)(p.map(e=>e)),[p]);(0,l.useEffect)(()=>{N(x,p)},[p,x,N]);let D=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(e&&D.has(n.diffLineNumIndex)?D.get(n.diffLineNumIndex)?.push(n):e&&D.set(n.diffLineNumIndex,[n]))}let E=p.map((e,n)=>{let o=p[n+1],c=p[n-1],b="HUNK"===e.type,v=(0,r.IQ)(x,(0,r.XU)(e.type),e.blobLineNumber),{currentHunk:N,nextHunk:j,previousHunk:k}=(0,s.Fs)(e,S),E=D.get(n),A=n===E?.[0]?.diffLineNumIndex?t:void 0,I=(0,h.r)(e,e,"RIGHT"),R=L?.isRowSelected(e),T=(0,d.qX)(x,e,e),F={diffEntryId:m,diffLine:e,currentHunk:N,fileAnchor:x,fileLineCount:g,filePath:y,isLeftSide:"DELETION"===e.type,isSplit:!1,nextHunk:j,previousHunk:k};return(0,i.jsx)(l.Fragment,{children:(0,i.jsx)("tr",{className:"diff-line-row",children:(0,i.jsx)(a._,{...F,isRowSelected:R,rowId:T,children:b?(0,i.jsx)(f.A,{nextLine:o,prevLine:c,focusedSearchResult:A,resultsForLine:E},n):(0,i.jsx)(u.Pd,{filePath:y,copilotChatReferenceData:w,handleDiffRowClick:C,lineAnchor:v,resultsForLine:E,focusedSearchResult:A,summary:I},n)})})},n)});return(0,i.jsx)(i.Fragment,{children:E})}),p=m;try{m.displayName||(m.displayName="UnifiedDiffLines")}catch{}},97177:(e,t,n)=>{n.d(t,{m:()=>o,y:()=>s});var i=n(74848),r=n(26443),l=n(96540);let a=(0,l.createContext)(null);function o({children:e,...t}){let n=!!t.commentingImplementation,o=!!t.markerNavigationImplementation;if(t.commentingEnabled!==n&&t.commentingEnabled!==o)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let s=t?.ghostUser??r.tT.ghostUser,d=(0,l.useMemo)(()=>({ghostUser:s,...t}),[...Object.values(t),s]);return(0,i.jsx)(a.Provider,{value:d,children:e})}function s(){let e=(0,l.useContext)(a);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{a.displayName||(a.displayName="DiffContext")}catch{}try{o.displayName||(o.displayName="DiffContextProvider")}catch{}},68950:(e,t,n)=>{n.d(t,{K:()=>o,c:()=>a});var i=n(74848),r=n(96540);let l=(0,r.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function a({children:e,searchTerm:t,setSearchTerm:n}){let a=(0,r.useRef)(""),[o,s]=(0,r.useState)(!1),d=(0,r.useCallback)(e=>{e&&""===t&&""!==a.current?n(a.current):e||""===t||(a.current=t,n("")),s(e)},[t,n]),c=(0,r.useMemo)(()=>({diffFindOpen:o,setDiffFindOpen:d}),[o,d]);return(0,i.jsx)(l.Provider,{value:c,children:e})}function o(){return(0,r.useContext)(l)}try{l.displayName||(l.displayName="DiffFindOpenContext")}catch{}try{a.displayName||(a.displayName="DiffFindOpenProvider")}catch{}},27267:(e,t,n)=>{n.d(t,{_:()=>a,s:()=>o});var i=n(74848),r=n(96540);let l=(0,r.createContext)(null);function a({children:e,currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:o,fileLineCount:s,filePath:d,isLeftSide:c,isRowSelected:u,isSplit:f,modifiedLineThreads:h,modifiedLineThreadsConnectionId:m,nextHunk:p,originalLineThreads:g,originalLineThreadsConnectionId:x,previousHunk:y,rowId:b}){let v=(0,r.useMemo)(()=>({currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:o,fileLineCount:s,filePath:d,isLeftSide:c,isRowSelected:u,isSplit:f,modifiedLineThreads:h,modifiedLineHasThreads:h&&h.length>0,modifiedLineThreadsConnectionId:m,nextHunk:p,originalLineThreads:g,originalLineHasThreads:g&&g.length>0,originalLineThreadsConnectionId:x,previousHunk:y,rowId:b}),[t,n,a,o,s,d,c,u,f,h,m,p,g,x,y,b]);return(0,i.jsx)(l.Provider,{value:v,children:e})}function o(){let e=(0,r.useContext)(l);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{l.displayName||(l.displayName="DiffLineContext")}catch{}try{a.displayName||(a.displayName="DiffLineContextProvider")}catch{}},24361:(e,t,n)=>{n.d(t,{M:()=>h,_:()=>m});var i=n(74848),r=n(96540),l=n(19255),a=n(16340),o=n(27267),s=n(97177),d=n(35538);let c="thread",u="annotation",f=(0,r.createContext)(null);function h({children:e,line:t}){let[n,a]=(0,r.useState)(!1),[h,m]=(0,r.useState)(),[g,x]=(0,r.useState)(),[y,b]=(0,r.useState)(),[v,C]=(0,r.useState)(),[N,j]=(0,r.useState)(),{ghostUser:k}=(0,s.y)(),{originalLineThreads:w,modifiedLineThreads:L,originalLineThreadsConnectionId:S,modifiedLineThreadsConnectionId:D}=(0,o.s)(),[E,A]=(0,r.useState)(),{threads:I,threadConnectionId:R}=p({line:t,side:E,originalLineThreads:w,modifiedLineThreads:L,originalLineThreadsConnectionId:S,modifiedLineThreadsConnectionId:D,ghostUser:k}),T=(0,r.useMemo)(()=>!!h||!!g||!!y||!!v,[h,y,g,v]),F=(0,r.useCallback)(()=>{a(!0)},[]),M=(0,r.useCallback)(()=>{a(!1)},[]),O=(0,r.useCallback)(e=>{e?j({id:e,kind:c}):j(void 0)},[]),_=N?.kind===c?N.id:void 0,B=N?.kind===u?N.id:void 0,H=(0,r.useCallback)(e=>{e?j({id:e,kind:u}):j(void 0)},[]),P=(0,r.useCallback)((e,t,n)=>{switch((0,l.e)(),e){case"context-menu":m(t),C(void 0),b(void 0),x(void 0);break;case"new-conversation":C({cellId:t,withSuggestedChange:n?.withSuggestedChange}),m(void 0),b(void 0),x(void 0);break;case"marker-details":b(t),m(void 0),x(void 0),C(void 0);break;case"marker-list":x(t),m(void 0),C(void 0),b(void 0)}},[]),$=(0,r.useCallback)(e=>{switch(e){case"context-menu":m(void 0);break;case"new-conversation":C(void 0);break;case"marker-details":b(void 0);break;case"marker-list":x(void 0)}},[]),U=(0,r.useCallback)(e=>(A(e),p({line:t,side:e,modifiedLineThreads:L,modifiedLineThreadsConnectionId:D,originalLineThreads:w,originalLineThreadsConnectionId:S,ghostUser:k}).threads),[t,L,D,w,S,k]),q=(0,r.useMemo)(()=>t.annotationsData?.annotations?.filter(d.z)??[],[t.annotationsData?.annotations]),W=(0,r.useMemo)(()=>({annotations:q,isActionBarVisible:n,showActionBar:F,hideActionBar:M,selectThreadId:O,selectAnnotationId:H,closeDialog:$,openDialog:P,anyMenuOpen:T,selectedThreadId:_,selectedAnnotationId:B,openContextMenuCell:h,openMarkersListCell:g,openMarkerDetailsCell:y,openNewConversationCell:v,threads:I,updateVisibleThreads:U,threadConnectionId:R}),[q,n,F,M,O,H,$,P,T,_,B,h,g,y,v,I,R,U]);return(0,i.jsx)(f.Provider,{value:W,children:e})}function m(){let e=(0,r.useContext)(f);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function p({line:e,side:t,originalLineThreads:n,modifiedLineThreads:i,originalLineThreadsConnectionId:r,modifiedLineThreadsConnectionId:l,ghostUser:o}){switch(t){case"LEFT":return{threads:n||[],threadConnectionId:r};case"RIGHT":return{threads:i||[],threadConnectionId:l};case void 0:return{threads:(0,a.F)(e.threadsData,o),threadConnectionId:e.threadsData?.__id};default:return{threads:[],threadConnectionId:void 0}}}try{f.displayName||(f.displayName="MarkersDialogContext")}catch{}try{h.displayName||(h.displayName="MarkersDialogContextProvider")}catch{}},50990:(e,t,n)=>{n.d(t,{Y:()=>m,o:()=>f});var i=n(74848),r=n(7572),l=n(97156),a=n(96540),o=n(77321),s=n(76515),d=n(30841),c=n(9393);let u=(0,a.createContext)(null);function f(){let e=(0,a.useContext)(u);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function h(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,r.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,r.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function m({children:e}){let t=(0,a.useRef)(new Map),n=(0,d.K)(e=>{if(!e)return;let n=e.diffAnchor,i=t.current.get(n);if(!i)return;let{leftLines:r,rightLines:l}=(0,c.Mk)(i);return(0,o.A)({selectedDiffRowRange:e,leftLines:r,rightLines:l})}),[f,m]=(0,a.useState)(()=>(0,s.ZD)(l.fV.hash)),[p,g]=(0,a.useState)(()=>{if(f){let e=n(f);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),x=(0,d.K)(e=>{let t=n(e);g(t?{leftLines:t.selectedLeftLines,rightLines:t.selectedRightLines||[]}:{leftLines:[],rightLines:[]})}),y=(0,d.K)((e,t,n,i)=>{if(!t||!n)return;let r=i&&f&&f.diffAnchor===e?t<=f.firstSelectedLineNumber?{...f,startLineNumber:t,startOrientation:n,endLineNumber:f.firstSelectedLineNumber,endOrientation:f.firstSelectedOrientation}:{...f,startLineNumber:f.firstSelectedLineNumber,startOrientation:f.firstSelectedOrientation,endLineNumber:t,endOrientation:n}:{diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:t,startOrientation:n,firstSelectedLineNumber:t,firstSelectedOrientation:n};h(r),m(r),x(r),(0,s.i8)(r)}),b=(0,d.K)(e=>{h(e),m(e),x(e),(0,s.i8)(e)}),v=(0,d.K)(({diffAnchor:e,startGridCell:t,endGridCell:n,focusedGridCell:i})=>{b({diffAnchor:e,endLineNumber:n.lineNumber,endOrientation:n.orientation,firstSelectedLineNumber:i.lineNumber,firstSelectedOrientation:i.orientation,startLineNumber:t.lineNumber,startOrientation:t.orientation})}),C=(0,d.K)(()=>{f&&(m(void 0),x(void 0),(0,r.i)("Selection Cleared"),history.replaceState({},"",window.location.pathname+window.location.search))}),N=(0,d.K)((e,n)=>{t.current.set(e,n),f?.diffAnchor===e&&x(f)}),j=(0,d.K)(e=>t.current.get(e)),k=(0,a.useMemo)(()=>({selectedDiffRowRange:f,updateSelectedDiffRowRange:y,clearSelectedDiffRowRange:C,replaceSelectedDiffRowRange:b,replaceSelectedDiffRowRangeFromGridCells:v,updateDiffLines:N,selectedDiffLines:p,getDiffLinesFromLineRange:n,getDiffLinesByDiffAnchor:j}),[f,y,C,b,v,p,N,n,j]);return(0,i.jsx)(u.Provider,{value:k,children:e})}try{u.displayName||(u.displayName="SelectedDiffRowRange")}catch{}try{m.displayName||(m.displayName="SelectedDiffRowRangeContextProvider")}catch{}},69759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(74848),r=n(95140),l=n(65481),a=n(75177),o=n(38553),s=n(69909),d=n(96540),c=n(57442);function u({identityUuid:e,size:t,type:n,url:s}){let[d]=(0,r.I)(()=>window.location.origin,"https://www.github.com",[]),u=new URL(s,d).origin,{renderState:h,errorMsg:m,iFrameRef:p,containerRef:g}=(0,c.Nc)(u);if("ipynb"===n&&t>3e7||t>2e8)return(0,i.jsx)(l.A,{variant:"danger",children:"Sorry, this is too big to display."});let x=h!==c.M_.READY?{height:"1px",width:"1px",position:"fixed",bottom:0,right:0}:{height:"100%",width:"100%"},y={height:c.Uk,padding:0,background:"none"};return(0,i.jsx)(a.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,i.jsxs)(a.A,{"data-hpc":!0,"data-host":u,"data-type":n,ref:g,sx:{width:1024,...h!==c.M_.ERROR?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",lineHeight:"0",padding:5,textAlign:"center"}:{},...h===c.M_.READY?y:{}},children:[h===c.M_.ERROR?(0,i.jsx)(f,{error:m}):h!==c.M_.READY?(0,i.jsx)(o.A,{size:"large",sx:{mx:"auto"}}):null,h!==c.M_.ERROR&&(0,i.jsx)(a.A,{as:"iframe",ref:p,src:`${s}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",sx:{border:0,display:"block",...x},name:e,title:"File display",children:"Viewer requires iframe."})]})})}function f({error:e}){if(!e)return(0,i.jsx)(l.A,{variant:"danger",children:"Unable to render code block"});let t=e.split("\n");return(0,i.jsxs)(l.A,{variant:"danger",children:[(0,i.jsx)(s.A,{as:"p",sx:{fontWeight:"bold"},children:"Error rendering embedded code"}),(0,i.jsx)(s.A,{as:"p",children:t.map((e,t)=>(0,i.jsxs)(d.Fragment,{children:[e,(0,i.jsx)("br",{})]},`error-line-${t}`))})]})}try{u.displayName||(u.displayName="FileRendererBlob")}catch{}try{f.displayName||(f.displayName="FileRendererErrorMessage")}catch{}},42024:(e,t,n)=>{n.d(t,{Gy:()=>i,LB:()=>c,lm:()=>d,nn:()=>u});var i,r=n(74848),l=n(70170),a=n(96540);!function(e){e[e.small=1]="small",e[e.medium=544]="medium",e[e.large=768]="large",e[e.xlarge=1012]="xlarge",e[e.xxlarge=1280]="xxlarge",e[e.xxxlarge=1350]="xxxlarge",e[e.xxxxlarge=1440]="xxxxlarge"}(i||(i={}));let o=[1440,1350,1280,1012,768,544,1],s=a.createContext({screenSize:1});function d(){return a.useContext(s)}function c({children:e,initialValue:t}){let n=(0,a.useSyncExternalStore)(()=>()=>{},()=>t??u(window.innerWidth),()=>t??1),i=(0,a.useRef)(n),[o,d]=(0,a.useState)(n),c=(0,a.useCallback)(()=>{let e=u(window.innerWidth);i.current!==e&&(i.current=e,d(e))},[]);(0,a.useEffect)(()=>{let e=new ResizeObserver((0,l.s)(c));return e.observe(document.documentElement),()=>e.disconnect()},[c]);let f=(0,a.useMemo)(()=>({screenSize:o}),[o]);return(0,r.jsx)(s.Provider,{value:f,children:e})}function u(e){for(let t of o)if(e>=t)return t;return 1}try{s.displayName||(s.displayName="ScreenContext")}catch{}try{c.displayName||(c.displayName="ScreenSizeProvider")}catch{}},224:(e,t,n)=>{n.d(t,{k:()=>o});var i=n(74848),r=n(22868),l=n(75177),a=n(64872);function o({zIndex:e,altText:t,hovercardUrl:n,src:o,square:s,icon:d,iconColor:c,backgroundColor:u,backgroundSx:f,sx:h,size:m=20}){return(0,i.jsxs)(l.A,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...h},children:[(0,i.jsx)(r.r,{alt:t,"data-hovercard-url":n,size:m,square:s,src:o}),(0,i.jsx)(a.k,{icon:d,iconColor:c,size:12,backgroundColor:u,backgroundSx:f})]})}try{o.displayName||(o.displayName="StatusAvatar")}catch{}},64872:(e,t,n)=>{n.d(t,{k:()=>a});var i=n(74848),r=n(75177),l=n(30729);function a({iconColor:e,icon:t,size:n=12,backgroundColor:a="fg.onEmphasis",absolute:o=!0,backgroundSx:s}){let d,c;return 12===n?(d="10px",c="1px"):20===n?(d="16px",c="2px"):(d="16px",c="4px"),(0,i.jsxs)(r.A,{sx:{display:"flex",borderRadius:"100px",...o?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...s},children:[(0,i.jsx)(r.A,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:d,height:d,left:c,top:c,backgroundColor:a}}),(0,i.jsx)(l.A,{icon:t,size:n,sx:{color:e,position:"relative"}})]})}try{a.displayName||(a.displayName="StatusIcon")}catch{}},84735:(e,t,n)=>{n.d(t,{V:()=>d});var i=n(74848),r=n(17909),l=n(96540),a=n(4001),o=n(32807),s=n(23631);let d=(0,l.forwardRef)(({commandId:e,children:t,description:n,leadingVisual:l,trailingVisual:d,...c},u)=>{let f=(0,a.fL)(e),{triggerCommand:h}=(0,o.j)();return f?(0,i.jsxs)(r.l.Item,{...c,onSelect:t=>h(e,t.nativeEvent),ref:u,children:[t??f.name,n&&(0,i.jsx)(r.l.Description,{children:n}),l&&(0,i.jsx)(r.l.LeadingVisual,{children:l}),null!==d&&(0,i.jsx)(r.l.TrailingVisual,{children:d??(0,i.jsx)(s.h,{commandId:e,format:"condensed"})})]}):null});d.displayName="ActionList.CommandItem"},18332:(e,t,n)=>{n.d(t,{c:()=>c});var i,r=n(74848),l=n(55847),a=n(96540),o=n(4001),s=n(32807),d=n(23631);let c=(0,a.forwardRef)(({commandId:e,children:t,trailingVisual:n,showKeybindingHint:i=!1,...a},c)=>{let u=(0,o.fL)(e),{triggerCommand:f}=(0,s.j)();return u?(0,r.jsx)(l.Q,{...a,onClick:t=>f(e,t.nativeEvent),trailingVisual:n??i?()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"sr-only",children:"("}),(0,r.jsx)(d.h,{commandId:e,format:"condensed"}),(0,r.jsx)("span",{className:"sr-only",children:")"})]}):void 0,ref:c,children:t??u.name}):null});c.displayName="CommandButton";try{(i=HintVisual).displayName||(i.displayName="HintVisual")}catch{}},75251:(e,t,n)=>{var i=n(74848),r=n(87330),l=n(96540),a=n(4001),o=n(32807);(0,l.forwardRef)(({commandId:e,"aria-label":t,...n},l)=>{let s=(0,a.fL)(e),{triggerCommand:d}=(0,o.j)();return s?(0,i.jsx)(r.K,{...n,"aria-label":t??s.name,onClick:t=>d(e,t.nativeEvent),ref:l}):null}).displayName="CommandIconButton"},23631:(e,t,n)=>{n.d(t,{h:()=>a});var i=n(74848),r=n(65862),l=n(4001);let a=({commandId:e,...t})=>{let n=(0,l.xJ)(e);return n?(0,i.jsx)(r.z,{keys:n,...t}):null};try{a.displayName||(a.displayName="CommandKeybindingHint")}catch{}},50612:(e,t,n)=>{n.d(t,{a:()=>f,b:()=>u});var i=n(96540),r=n(35311),l=n(4001),a=n(58033),o=n(16646),s=n(8492),d=n(67435);let c="ui-command-trigger";function u(e,t){document.dispatchEvent(new CustomEvent(c,{detail:{commandId:e,domEvent:t}}))}let f=({commands:e})=>{let t=(0,i.useCallback)((t,n)=>{let i=e[t];if(i){let e=new r.k(t);try{i(e)}finally{(0,o.T)(e,n)}}},[e]),n=(0,d.k)(r.J.keys(e),t);return(0,s.A)("global",e),(0,a.J)(e),(0,i.useEffect)(()=>{let e=e=>{let n="detail"in e&&"object"==typeof e.detail?e.detail:void 0;if(!n)return;let i="commandId"in n&&"string"==typeof n.commandId&&l.dx.is(n.commandId)?n.commandId:void 0,r="domEvent"in n&&(n.domEvent instanceof KeyboardEvent||n.domEvent instanceof MouseEvent)?n.domEvent:void 0;i&&r&&t(i,r)};return document.addEventListener("keydown",n),document.addEventListener(c,e),()=>{document.removeEventListener("keydown",n),document.removeEventListener(c,e)}},[n,t]),null};try{f.displayName||(f.displayName="GlobalCommands")}catch{}},48869:(e,t,n)=>{n.d(t,{t:()=>m});var i=n(74848),r=n(98152),l=n(10120),a=n(64515),o=n(96540),s=n(35311),d=n(32807),c=n(58033),u=n(16646),f=n(8492),h=n(67435);let m=(0,o.forwardRef)(({commands:e,as:t="div",...n},m)=>{let p=(0,l.M)(e),g=(0,d.j)(),x=(0,o.useCallback)((e,t)=>{let n=p.current[e];if(n){let i=new s.k(e);try{n(i)}finally{(0,u.T)(i,t)}}else g.triggerCommand(e,t)},[p,g]);(0,f.A)("scoped",e),(0,c.J)(e);let y=(0,o.useMemo)(()=>({triggerCommand:x}),[x]),b=(0,h.k)(s.J.keys(e),x),v=(0,r._)(b),C=(0,o.useRef)(null);return(0,a.T)(m,C),(0,o.useEffect)(()=>{let e=C.current,t=v.onKeyDown;if(e)return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}),(0,i.jsx)(d.F,{value:y,children:(0,i.jsx)(t,{style:"div"!==t?void 0:{display:"contents"},...n,...v,ref:C})})});m.displayName="ScopedCommands"},43750:e=>{e.exports=JSON.parse('{"$":{"commit-diff-view":{"id":"commit-diff-view","name":"Commits diff view","commandIds":["commit-diff-view:open-find","commit-diff-view:create-permalink"]},"github":{"id":"github","name":"GitHub (site-wide)","commandIds":["github:submit-form","github:open-context-menu"]},"issue-viewer":{"id":"issue-viewer","name":"Issue viewer","commandIds":["issue-viewer:edit-parent"]},"item-pickers":{"id":"item-pickers","name":"Item Pickers","commandIds":["item-pickers:open-assignees","item-pickers:open-development","item-pickers:open-labels","item-pickers:open-milestone","item-pickers:open-projects"]},"keyboard-shortcuts-dialog":{"id":"keyboard-shortcuts-dialog","name":"Keyboard Shortcuts Dialog","commandIds":["keyboard-shortcuts-dialog:show-dialog"]},"list-views":{"id":"list-views","name":"List views including lists of issues, pull requests, discussions, and notifications.","commandIds":["list-views:open-manage-item-dialog"]},"projects":{"id":"projects","name":"Projects","commandIds":["projects:save-view"]},"pull-requests-diff-file-tree":{"id":"pull-requests-diff-file-tree","name":"Pull requests - diff file tree","commandIds":["pull-requests-diff-file-tree:focus-file-tree"]},"pull-requests-diff-view":{"id":"pull-requests-diff-view","name":"Pull requests - \'Files changed\' view","commandIds":["pull-requests-diff-view:copy-code","pull-requests-diff-view:expand-all-hunks","pull-requests-diff-view:expand-hunk-up","pull-requests-diff-view:expand-hunk-down","pull-requests-diff-view:copy-anchor-link","pull-requests-diff-view:start-conversation-current","pull-requests-diff-view:jump-to-next-result","pull-requests-diff-view:jump-to-next-result-alternate","pull-requests-diff-view:jump-to-previous-result","pull-requests-diff-view:jump-to-previous-result-alternate","pull-requests-diff-view:open-find","pull-requests-diff-view:close-find"]},"react-sandbox":{"id":"react-sandbox","name":"React Sandbox","commandIds":["react-sandbox:example-command"]},"sub-issues":{"id":"sub-issues","name":"sub-issues","commandIds":["sub-issues:create-sub-issue","sub-issues:add-existing-issue"]}},"P":{"commit-diff-view:create-permalink":{"name":"Create permalink","description":"Hotkey to expand the current url to a full permalink.","defaultBinding":"y"},"commit-diff-view:open-find":{"name":"Open up find and search on selection","description":"Hotkey to open up the custom find and search on selection.","defaultBinding":"Mod+e"},"github:open-context-menu":{"name":"Open context menu","description":"Open a context menu if one is available","defaultBinding":"Alt+Shift+C"},"github:submit-form":{"name":"Submit form","description":"Submit the current form","defaultBinding":"Mod+Enter"},"issue-viewer:edit-parent":{"name":"Edit parent","description":"Edit parent for current issue","defaultBinding":"Alt+Shift+P"},"item-pickers:open-assignees":{"name":"Open assignees panel","description":"Open panel to select assignees","defaultBinding":"a"},"item-pickers:open-development":{"name":"Open development panel","description":"Open panel to create or link a pull request","defaultBinding":"d"},"item-pickers:open-labels":{"name":"Open labels panel","description":"Open panel to select labels","defaultBinding":"l"},"item-pickers:open-milestone":{"name":"Open milestone panel","description":"Open panel to select milestone","defaultBinding":"m"},"item-pickers:open-projects":{"name":"Open projects panel","description":"Open panel to select projects","defaultBinding":"p"},"keyboard-shortcuts-dialog:show-dialog":{"name":"Show Keyboard Shortcuts Dialog","description":"Display the keyboard shortcuts help dialog","defaultBinding":"Shift+?"},"list-views:open-manage-item-dialog":{"name":"Open \'manage item\' dialog","defaultBinding":"Mod+Shift+U","description":"Open a dialog to manage the currently focused item."},"projects:save-view":{"name":"Save view","description":"Save any unsaved changes to the current project view.","defaultBinding":"Mod+s"},"pull-requests-diff-file-tree:focus-file-tree":{"name":"Focus file tree","description":"Move focus to the file tree","defaultBinding":"Mod+F6","featureFlag":"prx"},"pull-requests-diff-view:close-find":{"name":"Close Find","description":"Close the find window","defaultBinding":"Escape"},"pull-requests-diff-view:copy-anchor-link":{"name":"Copy anchor link","description":"Copy link to the current line","defaultBinding":"Mod+Alt+y","featureFlag":"prx"},"pull-requests-diff-view:copy-code":{"name":"Copy code","description":"Copy the code for the current line(s)","defaultBinding":"Mod+c","featureFlag":"prx"},"pull-requests-diff-view:expand-all-hunks":{"name":"Expand all","description":"Expand all hunks in the current file","defaultBinding":"Mod+Shift+ArrowLeft","featureFlag":"prx"},"pull-requests-diff-view:expand-hunk-down":{"name":"Expand below","description":"Expand the current hunk downward","featureFlag":"prx"},"pull-requests-diff-view:expand-hunk-up":{"name":"Expand above","description":"Expand the current hunk upward","featureFlag":"prx"},"pull-requests-diff-view:jump-to-next-result":{"name":"Jump to the next search result","description":"Jump to the next search result","defaultBinding":"Enter"},"pull-requests-diff-view:jump-to-next-result-alternate":{"name":"Jump to the next search result","description":"Jump to the next search result","defaultBinding":"Mod+g"},"pull-requests-diff-view:jump-to-previous-result":{"name":"Jump to the previous search result","description":"Jump to the previous search result","defaultBinding":"Shift+Enter"},"pull-requests-diff-view:jump-to-previous-result-alternate":{"name":"Jump to the previous search result","description":"Jump to the previous search result","defaultBinding":"Mod+Shift+G"},"pull-requests-diff-view:open-find":{"name":"Open up find","description":"Hotkey to open up the custom find.","defaultBinding":"Mod+f"},"pull-requests-diff-view:start-conversation-current":{"name":"Start conversation on line","description":"Start a conversation on the current line","featureFlag":"prx"},"react-sandbox:example-command":{"name":"React Sandbox Example Command","description":"Do something.","defaultBinding":"Mod+Shift+Enter"},"sub-issues:add-existing-issue":{"name":"Add existing issue","description":"Add an existing issue as a sub-issue","defaultBinding":"Alt+Shift+A"},"sub-issues:create-sub-issue":{"name":"Create sub-issue","description":"Create a new sub-issue","defaultBinding":"Alt+Shift+C"}}}')}}]);
//# sourceMappingURL=ui_packages_diff-file-header_diff-file-header_ts-ui_packages_diff-file-tree_diff-file-tree_ts-7f5a83-65728c5d9460.js.map